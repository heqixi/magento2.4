require.config({"config": {
        "jsbuild":{"Magezon_Builder/js/ui-bootstrap-tpls-2.5.0.min.js":"/*\n * angular-ui-bootstrap\n * http://angular-ui.github.io/bootstrap/\n\n * Version: 2.5.0 - 2017-01-28\n * License: MIT\n */angular.module(\"ui.bootstrap\",[\"ui.bootstrap.tpls\",\"ui.bootstrap.collapse\",\"ui.bootstrap.tabindex\",\"ui.bootstrap.accordion\",\"ui.bootstrap.alert\",\"ui.bootstrap.buttons\",\"ui.bootstrap.carousel\",\"ui.bootstrap.dateparser\",\"ui.bootstrap.isClass\",\"ui.bootstrap.datepicker\",\"ui.bootstrap.position\",\"ui.bootstrap.datepickerPopup\",\"ui.bootstrap.debounce\",\"ui.bootstrap.multiMap\",\"ui.bootstrap.dropdown\",\"ui.bootstrap.stackedMap\",\"ui.bootstrap.modal\",\"ui.bootstrap.paging\",\"ui.bootstrap.pager\",\"ui.bootstrap.pagination\",\"ui.bootstrap.tooltip\",\"ui.bootstrap.popover\",\"ui.bootstrap.progressbar\",\"ui.bootstrap.rating\",\"ui.bootstrap.tabs\",\"ui.bootstrap.timepicker\",\"ui.bootstrap.typeahead\"]),angular.module(\"ui.bootstrap.tpls\",[\"uib/template/accordion/accordion-group.html\",\"uib/template/accordion/accordion.html\",\"uib/template/alert/alert.html\",\"uib/template/carousel/carousel.html\",\"uib/template/carousel/slide.html\",\"uib/template/datepicker/datepicker.html\",\"uib/template/datepicker/day.html\",\"uib/template/datepicker/month.html\",\"uib/template/datepicker/year.html\",\"uib/template/datepickerPopup/popup.html\",\"uib/template/modal/window.html\",\"uib/template/pager/pager.html\",\"uib/template/pagination/pagination.html\",\"uib/template/tooltip/tooltip-html-popup.html\",\"uib/template/tooltip/tooltip-popup.html\",\"uib/template/tooltip/tooltip-template-popup.html\",\"uib/template/popover/popover-html.html\",\"uib/template/popover/popover-template.html\",\"uib/template/popover/popover.html\",\"uib/template/progressbar/bar.html\",\"uib/template/progressbar/progress.html\",\"uib/template/progressbar/progressbar.html\",\"uib/template/rating/rating.html\",\"uib/template/tabs/tab.html\",\"uib/template/tabs/tabset.html\",\"uib/template/timepicker/timepicker.html\",\"uib/template/typeahead/typeahead-match.html\",\"uib/template/typeahead/typeahead-popup.html\"]),angular.module(\"ui.bootstrap.collapse\",[]).directive(\"uibCollapse\",[\"$animate\",\"$q\",\"$parse\",\"$injector\",function(a,b,c,d){var e=d.has(\"$animateCss\")?d.get(\"$animateCss\"):null;return{link:function(d,f,g){function h(){r=!!(\"horizontal\"in g),r?(s={width:\"\"},t={width:\"0\"}):(s={height:\"\"},t={height:\"0\"}),d.$eval(g.uibCollapse)||f.addClass(\"in\").addClass(\"collapse\").attr(\"aria-expanded\",!0).attr(\"aria-hidden\",!1).css(s)}function i(a){return r?{width:a.scrollWidth+\"px\"}:{height:a.scrollHeight+\"px\"}}function j(){f.hasClass(\"collapse\")&&f.hasClass(\"in\")||b.resolve(n(d)).then(function(){f.removeClass(\"collapse\").addClass(\"collapsing\").attr(\"aria-expanded\",!0).attr(\"aria-hidden\",!1),e?e(f,{addClass:\"in\",easing:\"ease\",css:{overflow:\"hidden\"},to:i(f[0])}).start()[\"finally\"](k):a.addClass(f,\"in\",{css:{overflow:\"hidden\"},to:i(f[0])}).then(k)},angular.noop)}function k(){f.removeClass(\"collapsing\").addClass(\"collapse\").css(s),o(d)}function l(){return f.hasClass(\"collapse\")||f.hasClass(\"in\")?void b.resolve(p(d)).then(function(){f.css(i(f[0])).removeClass(\"collapse\").addClass(\"collapsing\").attr(\"aria-expanded\",!1).attr(\"aria-hidden\",!0),e?e(f,{removeClass:\"in\",to:t}).start()[\"finally\"](m):a.removeClass(f,\"in\",{to:t}).then(m)},angular.noop):m()}function m(){f.css(t),f.removeClass(\"collapsing\").addClass(\"collapse\"),q(d)}var n=c(g.expanding),o=c(g.expanded),p=c(g.collapsing),q=c(g.collapsed),r=!1,s={},t={};h(),d.$watch(g.uibCollapse,function(a){a?l():j()})}}}]),angular.module(\"ui.bootstrap.tabindex\",[]).directive(\"uibTabindexToggle\",function(){return{restrict:\"A\",link:function(a,b,c){c.$observe(\"disabled\",function(a){c.$set(\"tabindex\",a?-1:null)})}}}),angular.module(\"ui.bootstrap.accordion\",[\"ui.bootstrap.collapse\",\"ui.bootstrap.tabindex\"]).constant(\"uibAccordionConfig\",{closeOthers:!0}).controller(\"UibAccordionController\",[\"$scope\",\"$attrs\",\"uibAccordionConfig\",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on(\"$destroy\",function(c){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive(\"uibAccordion\",function(){return{controller:\"UibAccordionController\",controllerAs:\"accordion\",transclude:!0,templateUrl:function(a,b){return b.templateUrl||\"uib/template/accordion/accordion.html\"}}}).directive(\"uibAccordionGroup\",function(){return{require:\"^uibAccordion\",transclude:!0,restrict:\"A\",templateUrl:function(a,b){return b.templateUrl||\"uib/template/accordion/accordion-group.html\"},scope:{heading:\"@\",panelClass:\"@?\",isOpen:\"=?\",isDisabled:\"=?\"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){b.addClass(\"panel\"),d.addGroup(a),a.openClass=c.openClass||\"panel-open\",a.panelClass=c.panelClass||\"panel-default\",a.$watch(\"isOpen\",function(c){b.toggleClass(a.openClass,!!c),c&&d.closeOthers(a)}),a.toggleOpen=function(b){a.isDisabled||b&&32!==b.which||(a.isOpen=!a.isOpen)};var e=\"accordiongroup-\"+a.$id+\"-\"+Math.floor(1e4*Math.random());a.headingId=e+\"-tab\",a.panelId=e+\"-panel\"}}}).directive(\"uibAccordionHeading\",function(){return{transclude:!0,template:\"\",replace:!0,require:\"^uibAccordionGroup\",link:function(a,b,c,d,e){d.setHeading(e(a,angular.noop))}}}).directive(\"uibAccordionTransclude\",function(){function a(){return\"uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]\"}return{require:\"^uibAccordionGroup\",link:function(b,c,d,e){b.$watch(function(){return e[d.uibAccordionTransclude]},function(b){if(b){var d=angular.element(c[0].querySelector(a()));d.html(\"\"),d.append(b)}})}}}),angular.module(\"ui.bootstrap.alert\",[]).controller(\"UibAlertController\",[\"$scope\",\"$element\",\"$attrs\",\"$interpolate\",\"$timeout\",function(a,b,c,d,e){a.closeable=!!c.close,b.addClass(\"alert\"),c.$set(\"role\",\"alert\"),a.closeable&&b.addClass(\"alert-dismissible\");var f=angular.isDefined(c.dismissOnTimeout)?d(c.dismissOnTimeout)(a.$parent):null;f&&e(function(){a.close()},parseInt(f,10))}]).directive(\"uibAlert\",function(){return{controller:\"UibAlertController\",controllerAs:\"alert\",restrict:\"A\",templateUrl:function(a,b){return b.templateUrl||\"uib/template/alert/alert.html\"},transclude:!0,scope:{close:\"&\"}}}),angular.module(\"ui.bootstrap.buttons\",[]).constant(\"uibButtonConfig\",{activeClass:\"active\",toggleEvent:\"click\"}).controller(\"UibButtonsController\",[\"uibButtonConfig\",function(a){this.activeClass=a.activeClass||\"active\",this.toggleEvent=a.toggleEvent||\"click\"}]).directive(\"uibBtnRadio\",[\"$parse\",function(a){return{require:[\"uibBtnRadio\",\"ngModel\"],controller:\"UibButtonsController\",controllerAs:\"buttons\",link:function(b,c,d,e){var f=e[0],g=e[1],h=a(d.uibUncheckable);c.find(\"input\").css({display:\"none\"}),g.$render=function(){c.toggleClass(f.activeClass,angular.equals(g.$modelValue,b.$eval(d.uibBtnRadio)))},c.on(f.toggleEvent,function(){if(!d.disabled){var a=c.hasClass(f.activeClass);a&&!angular.isDefined(d.uncheckable)||b.$apply(function(){g.$setViewValue(a?null:b.$eval(d.uibBtnRadio)),g.$render()})}}),d.uibUncheckable&&b.$watch(h,function(a){d.$set(\"uncheckable\",a?\"\":void 0)})}}}]).directive(\"uibBtnCheckbox\",function(){return{require:[\"uibBtnCheckbox\",\"ngModel\"],controller:\"UibButtonsController\",controllerAs:\"button\",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){return angular.isDefined(b)?a.$eval(b):c}var h=d[0],i=d[1];b.find(\"input\").css({display:\"none\"}),i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.on(h.toggleEvent,function(){c.disabled||a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module(\"ui.bootstrap.carousel\",[]).controller(\"UibCarouselController\",[\"$scope\",\"$element\",\"$interval\",\"$timeout\",\"$animate\",function(a,b,c,d,e){function f(a){for(var b=0;b<p.length;b++)p[b].slide.active=b===a}function g(c,d,g){if(!s){if(angular.extend(c,{direction:g}),angular.extend(p[r].slide||{},{direction:g}),e.enabled(b)&&!a.$currentTransition&&p[d].element&&o.slides.length>1){p[d].element.data(q,c.direction);var h=o.getCurrentIndex();angular.isNumber(h)&&p[h].element&&p[h].element.data(q,c.direction),a.$currentTransition=!0,e.on(\"addClass\",p[d].element,function(b,c){\"close\"===c&&(a.$currentTransition=null,e.off(\"addClass\",b))})}a.active=c.index,r=c.index,f(d),k()}}function h(a){for(var b=0;b<p.length;b++)if(p[b].slide===a)return b}function i(){m&&(c.cancel(m),m=null)}function j(b){b.length||(a.$currentTransition=null)}function k(){i();var b=+a.interval;!isNaN(b)&&b>0&&(m=c(l,b))}function l(){var b=+a.interval;n&&!isNaN(b)&&b>0&&p.length?a.next():a.pause()}var m,n,o=this,p=o.slides=a.slides=[],q=\"uib-slideDirection\",r=a.active,s=!1;b.addClass(\"carousel\"),o.addSlide=function(b,c){p.push({slide:b,element:c}),p.sort(function(a,b){return+a.slide.index-+b.slide.index}),(b.index===a.active||1===p.length&&!angular.isNumber(a.active))&&(a.$currentTransition&&(a.$currentTransition=null),r=b.index,a.active=b.index,f(r),o.select(p[h(b)]),1===p.length&&a.play())},o.getCurrentIndex=function(){for(var a=0;a<p.length;a++)if(p[a].slide.index===r)return a},o.next=a.next=function(){var b=(o.getCurrentIndex()+1)%p.length;return 0===b&&a.noWrap()?void a.pause():o.select(p[b],\"next\")},o.prev=a.prev=function(){var b=o.getCurrentIndex()-1<0?p.length-1:o.getCurrentIndex()-1;return a.noWrap()&&b===p.length-1?void a.pause():o.select(p[b],\"prev\")},o.removeSlide=function(b){var c=h(b);p.splice(c,1),p.length>0&&r===c?c>=p.length?(r=p.length-1,a.active=r,f(r),o.select(p[p.length-1])):(r=c,a.active=r,f(r),o.select(p[c])):r>c&&(r--,a.active=r),0===p.length&&(r=null,a.active=null)},o.select=a.select=function(b,c){var d=h(b.slide);void 0===c&&(c=d>o.getCurrentIndex()?\"next\":\"prev\"),b.slide.index===r||a.$currentTransition||g(b.slide,d,c)},a.indexOfSlide=function(a){return+a.slide.index},a.isActive=function(b){return a.active===b.slide.index},a.isPrevDisabled=function(){return 0===a.active&&a.noWrap()},a.isNextDisabled=function(){return a.active===p.length-1&&a.noWrap()},a.pause=function(){a.noPause||(n=!1,i())},a.play=function(){n||(n=!0,k())},b.on(\"mouseenter\",a.pause),b.on(\"mouseleave\",a.play),a.$on(\"$destroy\",function(){s=!0,i()}),a.$watch(\"noTransition\",function(a){e.enabled(b,!a)}),a.$watch(\"interval\",k),a.$watchCollection(\"slides\",j),a.$watch(\"active\",function(a){if(angular.isNumber(a)&&r!==a){for(var b=0;b<p.length;b++)if(p[b].slide.index===a){a=b;break}var c=p[a];c&&(f(a),o.select(p[a]),r=a)}})}]).directive(\"uibCarousel\",function(){return{transclude:!0,controller:\"UibCarouselController\",controllerAs:\"carousel\",restrict:\"A\",templateUrl:function(a,b){return b.templateUrl||\"uib/template/carousel/carousel.html\"},scope:{active:\"=\",interval:\"=\",noTransition:\"=\",noPause:\"=\",noWrap:\"&\"}}}).directive(\"uibSlide\",[\"$animate\",function(a){return{require:\"^uibCarousel\",restrict:\"A\",transclude:!0,templateUrl:function(a,b){return b.templateUrl||\"uib/template/carousel/slide.html\"},scope:{actual:\"=?\",index:\"=?\"},link:function(b,c,d,e){c.addClass(\"item\"),e.addSlide(b,c),b.$on(\"$destroy\",function(){e.removeSlide(b)}),b.$watch(\"active\",function(b){a[b?\"addClass\":\"removeClass\"](c,\"active\")})}}}]).animation(\".item\",[\"$animateCss\",function(a){function b(a,b,c){a.removeClass(b),c&&c()}var c=\"uib-slideDirection\";return{beforeAddClass:function(d,e,f){if(\"active\"===e){var g=!1,h=d.data(c),i=\"next\"===h?\"left\":\"right\",j=b.bind(this,d,i+\" \"+h,f);return d.addClass(h),a(d,{addClass:i}).start().done(j),function(){g=!0}}f()},beforeRemoveClass:function(d,e,f){if(\"active\"===e){var g=!1,h=d.data(c),i=\"next\"===h?\"left\":\"right\",j=b.bind(this,d,i,f);return a(d,{addClass:i}).start().done(j),function(){g=!0}}f()}}}]),angular.module(\"ui.bootstrap.dateparser\",[]).service(\"uibDateParser\",[\"$log\",\"$locale\",\"dateFilter\",\"orderByFilter\",\"filterFilter\",function(a,b,c,d,e){function f(a){return e(s,{key:a},!0)[0]}function g(a){var b=[],c=a.split(\"\"),e=a.indexOf(\"'\");if(e>-1){var f=!1;a=a.split(\"\");for(var g=e;g<a.length;g++)f?(\"'\"===a[g]&&(g+1<a.length&&\"'\"===a[g+1]?(a[g+1]=\"$\",c[g+1]=\"\"):(c[g]=\"\",f=!1)),a[g]=\"$\"):\"'\"===a[g]&&(a[g]=\"$\",c[g]=\"\",f=!0);a=a.join(\"\")}return angular.forEach(s,function(d){var e=a.indexOf(d.key);if(e>-1){a=a.split(\"\"),c[e]=\"(\"+d.regex+\")\",a[e]=\"$\";for(var f=e+1,g=e+d.key.length;g>f;f++)c[f]=\"\",a[f]=\"$\";a=a.join(\"\"),b.push({index:e,key:d.key,apply:d.apply,matcher:d.regex})}}),{regex:new RegExp(\"^\"+c.join(\"\")+\"$\"),map:d(b,\"index\")}}function h(a){for(var b,c,d=[],e=0;e<a.length;)if(angular.isNumber(c)){if(\"'\"===a.charAt(e))(e+1>=a.length||\"'\"!==a.charAt(e+1))&&(d.push(i(a,c,e)),c=null);else if(e===a.length)for(;c<a.length;)b=j(a,c),d.push(b),c=b.endIdx;e++}else\"'\"!==a.charAt(e)?(b=j(a,e),d.push(b.parser),e=b.endIdx):(c=e,e++);return d}function i(a,b,c){return function(){return a.substr(b+1,c-b-1)}}function j(a,b){for(var c=a.substr(b),d=0;d<s.length;d++)if(new RegExp(\"^\"+s[d].key).test(c)){var e=s[d];return{endIdx:b+e.key.length,parser:e.formatter}}return{endIdx:b+1,parser:function(){return c.charAt(0)}}}function k(a,b,c){return 1>c?!1:1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3===b||5===b||8===b||10===b?31>c:!0}function l(a){return parseInt(a,10)}function m(a,b){return a&&b?q(a,b):a}function n(a,b){return a&&b?q(a,b,!0):a}function o(a,b){a=a.replace(/:/g,\"\");var c=Date.parse(\"Jan 01, 1970 00:00:00 \"+a)/6e4;return isNaN(c)?b:c}function p(a,b){return a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+b),a}function q(a,b,c){c=c?-1:1;var d=a.getTimezoneOffset(),e=o(b,d);return p(a,c*(e-d))}var r,s,t=/[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;this.init=function(){r=b.id,this.parsers={},this.formatters={},s=[{key:\"yyyy\",regex:\"\\\\d{4}\",apply:function(a){this.year=+a},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,\"yyyy\")}},{key:\"yy\",regex:\"\\\\d{2}\",apply:function(a){a=+a,this.year=69>a?a+2e3:a+1900},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,\"yy\")}},{key:\"y\",regex:\"\\\\d{1,4}\",apply:function(a){this.year=+a},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,\"y\")}},{key:\"M!\",regex:\"0?[1-9]|1[0-2]\",apply:function(a){this.month=a-1},formatter:function(a){var b=a.getMonth();return/^[0-9]$/.test(b)?c(a,\"MM\"):c(a,\"M\")}},{key:\"MMMM\",regex:b.DATETIME_FORMATS.MONTH.join(\"|\"),apply:function(a){this.month=b.DATETIME_FORMATS.MONTH.indexOf(a)},formatter:function(a){return c(a,\"MMMM\")}},{key:\"MMM\",regex:b.DATETIME_FORMATS.SHORTMONTH.join(\"|\"),apply:function(a){this.month=b.DATETIME_FORMATS.SHORTMONTH.indexOf(a)},formatter:function(a){return c(a,\"MMM\")}},{key:\"MM\",regex:\"0[1-9]|1[0-2]\",apply:function(a){this.month=a-1},formatter:function(a){return c(a,\"MM\")}},{key:\"M\",regex:\"[1-9]|1[0-2]\",apply:function(a){this.month=a-1},formatter:function(a){return c(a,\"M\")}},{key:\"d!\",regex:\"[0-2]?[0-9]{1}|3[0-1]{1}\",apply:function(a){this.date=+a},formatter:function(a){var b=a.getDate();return/^[1-9]$/.test(b)?c(a,\"dd\"):c(a,\"d\")}},{key:\"dd\",regex:\"[0-2][0-9]{1}|3[0-1]{1}\",apply:function(a){this.date=+a},formatter:function(a){return c(a,\"dd\")}},{key:\"d\",regex:\"[1-2]?[0-9]{1}|3[0-1]{1}\",apply:function(a){this.date=+a},formatter:function(a){return c(a,\"d\")}},{key:\"EEEE\",regex:b.DATETIME_FORMATS.DAY.join(\"|\"),formatter:function(a){return c(a,\"EEEE\")}},{key:\"EEE\",regex:b.DATETIME_FORMATS.SHORTDAY.join(\"|\"),formatter:function(a){return c(a,\"EEE\")}},{key:\"HH\",regex:\"(?:0|1)[0-9]|2[0-3]\",apply:function(a){this.hours=+a},formatter:function(a){return c(a,\"HH\")}},{key:\"hh\",regex:\"0[0-9]|1[0-2]\",apply:function(a){this.hours=+a},formatter:function(a){return c(a,\"hh\")}},{key:\"H\",regex:\"1?[0-9]|2[0-3]\",apply:function(a){this.hours=+a},formatter:function(a){return c(a,\"H\")}},{key:\"h\",regex:\"[0-9]|1[0-2]\",apply:function(a){this.hours=+a},formatter:function(a){return c(a,\"h\")}},{key:\"mm\",regex:\"[0-5][0-9]\",apply:function(a){this.minutes=+a},formatter:function(a){return c(a,\"mm\")}},{key:\"m\",regex:\"[0-9]|[1-5][0-9]\",apply:function(a){this.minutes=+a},formatter:function(a){return c(a,\"m\")}},{key:\"sss\",regex:\"[0-9][0-9][0-9]\",apply:function(a){this.milliseconds=+a},formatter:function(a){return c(a,\"sss\")}},{key:\"ss\",regex:\"[0-5][0-9]\",apply:function(a){this.seconds=+a},formatter:function(a){return c(a,\"ss\")}},{key:\"s\",regex:\"[0-9]|[1-5][0-9]\",apply:function(a){this.seconds=+a},formatter:function(a){return c(a,\"s\")}},{key:\"a\",regex:b.DATETIME_FORMATS.AMPMS.join(\"|\"),apply:function(a){12===this.hours&&(this.hours=0),\"PM\"===a&&(this.hours+=12)},formatter:function(a){return c(a,\"a\")}},{key:\"Z\",regex:\"[+-]\\\\d{4}\",apply:function(a){var b=a.match(/([+-])(\\d{2})(\\d{2})/),c=b[1],d=b[2],e=b[3];this.hours+=l(c+d),this.minutes+=l(c+e)},formatter:function(a){return c(a,\"Z\")}},{key:\"ww\",regex:\"[0-4][0-9]|5[0-3]\",formatter:function(a){return c(a,\"ww\")}},{key:\"w\",regex:\"[0-9]|[1-4][0-9]|5[0-3]\",formatter:function(a){return c(a,\"w\")}},{key:\"GGGG\",regex:b.DATETIME_FORMATS.ERANAMES.join(\"|\").replace(/\\s/g,\"\\\\s\"),formatter:function(a){return c(a,\"GGGG\")}},{key:\"GGG\",regex:b.DATETIME_FORMATS.ERAS.join(\"|\"),formatter:function(a){return c(a,\"GGG\")}},{key:\"GG\",regex:b.DATETIME_FORMATS.ERAS.join(\"|\"),formatter:function(a){return c(a,\"GG\")}},{key:\"G\",regex:b.DATETIME_FORMATS.ERAS.join(\"|\"),formatter:function(a){return c(a,\"G\")}}],angular.version.major>=1&&angular.version.minor>4&&s.push({key:\"LLLL\",regex:b.DATETIME_FORMATS.STANDALONEMONTH.join(\"|\"),apply:function(a){this.month=b.DATETIME_FORMATS.STANDALONEMONTH.indexOf(a)},formatter:function(a){return c(a,\"LLLL\")}})},this.init(),this.getParser=function(a){var b=f(a);return b&&b.apply||null},this.overrideParser=function(a,b){var c=f(a);c&&angular.isFunction(b)&&(this.parsers={},c.apply=b)}.bind(this),this.filter=function(a,c){if(!angular.isDate(a)||isNaN(a)||!c)return\"\";c=b.DATETIME_FORMATS[c]||c,b.id!==r&&this.init(),this.formatters[c]||(this.formatters[c]=h(c));var d=this.formatters[c];return d.reduce(function(b,c){return b+c(a)},\"\")},this.parse=function(c,d,e){if(!angular.isString(c)||!d)return c;d=b.DATETIME_FORMATS[d]||d,d=d.replace(t,\"\\\\$&\"),b.id!==r&&this.init(),this.parsers[d]||(this.parsers[d]=g(d,\"apply\"));var f=this.parsers[d],h=f.regex,i=f.map,j=c.match(h),l=!1;if(j&&j.length){var m,n;angular.isDate(e)&&!isNaN(e.getTime())?m={year:e.getFullYear(),month:e.getMonth(),date:e.getDate(),hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),milliseconds:e.getMilliseconds()}:(e&&a.warn(\"dateparser:\",\"baseDate is not a valid date\"),m={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var o=1,p=j.length;p>o;o++){var q=i[o-1];\"Z\"===q.matcher&&(l=!0),q.apply&&q.apply.call(m,j[o])}var s=l?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,u=l?Date.prototype.setUTCHours:Date.prototype.setHours;return k(m.year,m.month,m.date)&&(!angular.isDate(e)||isNaN(e.getTime())||l?(n=new Date(0),s.call(n,m.year,m.month,m.date),u.call(n,m.hours||0,m.minutes||0,m.seconds||0,m.milliseconds||0)):(n=new Date(e),s.call(n,m.year,m.month,m.date),u.call(n,m.hours,m.minutes,m.seconds,m.milliseconds))),n}},this.toTimezone=m,this.fromTimezone=n,this.timezoneToOffset=o,this.addDateMinutes=p,this.convertTimezoneToLocal=q}]),angular.module(\"ui.bootstrap.isClass\",[]).directive(\"uibIsClass\",[\"$animate\",function(a){var b=/^\\s*([\\s\\S]+?)\\s+on\\s+([\\s\\S]+?)\\s*$/,c=/^\\s*([\\s\\S]+?)\\s+for\\s+([\\s\\S]+?)\\s*$/;return{restrict:\"A\",compile:function(d,e){function f(a,b,c){i.push(a),j.push({scope:a,element:b}),o.forEach(function(b,c){g(b,a)}),a.$on(\"$destroy\",h)}function g(b,d){var e=b.match(c),f=d.$eval(e[1]),g=e[2],h=k[b];if(!h){var i=function(b){var c=null;j.some(function(a){var d=a.scope.$eval(m);return d===b?(c=a,!0):void 0}),h.lastActivated!==c&&(h.lastActivated&&a.removeClass(h.lastActivated.element,f),c&&a.addClass(c.element,f),h.lastActivated=c)};k[b]=h={lastActivated:null,scope:d,watchFn:i,compareWithExp:g,watcher:d.$watch(g,i)}}h.watchFn(d.$eval(g))}function h(a){var b=a.targetScope,c=i.indexOf(b);if(i.splice(c,1),j.splice(c,1),i.length){var d=i[0];angular.forEach(k,function(a){a.scope===b&&(a.watcher=d.$watch(a.compareWithExp,a.watchFn),a.scope=d)})}else k={}}var i=[],j=[],k={},l=e.uibIsClass.match(b),m=l[2],n=l[1],o=n.split(\",\");return f}}}]),angular.module(\"ui.bootstrap.datepicker\",[\"ui.bootstrap.dateparser\",\"ui.bootstrap.isClass\"]).value(\"$datepickerSuppressError\",!1).value(\"$datepickerLiteralWarning\",!0).constant(\"uibDatepickerConfig\",{datepickerMode:\"day\",formatDay:\"dd\",formatMonth:\"MMMM\",formatYear:\"yyyy\",formatDayHeader:\"EEE\",formatDayTitle:\"MMMM yyyy\",formatMonthTitle:\"yyyy\",maxDate:null,maxMode:\"year\",minDate:null,minMode:\"day\",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller(\"UibDatepickerController\",[\"$scope\",\"$element\",\"$attrs\",\"$parse\",\"$interpolate\",\"$locale\",\"$log\",\"dateFilter\",\"uibDatepickerConfig\",\"$datepickerLiteralWarning\",\"$datepickerSuppressError\",\"uibDateParser\",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(b){a.datepickerMode=b,a.datepickerOptions.datepickerMode=b}function n(b){var c;if(angular.version.minor<6)c=b.$options||a.datepickerOptions.ngModelOptions||i.ngModelOptions||{},c.getOption=function(a){return c[a]};else{var d=b.$options.getOption(\"timezone\")||(a.datepickerOptions.ngModelOptions?a.datepickerOptions.ngModelOptions.timezone:null)||(i.ngModelOptions?i.ngModelOptions.timezone:null);c=b.$options.createChild(i.ngModelOptions).createChild(a.datepickerOptions.ngModelOptions).createChild(b.$options).createChild({timezone:d})}return c}var o=this,p={$setViewValue:angular.noop},q={},r=[];b.addClass(\"uib-datepicker\"),c.$set(\"role\",\"application\"),a.datepickerOptions||(a.datepickerOptions={}),this.modes=[\"day\",\"month\",\"year\"],[\"customClass\",\"dateDisabled\",\"datepickerMode\",\"formatDay\",\"formatDayHeader\",\"formatDayTitle\",\"formatMonth\",\"formatMonthTitle\",\"formatYear\",\"maxDate\",\"maxMode\",\"minDate\",\"minMode\",\"monthColumns\",\"showWeeks\",\"shortcutPropagation\",\"startingDay\",\"yearColumns\",\"yearRows\"].forEach(function(b){switch(b){case\"customClass\":case\"dateDisabled\":a[b]=a.datepickerOptions[b]||angular.noop;break;case\"datepickerMode\":a.datepickerMode=angular.isDefined(a.datepickerOptions.datepickerMode)?a.datepickerOptions.datepickerMode:i.datepickerMode;break;case\"formatDay\":case\"formatDayHeader\":case\"formatDayTitle\":case\"formatMonth\":case\"formatMonthTitle\":case\"formatYear\":o[b]=angular.isDefined(a.datepickerOptions[b])?e(a.datepickerOptions[b])(a.$parent):i[b];break;case\"monthColumns\":case\"showWeeks\":case\"shortcutPropagation\":case\"yearColumns\":case\"yearRows\":o[b]=angular.isDefined(a.datepickerOptions[b])?a.datepickerOptions[b]:i[b];break;case\"startingDay\":angular.isDefined(a.datepickerOptions.startingDay)?o.startingDay=a.datepickerOptions.startingDay:angular.isNumber(i.startingDay)?o.startingDay=i.startingDay:o.startingDay=(f.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case\"maxDate\":case\"minDate\":a.$watch(\"datepickerOptions.\"+b,function(a){a?angular.isDate(a)?o[b]=l.fromTimezone(new Date(a),q.getOption(\"timezone\")):(j&&g.warn(\"Literal date support has been deprecated, please switch to date object usage\"),o[b]=new Date(h(a,\"medium\"))):o[b]=i[b]?l.fromTimezone(new Date(i[b]),q.getOption(\"timezone\")):null,o.refreshView()});break;case\"maxMode\":case\"minMode\":a.datepickerOptions[b]?a.$watch(function(){return a.datepickerOptions[b]},function(c){o[b]=a[b]=angular.isDefined(c)?c:a.datepickerOptions[b],(\"minMode\"===b&&o.modes.indexOf(a.datepickerOptions.datepickerMode)<o.modes.indexOf(o[b])||\"maxMode\"===b&&o.modes.indexOf(a.datepickerOptions.datepickerMode)>o.modes.indexOf(o[b]))&&(a.datepickerMode=o[b],a.datepickerOptions.datepickerMode=o[b])}):o[b]=a[b]=i[b]||null}}),a.uniqueId=\"datepicker-\"+a.$id+\"-\"+Math.floor(1e4*Math.random()),a.disabled=angular.isDefined(c.disabled)||!1,angular.isDefined(c.ngDisabled)&&r.push(a.$parent.$watch(c.ngDisabled,function(b){a.disabled=b,o.refreshView()})),a.isActive=function(b){return 0===o.compare(b.date,o.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(b){p=b,q=n(p),a.datepickerOptions.initDate?(o.activeDate=l.fromTimezone(a.datepickerOptions.initDate,q.getOption(\"timezone\"))||new Date,a.$watch(\"datepickerOptions.initDate\",function(a){a&&(p.$isEmpty(p.$modelValue)||p.$invalid)&&(o.activeDate=l.fromTimezone(a,q.getOption(\"timezone\")),o.refreshView())})):o.activeDate=new Date;var c=p.$modelValue?new Date(p.$modelValue):new Date;this.activeDate=isNaN(c)?l.fromTimezone(new Date,q.getOption(\"timezone\")):l.fromTimezone(c,q.getOption(\"timezone\")),p.$render=function(){o.render()}},this.render=function(){if(p.$viewValue){var a=new Date(p.$viewValue),b=!isNaN(a);b?this.activeDate=l.fromTimezone(a,q.getOption(\"timezone\")):k||g.error('Datepicker directive: \"ng-model\" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){a.selectedDt=null,this._refreshView(),a.activeDt&&(a.activeDateId=a.activeDt.uid);var b=p.$viewValue?new Date(p.$viewValue):null;b=l.fromTimezone(b,q.getOption(\"timezone\")),p.$setValidity(\"dateDisabled\",!b||this.element&&!this.isDisabled(b))}},this.createDateObject=function(b,c){var d=p.$viewValue?new Date(p.$viewValue):null;d=l.fromTimezone(d,q.getOption(\"timezone\"));var e=new Date;e=l.fromTimezone(e,q.getOption(\"timezone\"));var f=this.compare(b,e),g={date:b,label:l.filter(b,c),selected:d&&0===this.compare(b,d),disabled:this.isDisabled(b),past:0>f,current:0===f,future:f>0,customClass:this.customClass(b)||null};return d&&0===this.compare(b,d)&&(a.selectedDt=g),o.activeDate&&0===this.compare(g.date,o.activeDate)&&(a.activeDt=g),g},this.isDisabled=function(b){return a.disabled||this.minDate&&this.compare(b,this.minDate)<0||this.maxDate&&this.compare(b,this.maxDate)>0||a.dateDisabled&&a.dateDisabled({date:b,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===o.minMode){var c=p.$viewValue?l.fromTimezone(new Date(p.$viewValue),q.getOption(\"timezone\")):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),c=l.toTimezone(c,q.getOption(\"timezone\")),p.$setViewValue(c),p.$render()}else o.activeDate=b,m(o.modes[o.modes.indexOf(a.datepickerMode)-1]),a.$emit(\"uib:datepicker.mode\");a.$broadcast(\"uib:datepicker.focus\")},a.move=function(a){var b=o.activeDate.getFullYear()+a*(o.step.years||0),c=o.activeDate.getMonth()+a*(o.step.months||0);o.activeDate.setFullYear(b,c,1),o.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===o.maxMode&&1===b||a.datepickerMode===o.minMode&&-1===b||(m(o.modes[o.modes.indexOf(a.datepickerMode)+b]),a.$emit(\"uib:datepicker.mode\"))},a.keys={13:\"enter\",32:\"space\",33:\"pageup\",34:\"pagedown\",35:\"end\",36:\"home\",37:\"left\",38:\"up\",39:\"right\",40:\"down\"};var s=function(){o.element[0].focus()};a.$on(\"uib:datepicker.focus\",s),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey&&!a.disabled)if(b.preventDefault(),o.shortcutPropagation||b.stopPropagation(),\"enter\"===c||\"space\"===c){if(o.isDisabled(o.activeDate))return;a.select(o.activeDate)}else!b.ctrlKey||\"up\"!==c&&\"down\"!==c?(o.handleKeyDown(c,b),o.refreshView()):a.toggleMode(\"up\"===c?1:-1)},b.on(\"keydown\",function(b){a.$apply(function(){a.keydown(b)})}),a.$on(\"$destroy\",function(){for(;r.length;)r.shift()()})}]).controller(\"UibDaypickerController\",[\"$scope\",\"$element\",\"dateFilter\",function(a,b,c){function d(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?f[b]:29}function e(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}var f=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=b,this.init=function(b){angular.extend(b,this),a.showWeeks=b.showWeeks,b.refreshView()},this.getDates=function(a,b){for(var c,d=new Array(b),e=new Date(a),f=0;b>f;)c=new Date(e),d[f++]=c,e.setDate(e.getDate()+1);return d},this._refreshView=function(){var b=this.activeDate.getFullYear(),d=this.activeDate.getMonth(),f=new Date(this.activeDate);f.setFullYear(b,d,1);var g=this.startingDay-f.getDay(),h=g>0?7-g:-g,i=new Date(f);h>0&&i.setDate(-h+1);for(var j=this.getDates(i,42),k=0;42>k;k++)j[k]=angular.extend(this.createDateObject(j[k],this.formatDay),{secondary:j[k].getMonth()!==d,uid:a.uniqueId+\"-\"+k});a.labels=new Array(7);for(var l=0;7>l;l++)a.labels[l]={abbr:c(j[l].date,this.formatDayHeader),full:c(j[l].date,\"EEEE\")};if(a.title=c(this.activeDate,this.formatDayTitle),a.rows=this.split(j,7),a.showWeeks){a.weekNumbers=[];for(var m=(11-this.startingDay)%7,n=a.rows.length,o=0;n>o;o++)a.weekNumbers.push(e(a.rows[o][m].date))}},this.compare=function(a,b){var c=new Date(a.getFullYear(),a.getMonth(),a.getDate()),d=new Date(b.getFullYear(),b.getMonth(),b.getDate());return c.setFullYear(a.getFullYear()),d.setFullYear(b.getFullYear()),c-d},this.handleKeyDown=function(a,b){var c=this.activeDate.getDate();if(\"left\"===a)c-=1;else if(\"up\"===a)c-=7;else if(\"right\"===a)c+=1;else if(\"down\"===a)c+=7;else if(\"pageup\"===a||\"pagedown\"===a){var e=this.activeDate.getMonth()+(\"pageup\"===a?-1:1);this.activeDate.setMonth(e,1),c=Math.min(d(this.activeDate.getFullYear(),this.activeDate.getMonth()),c)}else\"home\"===a?c=1:\"end\"===a&&(c=d(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(c)}}]).controller(\"UibMonthpickerController\",[\"$scope\",\"$element\",\"dateFilter\",function(a,b,c){this.step={years:1},this.element=b,this.init=function(a){angular.extend(a,this),a.refreshView()},this._refreshView=function(){for(var b,d=new Array(12),e=this.activeDate.getFullYear(),f=0;12>f;f++)b=new Date(this.activeDate),b.setFullYear(e,f,1),d[f]=angular.extend(this.createDateObject(b,this.formatMonth),{uid:a.uniqueId+\"-\"+f});a.title=c(this.activeDate,this.formatMonthTitle),a.rows=this.split(d,this.monthColumns),a.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(a,b){var c=new Date(a.getFullYear(),a.getMonth()),d=new Date(b.getFullYear(),b.getMonth());return c.setFullYear(a.getFullYear()),d.setFullYear(b.getFullYear()),c-d},this.handleKeyDown=function(a,b){var c=this.activeDate.getMonth();if(\"left\"===a)c-=1;else if(\"up\"===a)c-=this.monthColumns;else if(\"right\"===a)c+=1;else if(\"down\"===a)c+=this.monthColumns;else if(\"pageup\"===a||\"pagedown\"===a){var d=this.activeDate.getFullYear()+(\"pageup\"===a?-1:1);this.activeDate.setFullYear(d)}else\"home\"===a?c=0:\"end\"===a&&(c=11);this.activeDate.setMonth(c)}}]).controller(\"UibYearpickerController\",[\"$scope\",\"$element\",\"dateFilter\",function(a,b,c){function d(a){return parseInt((a-1)/f,10)*f+1}var e,f;this.element=b,this.yearpickerInit=function(){e=this.yearColumns,f=this.yearRows*e,this.step={years:f}},this._refreshView=function(){for(var b,c=new Array(f),g=0,h=d(this.activeDate.getFullYear());f>g;g++)b=new Date(this.activeDate),b.setFullYear(h+g,0,1),c[g]=angular.extend(this.createDateObject(b,this.formatYear),{uid:a.uniqueId+\"-\"+g});a.title=[c[0].label,c[f-1].label].join(\" - \"),a.rows=this.split(c,e),a.columns=e},this.compare=function(a,b){return a.getFullYear()-b.getFullYear()},this.handleKeyDown=function(a,b){var c=this.activeDate.getFullYear();\"left\"===a?c-=1:\"up\"===a?c-=e:\"right\"===a?c+=1:\"down\"===a?c+=e:\"pageup\"===a||\"pagedown\"===a?c+=(\"pageup\"===a?-1:1)*f:\"home\"===a?c=d(this.activeDate.getFullYear()):\"end\"===a&&(c=d(this.activeDate.getFullYear())+f-1),this.activeDate.setFullYear(c)}}]).directive(\"uibDatepicker\",function(){return{templateUrl:function(a,b){return b.templateUrl||\"uib/template/datepicker/datepicker.html\"},scope:{datepickerOptions:\"=?\"},require:[\"uibDatepicker\",\"^ngModel\"],restrict:\"A\",controller:\"UibDatepickerController\",controllerAs:\"datepicker\",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}).directive(\"uibDaypicker\",function(){return{templateUrl:function(a,b){return b.templateUrl||\"uib/template/datepicker/day.html\"},\nrequire:[\"^uibDatepicker\",\"uibDaypicker\"],restrict:\"A\",controller:\"UibDaypickerController\",link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive(\"uibMonthpicker\",function(){return{templateUrl:function(a,b){return b.templateUrl||\"uib/template/datepicker/month.html\"},require:[\"^uibDatepicker\",\"uibMonthpicker\"],restrict:\"A\",controller:\"UibMonthpickerController\",link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive(\"uibYearpicker\",function(){return{templateUrl:function(a,b){return b.templateUrl||\"uib/template/datepicker/year.html\"},require:[\"^uibDatepicker\",\"uibYearpicker\"],restrict:\"A\",controller:\"UibYearpickerController\",link:function(a,b,c,d){var e=d[0];angular.extend(e,d[1]),e.yearpickerInit(),e.refreshView()}}}),angular.module(\"ui.bootstrap.position\",[]).factory(\"$uibPosition\",[\"$document\",\"$window\",function(a,b){var c,d,e={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},f={auto:/\\s?auto?\\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},g=/(HTML|BODY)/;return{getRawNode:function(a){return a.nodeName?a:a[0]||a},parseStyle:function(a){return a=parseFloat(a),isFinite(a)?a:0},offsetParent:function(c){function d(a){return\"static\"===(b.getComputedStyle(a).position||\"static\")}c=this.getRawNode(c);for(var e=c.offsetParent||a[0].documentElement;e&&e!==a[0].documentElement&&d(e);)e=e.offsetParent;return e||a[0].documentElement},scrollbarWidth:function(e){if(e){if(angular.isUndefined(d)){var f=a.find(\"body\");f.addClass(\"uib-position-body-scrollbar-measure\"),d=b.innerWidth-f[0].clientWidth,d=isFinite(d)?d:0,f.removeClass(\"uib-position-body-scrollbar-measure\")}return d}if(angular.isUndefined(c)){var g=angular.element('<div class=\"uib-position-scrollbar-measure\"></div>');a.find(\"body\").append(g),c=g[0].offsetWidth-g[0].clientWidth,c=isFinite(c)?c:0,g.remove()}return c},scrollbarPadding:function(a){a=this.getRawNode(a);var c=b.getComputedStyle(a),d=this.parseStyle(c.paddingRight),e=this.parseStyle(c.paddingBottom),f=this.scrollParent(a,!1,!0),h=this.scrollbarWidth(g.test(f.tagName));return{scrollbarWidth:h,widthOverflow:f.scrollWidth>f.clientWidth,right:d+h,originalRight:d,heightOverflow:f.scrollHeight>f.clientHeight,bottom:e+h,originalBottom:e}},isScrollable:function(a,c){a=this.getRawNode(a);var d=c?e.hidden:e.normal,f=b.getComputedStyle(a);return d.test(f.overflow+f.overflowY+f.overflowX)},scrollParent:function(c,d,f){c=this.getRawNode(c);var g=d?e.hidden:e.normal,h=a[0].documentElement,i=b.getComputedStyle(c);if(f&&g.test(i.overflow+i.overflowY+i.overflowX))return c;var j=\"absolute\"===i.position,k=c.parentElement||h;if(k===h||\"fixed\"===i.position)return h;for(;k.parentElement&&k!==h;){var l=b.getComputedStyle(k);if(j&&\"static\"!==l.position&&(j=!1),!j&&g.test(l.overflow+l.overflowY+l.overflowX))break;k=k.parentElement}return k},position:function(c,d){c=this.getRawNode(c);var e=this.offset(c);if(d){var f=b.getComputedStyle(c);e.top-=this.parseStyle(f.marginTop),e.left-=this.parseStyle(f.marginLeft)}var g=this.offsetParent(c),h={top:0,left:0};return g!==a[0].documentElement&&(h=this.offset(g),h.top+=g.clientTop-g.scrollTop,h.left+=g.clientLeft-g.scrollLeft),{width:Math.round(angular.isNumber(e.width)?e.width:c.offsetWidth),height:Math.round(angular.isNumber(e.height)?e.height:c.offsetHeight),top:Math.round(e.top-h.top),left:Math.round(e.left-h.left)}},offset:function(c){c=this.getRawNode(c);var d=c.getBoundingClientRect();return{width:Math.round(angular.isNumber(d.width)?d.width:c.offsetWidth),height:Math.round(angular.isNumber(d.height)?d.height:c.offsetHeight),top:Math.round(d.top+(b.pageYOffset||a[0].documentElement.scrollTop)),left:Math.round(d.left+(b.pageXOffset||a[0].documentElement.scrollLeft))}},viewportOffset:function(c,d,e){c=this.getRawNode(c),e=e!==!1;var f=c.getBoundingClientRect(),g={top:0,left:0,bottom:0,right:0},h=d?a[0].documentElement:this.scrollParent(c),i=h.getBoundingClientRect();if(g.top=i.top+h.clientTop,g.left=i.left+h.clientLeft,h===a[0].documentElement&&(g.top+=b.pageYOffset,g.left+=b.pageXOffset),g.bottom=g.top+h.clientHeight,g.right=g.left+h.clientWidth,e){var j=b.getComputedStyle(h);g.top+=this.parseStyle(j.paddingTop),g.bottom-=this.parseStyle(j.paddingBottom),g.left+=this.parseStyle(j.paddingLeft),g.right-=this.parseStyle(j.paddingRight)}return{top:Math.round(f.top-g.top),bottom:Math.round(g.bottom-f.bottom),left:Math.round(f.left-g.left),right:Math.round(g.right-f.right)}},parsePlacement:function(a){var b=f.auto.test(a);return b&&(a=a.replace(f.auto,\"\")),a=a.split(\"-\"),a[0]=a[0]||\"top\",f.primary.test(a[0])||(a[0]=\"top\"),a[1]=a[1]||\"center\",f.secondary.test(a[1])||(a[1]=\"center\"),b?a[2]=!0:a[2]=!1,a},positionElements:function(a,c,d,e){a=this.getRawNode(a),c=this.getRawNode(c);var g=angular.isDefined(c.offsetWidth)?c.offsetWidth:c.prop(\"offsetWidth\"),h=angular.isDefined(c.offsetHeight)?c.offsetHeight:c.prop(\"offsetHeight\");d=this.parsePlacement(d);var i=e?this.offset(a):this.position(a),j={top:0,left:0,placement:\"\"};if(d[2]){var k=this.viewportOffset(a,e),l=b.getComputedStyle(c),m={width:g+Math.round(Math.abs(this.parseStyle(l.marginLeft)+this.parseStyle(l.marginRight))),height:h+Math.round(Math.abs(this.parseStyle(l.marginTop)+this.parseStyle(l.marginBottom)))};if(d[0]=\"top\"===d[0]&&m.height>k.top&&m.height<=k.bottom?\"bottom\":\"bottom\"===d[0]&&m.height>k.bottom&&m.height<=k.top?\"top\":\"left\"===d[0]&&m.width>k.left&&m.width<=k.right?\"right\":\"right\"===d[0]&&m.width>k.right&&m.width<=k.left?\"left\":d[0],d[1]=\"top\"===d[1]&&m.height-i.height>k.bottom&&m.height-i.height<=k.top?\"bottom\":\"bottom\"===d[1]&&m.height-i.height>k.top&&m.height-i.height<=k.bottom?\"top\":\"left\"===d[1]&&m.width-i.width>k.right&&m.width-i.width<=k.left?\"right\":\"right\"===d[1]&&m.width-i.width>k.left&&m.width-i.width<=k.right?\"left\":d[1],\"center\"===d[1])if(f.vertical.test(d[0])){var n=i.width/2-g/2;k.left+n<0&&m.width-i.width<=k.right?d[1]=\"left\":k.right+n<0&&m.width-i.width<=k.left&&(d[1]=\"right\")}else{var o=i.height/2-m.height/2;k.top+o<0&&m.height-i.height<=k.bottom?d[1]=\"top\":k.bottom+o<0&&m.height-i.height<=k.top&&(d[1]=\"bottom\")}}switch(d[0]){case\"top\":j.top=i.top-h;break;case\"bottom\":j.top=i.top+i.height;break;case\"left\":j.left=i.left-g;break;case\"right\":j.left=i.left+i.width}switch(d[1]){case\"top\":j.top=i.top;break;case\"bottom\":j.top=i.top+i.height-h;break;case\"left\":j.left=i.left;break;case\"right\":j.left=i.left+i.width-g;break;case\"center\":f.vertical.test(d[0])?j.left=i.left+i.width/2-g/2:j.top=i.top+i.height/2-h/2}return j.top=Math.round(j.top),j.left=Math.round(j.left),j.placement=\"center\"===d[1]?d[0]:d[0]+\"-\"+d[1],j},adjustTop:function(a,b,c,d){return-1!==a.indexOf(\"top\")&&c!==d?{top:b.top-d+\"px\"}:void 0},positionArrow:function(a,c){a=this.getRawNode(a);var d=a.querySelector(\".tooltip-inner, .popover-inner\");if(d){var e=angular.element(d).hasClass(\"tooltip-inner\"),g=e?a.querySelector(\".tooltip-arrow\"):a.querySelector(\".arrow\");if(g){var h={top:\"\",bottom:\"\",left:\"\",right:\"\"};if(c=this.parsePlacement(c),\"center\"===c[1])return void angular.element(g).css(h);var i=\"border-\"+c[0]+\"-width\",j=b.getComputedStyle(g)[i],k=\"border-\";k+=f.vertical.test(c[0])?c[0]+\"-\"+c[1]:c[1]+\"-\"+c[0],k+=\"-radius\";var l=b.getComputedStyle(e?d:a)[k];switch(c[0]){case\"top\":h.bottom=e?\"0\":\"-\"+j;break;case\"bottom\":h.top=e?\"0\":\"-\"+j;break;case\"left\":h.right=e?\"0\":\"-\"+j;break;case\"right\":h.left=e?\"0\":\"-\"+j}h[c[1]]=l,angular.element(g).css(h)}}}}}]),angular.module(\"ui.bootstrap.datepickerPopup\",[\"ui.bootstrap.datepicker\",\"ui.bootstrap.position\"]).value(\"$datepickerPopupLiteralWarning\",!0).constant(\"uibDatepickerPopupConfig\",{altInputFormats:[],appendToBody:!1,clearText:\"Clear\",closeOnDateSelection:!0,closeText:\"Done\",currentText:\"Today\",datepickerPopup:\"yyyy-MM-dd\",datepickerPopupTemplateUrl:\"uib/template/datepickerPopup/popup.html\",datepickerTemplateUrl:\"uib/template/datepicker/datepicker.html\",html5Types:{date:\"yyyy-MM-dd\",\"datetime-local\":\"yyyy-MM-ddTHH:mm:ss.sss\",month:\"yyyy-MM\"},onOpenFocus:!0,showButtonBar:!0,placement:\"auto bottom-left\"}).controller(\"UibDatepickerPopupController\",[\"$scope\",\"$element\",\"$attrs\",\"$compile\",\"$log\",\"$parse\",\"$window\",\"$document\",\"$rootScope\",\"$uibPosition\",\"dateFilter\",\"uibDateParser\",\"uibDatepickerPopupConfig\",\"$timeout\",\"uibDatepickerConfig\",\"$datepickerPopupLiteralWarning\",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(b){var c=l.parse(b,x,a.date);if(isNaN(c))for(var d=0;d<J.length;d++)if(c=l.parse(b,J[d],a.date),!isNaN(c))return c;return c}function r(a){if(angular.isNumber(a)&&(a=new Date(a)),!a)return null;if(angular.isDate(a)&&!isNaN(a))return a;if(angular.isString(a)){var b=q(a);if(!isNaN(b))return l.toTimezone(b,H.getOption(\"timezone\"))}return H.getOption(\"allowInvalid\")?a:void 0}function s(a,b){var d=a||b;return c.ngRequired||d?(angular.isNumber(d)&&(d=new Date(d)),d?angular.isDate(d)&&!isNaN(d)?!0:angular.isString(d)?!isNaN(q(d)):!1:!0):!0}function t(c){if(a.isOpen||!a.disabled){var d=I[0],e=b[0].contains(c.target),f=void 0!==d.contains&&d.contains(c.target);!a.isOpen||e||f||a.$apply(function(){a.isOpen=!1})}}function u(c){27===c.which&&a.isOpen?(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!1}),b[0].focus()):40!==c.which||a.isOpen||(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!0}))}function v(){if(a.isOpen){var d=angular.element(I[0].querySelector(\".uib-datepicker-popup\")),e=c.popupPlacement?c.popupPlacement:m.placement,f=j.positionElements(b,d,e,z);d.css({top:f.top+\"px\",left:f.left+\"px\"}),d.hasClass(\"uib-position-measure\")&&d.removeClass(\"uib-position-measure\")}}function w(a){var b;return angular.version.minor<6?(b=angular.isObject(a.$options)?a.$options:{timezone:null},b.getOption=function(a){return b[a]}):b=a.$options,b}var x,y,z,A,B,C,D,E,F,G,H,I,J,K=!1,L=[];this.init=function(e){if(G=e,H=w(G),y=angular.isDefined(c.closeOnDateSelection)?a.$parent.$eval(c.closeOnDateSelection):m.closeOnDateSelection,z=angular.isDefined(c.datepickerAppendToBody)?a.$parent.$eval(c.datepickerAppendToBody):m.appendToBody,A=angular.isDefined(c.onOpenFocus)?a.$parent.$eval(c.onOpenFocus):m.onOpenFocus,B=angular.isDefined(c.datepickerPopupTemplateUrl)?c.datepickerPopupTemplateUrl:m.datepickerPopupTemplateUrl,C=angular.isDefined(c.datepickerTemplateUrl)?c.datepickerTemplateUrl:m.datepickerTemplateUrl,J=angular.isDefined(c.altInputFormats)?a.$parent.$eval(c.altInputFormats):m.altInputFormats,a.showButtonBar=angular.isDefined(c.showButtonBar)?a.$parent.$eval(c.showButtonBar):m.showButtonBar,m.html5Types[c.type]?(x=m.html5Types[c.type],K=!0):(x=c.uibDatepickerPopup||m.datepickerPopup,c.$observe(\"uibDatepickerPopup\",function(a,b){var c=a||m.datepickerPopup;if(c!==x&&(x=c,G.$modelValue=null,!x))throw new Error(\"uibDatepickerPopup must have a date format specified.\")})),!x)throw new Error(\"uibDatepickerPopup must have a date format specified.\");if(K&&c.uibDatepickerPopup)throw new Error(\"HTML5 date input types do not support custom formats.\");D=angular.element(\"<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>\"),D.attr({\"ng-model\":\"date\",\"ng-change\":\"dateSelection(date)\",\"template-url\":B}),E=angular.element(D.children()[0]),E.attr(\"template-url\",C),a.datepickerOptions||(a.datepickerOptions={}),K&&\"month\"===c.type&&(a.datepickerOptions.datepickerMode=\"month\",a.datepickerOptions.minMode=\"month\"),E.attr(\"datepicker-options\",\"datepickerOptions\"),K?G.$formatters.push(function(b){return a.date=l.fromTimezone(b,H.getOption(\"timezone\")),b}):(G.$$parserName=\"date\",G.$validators.date=s,G.$parsers.unshift(r),G.$formatters.push(function(b){return G.$isEmpty(b)?(a.date=b,b):(angular.isNumber(b)&&(b=new Date(b)),a.date=l.fromTimezone(b,H.getOption(\"timezone\")),l.filter(a.date,x))})),G.$viewChangeListeners.push(function(){a.date=q(G.$viewValue)}),b.on(\"keydown\",u),I=d(D)(a),D.remove(),z?h.find(\"body\").append(I):b.after(I),a.$on(\"$destroy\",function(){for(a.isOpen===!0&&(i.$$phase||a.$apply(function(){a.isOpen=!1})),I.remove(),b.off(\"keydown\",u),h.off(\"click\",t),F&&F.off(\"scroll\",v),angular.element(g).off(\"resize\",v);L.length;)L.shift()()})},a.getText=function(b){return a[b+\"Text\"]||m[b+\"Text\"]},a.isDisabled=function(b){\"today\"===b&&(b=l.fromTimezone(new Date,H.getOption(\"timezone\")));var c={};return angular.forEach([\"minDate\",\"maxDate\"],function(b){a.datepickerOptions[b]?angular.isDate(a.datepickerOptions[b])?c[b]=new Date(a.datepickerOptions[b]):(p&&e.warn(\"Literal date support has been deprecated, please switch to date object usage\"),c[b]=new Date(k(a.datepickerOptions[b],\"medium\"))):c[b]=null}),a.datepickerOptions&&c.minDate&&a.compare(b,c.minDate)<0||c.maxDate&&a.compare(b,c.maxDate)>0},a.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},a.dateSelection=function(c){a.date=c;var d=a.date?l.filter(a.date,x):null;b.val(d),G.$setViewValue(d),y&&(a.isOpen=!1,b[0].focus())},a.keydown=function(c){27===c.which&&(c.stopPropagation(),a.isOpen=!1,b[0].focus())},a.select=function(b,c){if(c.stopPropagation(),\"today\"===b){var d=new Date;angular.isDate(a.date)?(b=new Date(a.date),b.setFullYear(d.getFullYear(),d.getMonth(),d.getDate())):(b=l.fromTimezone(d,H.getOption(\"timezone\")),b.setHours(0,0,0,0))}a.dateSelection(b)},a.close=function(c){c.stopPropagation(),a.isOpen=!1,b[0].focus()},a.disabled=angular.isDefined(c.disabled)||!1,c.ngDisabled&&L.push(a.$parent.$watch(f(c.ngDisabled),function(b){a.disabled=b})),a.$watch(\"isOpen\",function(d){d?a.disabled?a.isOpen=!1:n(function(){v(),A&&a.$broadcast(\"uib:datepicker.focus\"),h.on(\"click\",t);var d=c.popupPlacement?c.popupPlacement:m.placement;z||j.parsePlacement(d)[2]?(F=F||angular.element(j.scrollParent(b)),F&&F.on(\"scroll\",v)):F=null,angular.element(g).on(\"resize\",v)},0,!1):(h.off(\"click\",t),F&&F.off(\"scroll\",v),angular.element(g).off(\"resize\",v))}),a.$on(\"uib:datepicker.mode\",function(){n(v,0,!1)})}]).directive(\"uibDatepickerPopup\",function(){return{require:[\"ngModel\",\"uibDatepickerPopup\"],controller:\"UibDatepickerPopupController\",scope:{datepickerOptions:\"=?\",isOpen:\"=?\",currentText:\"@\",clearText:\"@\",closeText:\"@\"},link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive(\"uibDatepickerPopupWrap\",function(){return{restrict:\"A\",transclude:!0,templateUrl:function(a,b){return b.templateUrl||\"uib/template/datepickerPopup/popup.html\"}}}),angular.module(\"ui.bootstrap.debounce\",[]).factory(\"$$debounce\",[\"$timeout\",function(a){return function(b,c){var d;return function(){var e=this,f=Array.prototype.slice.call(arguments);d&&a.cancel(d),d=a(function(){b.apply(e,f)},c)}}}]),angular.module(\"ui.bootstrap.multiMap\",[]).factory(\"$$multiMap\",function(){return{createNew:function(){var a={};return{entries:function(){return Object.keys(a).map(function(b){return{key:b,value:a[b]}})},get:function(b){return a[b]},hasKey:function(b){return!!a[b]},keys:function(){return Object.keys(a)},put:function(b,c){a[b]||(a[b]=[]),a[b].push(c)},remove:function(b,c){var d=a[b];if(d){var e=d.indexOf(c);-1!==e&&d.splice(e,1),d.length||delete a[b]}}}}}}),angular.module(\"ui.bootstrap.dropdown\",[\"ui.bootstrap.multiMap\",\"ui.bootstrap.position\"]).constant(\"uibDropdownConfig\",{appendToOpenClass:\"uib-dropdown-open\",openClass:\"open\"}).service(\"uibDropdownService\",[\"$document\",\"$rootScope\",\"$$multiMap\",function(a,b,c){var d=null,e=c.createNew();this.isOnlyOpen=function(a,b){var c=e.get(b);if(c){var d=c.reduce(function(b,c){return c.scope===a?c:b},{});if(d)return 1===c.length}return!1},this.open=function(b,c,g){if(d||a.on(\"click\",f),d&&d!==b&&(d.isOpen=!1),d=b,g){var h=e.get(g);if(h){var i=h.map(function(a){return a.scope});-1===i.indexOf(b)&&e.put(g,{scope:b})}else e.put(g,{scope:b})}},this.close=function(b,c,g){if(d===b&&(a.off(\"click\",f),a.off(\"keydown\",this.keybindFilter),d=null),g){var h=e.get(g);if(h){var i=h.reduce(function(a,c){return c.scope===b?c:a},{});i&&e.remove(g,i)}}};var f=function(a){if(d&&d.isOpen&&!(a&&\"disabled\"===d.getAutoClose()||a&&3===a.which)){var c=d.getToggleElement();if(!(a&&c&&c[0].contains(a.target))){var e=d.getDropdownElement();a&&\"outsideClick\"===d.getAutoClose()&&e&&e[0].contains(a.target)||(d.focusToggleElement(),d.isOpen=!1,b.$$phase||d.$apply())}}};this.keybindFilter=function(a){if(d){var b=d.getDropdownElement(),c=d.getToggleElement(),e=b&&b[0].contains(a.target),g=c&&c[0].contains(a.target);27===a.which?(a.stopPropagation(),d.focusToggleElement(),f()):d.isKeynavEnabled()&&-1!==[38,40].indexOf(a.which)&&d.isOpen&&(e||g)&&(a.preventDefault(),a.stopPropagation(),d.focusDropdownEntry(a.which))}}}]).controller(\"UibDropdownController\",[\"$scope\",\"$element\",\"$attrs\",\"$parse\",\"uibDropdownConfig\",\"uibDropdownService\",\"$animate\",\"$uibPosition\",\"$document\",\"$compile\",\"$templateRequest\",function(a,b,c,d,e,f,g,h,i,j,k){function l(){b.append(o.dropdownMenu)}var m,n,o=this,p=a.$new(),q=e.appendToOpenClass,r=e.openClass,s=angular.noop,t=c.onToggle?d(c.onToggle):angular.noop,u=!1,v=i.find(\"body\");b.addClass(\"dropdown\"),this.init=function(){c.isOpen&&(n=d(c.isOpen),s=n.assign,a.$watch(n,function(a){p.isOpen=!!a})),u=angular.isDefined(c.keyboardNav)},this.toggle=function(a){return p.isOpen=arguments.length?!!a:!p.isOpen,angular.isFunction(s)&&s(p,p.isOpen),p.isOpen},this.isOpen=function(){return p.isOpen},p.getToggleElement=function(){return o.toggleElement},p.getAutoClose=function(){return c.autoClose||\"always\"},p.getElement=function(){return b},p.isKeynavEnabled=function(){return u},p.focusDropdownEntry=function(a){var c=o.dropdownMenu?angular.element(o.dropdownMenu).find(\"a\"):b.find(\"ul\").eq(0).find(\"a\");switch(a){case 40:angular.isNumber(o.selectedOption)?o.selectedOption=o.selectedOption===c.length-1?o.selectedOption:o.selectedOption+1:o.selectedOption=0;break;case 38:angular.isNumber(o.selectedOption)?o.selectedOption=0===o.selectedOption?0:o.selectedOption-1:o.selectedOption=c.length-1}c[o.selectedOption].focus()},p.getDropdownElement=function(){return o.dropdownMenu},p.focusToggleElement=function(){o.toggleElement&&o.toggleElement[0].focus()},p.$watch(\"isOpen\",function(e,n){var u=null,w=!1;if(angular.isDefined(c.dropdownAppendTo)){var x=d(c.dropdownAppendTo)(p);x&&(u=angular.element(x))}if(angular.isDefined(c.dropdownAppendToBody)){var y=d(c.dropdownAppendToBody)(p);y!==!1&&(w=!0)}if(w&&!u&&(u=v),u&&o.dropdownMenu&&(e?(u.append(o.dropdownMenu),b.on(\"$destroy\",l)):(b.off(\"$destroy\",l),l())),u&&o.dropdownMenu){var z,A,B,C=h.positionElements(b,o.dropdownMenu,\"bottom-left\",!0),D=0;if(z={top:C.top+\"px\",display:e?\"block\":\"none\"},A=o.dropdownMenu.hasClass(\"dropdown-menu-right\"),A?(z.left=\"auto\",B=h.scrollbarPadding(u),B.heightOverflow&&B.scrollbarWidth&&(D=B.scrollbarWidth),z.right=window.innerWidth-D-(C.left+b.prop(\"offsetWidth\"))+\"px\"):(z.left=C.left+\"px\",z.right=\"auto\"),!w){var E=h.offset(u);z.top=C.top-E.top+\"px\",A?z.right=window.innerWidth-(C.left-E.left+b.prop(\"offsetWidth\"))+\"px\":z.left=C.left-E.left+\"px\"}o.dropdownMenu.css(z)}var F=u?u:b,G=u?q:r,H=F.hasClass(G),I=f.isOnlyOpen(a,u);if(H===!e){var J;J=u?I?\"removeClass\":\"addClass\":e?\"addClass\":\"removeClass\",g[J](F,G).then(function(){angular.isDefined(e)&&e!==n&&t(a,{open:!!e})})}if(e)o.dropdownMenuTemplateUrl?k(o.dropdownMenuTemplateUrl).then(function(a){m=p.$new(),j(a.trim())(m,function(a){var b=a;o.dropdownMenu.replaceWith(b),o.dropdownMenu=b,i.on(\"keydown\",f.keybindFilter)})}):i.on(\"keydown\",f.keybindFilter),p.focusToggleElement(),f.open(p,b,u);else{if(f.close(p,b,u),o.dropdownMenuTemplateUrl){m&&m.$destroy();var K=angular.element('<ul class=\"dropdown-menu\"></ul>');o.dropdownMenu.replaceWith(K),o.dropdownMenu=K}o.selectedOption=null}angular.isFunction(s)&&s(a,e)})}]).directive(\"uibDropdown\",function(){return{controller:\"UibDropdownController\",link:function(a,b,c,d){d.init()}}}).directive(\"uibDropdownMenu\",function(){return{restrict:\"A\",require:\"?^uibDropdown\",link:function(a,b,c,d){if(d&&!angular.isDefined(c.dropdownNested)){b.addClass(\"dropdown-menu\");var e=c.templateUrl;e&&(d.dropdownMenuTemplateUrl=e),d.dropdownMenu||(d.dropdownMenu=b)}}}}).directive(\"uibDropdownToggle\",function(){return{require:\"?^uibDropdown\",link:function(a,b,c,d){if(d){b.addClass(\"dropdown-toggle\"),d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass(\"disabled\")||c.disabled||a.$apply(function(){d.toggle()})};b.on(\"click\",e),b.attr({\"aria-haspopup\":!0,\"aria-expanded\":!1}),a.$watch(d.isOpen,function(a){b.attr(\"aria-expanded\",!!a)}),a.$on(\"$destroy\",function(){b.off(\"click\",e)})}}}}),angular.module(\"ui.bootstrap.stackedMap\",[]).factory(\"$$stackedMap\",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b===a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b===a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.pop()},length:function(){return a.length}}}}}),angular.module(\"ui.bootstrap.modal\",[\"ui.bootstrap.multiMap\",\"ui.bootstrap.stackedMap\",\"ui.bootstrap.position\"]).provider(\"$uibResolve\",function(){var a=this;this.resolver=null,this.setResolver=function(a){this.resolver=a},this.$get=[\"$injector\",\"$q\",function(b,c){var d=a.resolver?b.get(a.resolver):null;return{resolve:function(a,e,f,g){if(d)return d.resolve(a,e,f,g);var h=[];return angular.forEach(a,function(a){angular.isFunction(a)||angular.isArray(a)?h.push(c.resolve(b.invoke(a))):angular.isString(a)?h.push(c.resolve(b.get(a))):h.push(c.resolve(a))}),c.all(h).then(function(b){var c={},d=0;return angular.forEach(a,function(a,e){c[e]=b[d++]}),c})}}}]}).directive(\"uibModalBackdrop\",[\"$animate\",\"$injector\",\"$uibModalStack\",function(a,b,c){function d(b,d,e){e.modalInClass&&(a.addClass(d,e.modalInClass),b.$on(c.NOW_CLOSING_EVENT,function(c,f){var g=f();b.modalOptions.animation?a.removeClass(d,e.modalInClass).then(g):g()}))}return{restrict:\"A\",compile:function(a,b){return a.addClass(b.backdropClass),d}}}]).directive(\"uibModalWindow\",[\"$uibModalStack\",\"$q\",\"$animateCss\",\"$document\",function(a,b,c,d){return{scope:{index:\"@\"},restrict:\"A\",transclude:!0,templateUrl:function(a,b){return b.templateUrl||\"uib/template/modal/window.html\"},link:function(e,f,g){f.addClass(g.windowTopClass||\"\"),e.size=g.size,e.close=function(b){var c=a.getTop();c&&c.value.backdrop&&\"static\"!==c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,\"backdrop click\"))},f.on(\"click\",e.close),e.$isRendered=!0;var h=b.defer();e.$$postDigest(function(){h.resolve()}),h.promise.then(function(){var h=null;g.modalInClass&&(h=c(f,{addClass:g.modalInClass}).start(),e.$on(a.NOW_CLOSING_EVENT,function(a,b){var d=b();c(f,{removeClass:g.modalInClass}).start().then(d)})),b.when(h).then(function(){var b=a.getTop();if(b&&a.modalRendered(b.key),!d[0].activeElement||!f[0].contains(d[0].activeElement)){var c=f[0].querySelector(\"[autofocus]\");c?c.focus():f[0].focus()}})})}}}]).directive(\"uibModalAnimationClass\",function(){return{compile:function(a,b){b.modalAnimation&&a.addClass(b.uibModalAnimationClass)}}}).directive(\"uibModalTransclude\",[\"$animate\",function(a){return{link:function(b,c,d,e,f){f(b.$parent,function(b){c.empty(),a.enter(b,c)})}}}]).factory(\"$uibModalStack\",[\"$animate\",\"$animateCss\",\"$document\",\"$compile\",\"$rootScope\",\"$q\",\"$$multiMap\",\"$$stackedMap\",\"$uibPosition\",function(a,b,c,d,e,f,g,h,i){function j(a){var b=\"-\";return a.replace(E,function(a,c){return(c?b:\"\")+a.toLowerCase()})}function k(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)}function l(){for(var a=-1,b=x.keys(),c=0;c<b.length;c++)x.get(b[c]).value.backdrop&&(a=c);return a>-1&&A>a&&(a=A),a}function m(a,b){var c=x.get(a).value,d=c.appendTo;x.remove(a),B=x.top(),B&&(A=parseInt(B.value.modalDomEl.attr(\"index\"),10)),p(c.modalDomEl,c.modalScope,function(){var b=c.openedClass||w;y.remove(b,a);var e=y.hasKey(b);d.toggleClass(b,e),!e&&v&&v.heightOverflow&&v.scrollbarWidth&&(v.originalRight?d.css({paddingRight:v.originalRight+\"px\"}):d.css({paddingRight:\"\"}),v=null),n(!0)},c.closedDeferred),o(),b&&b.focus?b.focus():d.focus&&d.focus()}function n(a){var b;x.length()>0&&(b=x.top().value,b.modalDomEl.toggleClass(b.windowTopClass||\"\",a))}function o(){if(t&&-1===l()){var a=u;p(t,u,function(){a=null}),t=void 0,u=void 0}}function p(b,c,d,e){function g(){g.done||(g.done=!0,a.leave(b).then(function(){d&&d(),b.remove(),e&&e.resolve()}),c.$destroy())}var h,i=null,j=function(){return h||(h=f.defer(),i=h.promise),function(){h.resolve()}};return c.$broadcast(z.NOW_CLOSING_EVENT,j),f.when(i).then(g)}function q(a){if(a.isDefaultPrevented())return a;var b=x.top();if(b)switch(a.which){case 27:b.value.keyboard&&(a.preventDefault(),e.$apply(function(){z.dismiss(b.key,\"escape key press\")}));break;case 9:var c=z.loadFocusElementList(b),d=!1;a.shiftKey?(z.isFocusInFirstItem(a,c)||z.isModalFocused(a,b))&&(d=z.focusLastFocusableElement(c)):z.isFocusInLastItem(a,c)&&(d=z.focusFirstFocusableElement(c)),d&&(a.preventDefault(),a.stopPropagation())}}function r(a,b,c){return!a.value.modalScope.$broadcast(\"modal.closing\",b,c).defaultPrevented}function s(){Array.prototype.forEach.call(document.querySelectorAll(\"[\"+C+\"]\"),function(a){var b=parseInt(a.getAttribute(C),10),c=b-1;a.setAttribute(C,c),c||(a.removeAttribute(C),a.removeAttribute(\"aria-hidden\"))})}var t,u,v,w=\"modal-open\",x=h.createNew(),y=g.createNew(),z={NOW_CLOSING_EVENT:\"modal.stack.now-closing\"},A=0,B=null,C=\"data-bootstrap-modal-aria-hidden-count\",D=\"a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]\",E=/[A-Z]/g;return e.$watch(l,function(a){u&&(u.index=a)}),c.on(\"keydown\",q),e.$on(\"$destroy\",function(){c.off(\"keydown\",q)}),z.open=function(b,f){function g(a){function b(a){var b=a.parent()?a.parent().children():[];return Array.prototype.filter.call(b,function(b){return b!==a[0]})}if(a&&\"BODY\"!==a[0].tagName)return b(a).forEach(function(a){var b=\"true\"===a.getAttribute(\"aria-hidden\"),c=parseInt(a.getAttribute(C),10);c||(c=b?1:0),a.setAttribute(C,c+1),a.setAttribute(\"aria-hidden\",\"true\")}),g(a.parent())}var h=c[0].activeElement,k=f.openedClass||w;n(!1),B=x.top(),x.add(b,{deferred:f.deferred,renderDeferred:f.renderDeferred,closedDeferred:f.closedDeferred,modalScope:f.scope,backdrop:f.backdrop,keyboard:f.keyboard,openedClass:f.openedClass,windowTopClass:f.windowTopClass,animation:f.animation,appendTo:f.appendTo}),y.put(k,b);var m=f.appendTo,o=l();o>=0&&!t&&(u=e.$new(!0),u.modalOptions=f,u.index=o,t=angular.element('<div uib-modal-backdrop=\"modal-backdrop\"></div>'),t.attr({\"class\":\"modal-backdrop\",\"ng-style\":\"{'z-index': 1040 + (index && 1 || 0) + index*10}\",\"uib-modal-animation-class\":\"fade\",\"modal-in-class\":\"in\"}),f.backdropClass&&t.addClass(f.backdropClass),f.animation&&t.attr(\"modal-animation\",\"true\"),d(t)(u),a.enter(t,m),i.isScrollable(m)&&(v=i.scrollbarPadding(m),v.heightOverflow&&v.scrollbarWidth&&m.css({paddingRight:v.right+\"px\"})));var p;f.component?(p=document.createElement(j(f.component.name)),p=angular.element(p),p.attr({resolve:\"$resolve\",\"modal-instance\":\"$uibModalInstance\",close:\"$close($value)\",dismiss:\"$dismiss($value)\"})):p=f.content,A=B?parseInt(B.value.modalDomEl.attr(\"index\"),10)+1:0;var q=angular.element('<div uib-modal-window=\"modal-window\"></div>');q.attr({\"class\":\"modal\",\"template-url\":f.windowTemplateUrl,\"window-top-class\":f.windowTopClass,role:\"dialog\",\"aria-labelledby\":f.ariaLabelledBy,\"aria-describedby\":f.ariaDescribedBy,size:f.size,index:A,animate:\"animate\",\"ng-style\":\"mgz.getModalStyle($$topModalIndex)\",tabindex:-1,\"uib-modal-animation-class\":\"fade\",\"modal-in-class\":\"in\"}).append(p),f.windowClass&&q.addClass(f.windowClass),f.animation&&q.attr(\"modal-animation\",\"true\"),m.addClass(k),f.scope&&(f.scope.$$topModalIndex=A),a.enter(d(q)(f.scope),m),x.top().value.modalDomEl=q,x.top().value.modalOpener=h,g(q)},z.close=function(a,b){var c=x.get(a);return s(),c&&r(c,b,!0)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.resolve(b),m(a,c.value.modalOpener),!0):!c},z.dismiss=function(a,b){var c=x.get(a);return s(),c&&r(c,b,!1)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.reject(b),m(a,c.value.modalOpener),!0):!c},z.dismissAll=function(a){for(var b=this.getTop();b&&this.dismiss(b.key,a);)b=this.getTop()},z.getTop=function(){return x.top()},z.modalRendered=function(a){var b=x.get(a);b&&b.value.renderDeferred.resolve()},z.focusFirstFocusableElement=function(a){return a.length>0?(a[0].focus(),!0):!1},z.focusLastFocusableElement=function(a){return a.length>0?(a[a.length-1].focus(),!0):!1},z.isModalFocused=function(a,b){if(a&&b){var c=b.value.modalDomEl;if(c&&c.length)return(a.target||a.srcElement)===c[0]}return!1},z.isFocusInFirstItem=function(a,b){return b.length>0?(a.target||a.srcElement)===b[0]:!1},z.isFocusInLastItem=function(a,b){return b.length>0?(a.target||a.srcElement)===b[b.length-1]:!1},z.loadFocusElementList=function(a){if(a){var b=a.value.modalDomEl;if(b&&b.length){var c=b[0].querySelectorAll(D);return c?Array.prototype.filter.call(c,function(a){return k(a)}):c}}},z}]).provider(\"$uibModal\",function(){var a={options:{animation:!0,backdrop:!0,keyboard:!0},$get:[\"$rootScope\",\"$q\",\"$document\",\"$templateRequest\",\"$controller\",\"$uibResolve\",\"$uibModalStack\",function(b,c,d,e,f,g,h){function i(a){return a.template?c.when(a.template):e(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl)}var j={},k=null;return j.getPromiseChain=function(){return k},j.open=function(e){function j(){return q}var l=c.defer(),m=c.defer(),n=c.defer(),o=c.defer(),p={result:l.promise,opened:m.promise,closed:n.promise,rendered:o.promise,close:function(a){return h.close(p,a)},dismiss:function(a){return h.dismiss(p,a)}};if(e=angular.extend({},a.options,e),e.resolve=e.resolve||{},e.appendTo=e.appendTo||d.find(\"body\").eq(0),!e.appendTo.length)throw new Error(\"appendTo element not found. Make sure that the element passed is in DOM.\");if(!e.component&&!e.template&&!e.templateUrl)throw new Error(\"One of component or template or templateUrl options is required.\");var q;q=e.component?c.when(g.resolve(e.resolve,{},null,null)):c.all([i(e),g.resolve(e.resolve,{},null,null)]);var r;return r=k=c.all([k]).then(j,j).then(function(a){function c(b,c,d,e){b.$scope=g,b.$scope.$resolve={},d?b.$scope.$uibModalInstance=p:b.$uibModalInstance=p;var f=c?a[1]:a;angular.forEach(f,function(a,c){e&&(b[c]=a),b.$scope.$resolve[c]=a})}var d=e.scope||b,g=d.$new();g.$close=p.close,g.$dismiss=p.dismiss,g.$on(\"$destroy\",function(){g.$$uibDestructionScheduled||g.$dismiss(\"$uibUnscheduledDestruction\")});var i,j,k={scope:g,deferred:l,renderDeferred:o,closedDeferred:n,animation:e.animation,backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowTopClass:e.windowTopClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,ariaLabelledBy:e.ariaLabelledBy,ariaDescribedBy:e.ariaDescribedBy,size:e.size,openedClass:e.openedClass,appendTo:e.appendTo},q={},r={};e.component?(c(q,!1,!0,!1),q.name=e.component,k.component=q):e.controller&&(c(r,!0,!1,!0),j=f(e.controller,r,!0,e.controllerAs),e.controllerAs&&e.bindToController&&(i=j.instance,i.$close=g.$close,i.$dismiss=g.$dismiss,angular.extend(i,{$resolve:r.$scope.$resolve},d)),i=j(),angular.isFunction(i.$onInit)&&i.$onInit()),e.component||(k.content=a[0]),h.open(p,k),m.resolve(!0)},function(a){m.reject(a),l.reject(a)})[\"finally\"](function(){k===r&&(k=null)}),p},j}]};return a}),angular.module(\"ui.bootstrap.paging\",[]).factory(\"uibPaging\",[\"$parse\",function(a){return{create:function(b,c,d){b.setNumPages=d.numPages?a(d.numPages).assign:angular.noop,b.ngModelCtrl={$setViewValue:angular.noop},b._watchers=[],b.init=function(a,e){b.ngModelCtrl=a,b.config=e,a.$render=function(){b.render()},d.itemsPerPage?b._watchers.push(c.$parent.$watch(d.itemsPerPage,function(a){\nb.itemsPerPage=parseInt(a,10),c.totalPages=b.calculateTotalPages(),b.updatePage()})):b.itemsPerPage=e.itemsPerPage,c.$watch(\"totalItems\",function(a,d){(angular.isDefined(a)||a!==d)&&(c.totalPages=b.calculateTotalPages(),b.updatePage())})},b.calculateTotalPages=function(){var a=b.itemsPerPage<1?1:Math.ceil(c.totalItems/b.itemsPerPage);return Math.max(a||0,1)},b.render=function(){c.page=parseInt(b.ngModelCtrl.$viewValue,10)||1},c.selectPage=function(a,d){d&&d.preventDefault();var e=!c.ngDisabled||!d;e&&c.page!==a&&a>0&&a<=c.totalPages&&(d&&d.target&&d.target.blur(),b.ngModelCtrl.$setViewValue(a),b.ngModelCtrl.$render())},c.getText=function(a){return c[a+\"Text\"]||b.config[a+\"Text\"]},c.noPrevious=function(){return 1===c.page},c.noNext=function(){return c.page===c.totalPages},b.updatePage=function(){b.setNumPages(c.$parent,c.totalPages),c.page>c.totalPages?c.selectPage(c.totalPages):b.ngModelCtrl.$render()},c.$on(\"$destroy\",function(){for(;b._watchers.length;)b._watchers.shift()()})}}}]),angular.module(\"ui.bootstrap.pager\",[\"ui.bootstrap.paging\",\"ui.bootstrap.tabindex\"]).controller(\"UibPagerController\",[\"$scope\",\"$attrs\",\"uibPaging\",\"uibPagerConfig\",function(a,b,c,d){a.align=angular.isDefined(b.align)?a.$parent.$eval(b.align):d.align,c.create(this,a,b)}]).constant(\"uibPagerConfig\",{itemsPerPage:10,previousText:\"\u00ab Previous\",nextText:\"Next \u00bb\",align:!0}).directive(\"uibPager\",[\"uibPagerConfig\",function(a){return{scope:{totalItems:\"=\",previousText:\"@\",nextText:\"@\",ngDisabled:\"=\"},require:[\"uibPager\",\"?ngModel\"],restrict:\"A\",controller:\"UibPagerController\",controllerAs:\"pager\",templateUrl:function(a,b){return b.templateUrl||\"uib/template/pager/pager.html\"},link:function(b,c,d,e){c.addClass(\"pager\");var f=e[0],g=e[1];g&&f.init(g,a)}}}]),angular.module(\"ui.bootstrap.pagination\",[\"ui.bootstrap.paging\",\"ui.bootstrap.tabindex\"]).controller(\"UibPaginationController\",[\"$scope\",\"$attrs\",\"$parse\",\"uibPaging\",\"uibPaginationConfig\",function(a,b,c,d,e){function f(a,b,c){return{number:a,text:b,active:c}}function g(a,b){var c=[],d=1,e=b,g=angular.isDefined(i)&&b>i;g&&(j?(d=Math.max(a-Math.floor(i/2),1),e=d+i-1,e>b&&(e=b,d=e-i+1)):(d=(Math.ceil(a/i)-1)*i+1,e=Math.min(d+i-1,b)));for(var h=d;e>=h;h++){var n=f(h,m(h),h===a);c.push(n)}if(g&&i>0&&(!j||k||l)){if(d>1){if(!l||d>3){var o=f(d-1,\"...\",!1);c.unshift(o)}if(l){if(3===d){var p=f(2,\"2\",!1);c.unshift(p)}var q=f(1,\"1\",!1);c.unshift(q)}}if(b>e){if(!l||b-2>e){var r=f(e+1,\"...\",!1);c.push(r)}if(l){if(e===b-2){var s=f(b-1,b-1,!1);c.push(s)}var t=f(b,b,!1);c.push(t)}}}return c}var h=this,i=angular.isDefined(b.maxSize)?a.$parent.$eval(b.maxSize):e.maxSize,j=angular.isDefined(b.rotate)?a.$parent.$eval(b.rotate):e.rotate,k=angular.isDefined(b.forceEllipses)?a.$parent.$eval(b.forceEllipses):e.forceEllipses,l=angular.isDefined(b.boundaryLinkNumbers)?a.$parent.$eval(b.boundaryLinkNumbers):e.boundaryLinkNumbers,m=angular.isDefined(b.pageLabel)?function(c){return a.$parent.$eval(b.pageLabel,{$page:c})}:angular.identity;a.boundaryLinks=angular.isDefined(b.boundaryLinks)?a.$parent.$eval(b.boundaryLinks):e.boundaryLinks,a.directionLinks=angular.isDefined(b.directionLinks)?a.$parent.$eval(b.directionLinks):e.directionLinks,b.$set(\"role\",\"menu\"),d.create(this,a,b),b.maxSize&&h._watchers.push(a.$parent.$watch(c(b.maxSize),function(a){i=parseInt(a,10),h.render()}));var n=this.render;this.render=function(){n(),a.page>0&&a.page<=a.totalPages&&(a.pages=g(a.page,a.totalPages))}}]).constant(\"uibPaginationConfig\",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:\"First\",previousText:\"Previous\",nextText:\"Next\",lastText:\"Last\",rotate:!0,forceEllipses:!1}).directive(\"uibPagination\",[\"$parse\",\"uibPaginationConfig\",function(a,b){return{scope:{totalItems:\"=\",firstText:\"@\",previousText:\"@\",nextText:\"@\",lastText:\"@\",ngDisabled:\"=\"},require:[\"uibPagination\",\"?ngModel\"],restrict:\"A\",controller:\"UibPaginationController\",controllerAs:\"pagination\",templateUrl:function(a,b){return b.templateUrl||\"uib/template/pagination/pagination.html\"},link:function(a,c,d,e){c.addClass(\"pagination\");var f=e[0],g=e[1];g&&f.init(g,b)}}}]),angular.module(\"ui.bootstrap.tooltip\",[\"ui.bootstrap.position\",\"ui.bootstrap.stackedMap\"]).provider(\"$uibTooltip\",function(){function a(a){var b=/[A-Z]/g,c=\"-\";return a.replace(b,function(a,b){return(b?c:\"\")+a.toLowerCase()})}var b={placement:\"top\",placementClassPrefix:\"\",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},c={mouseenter:\"mouseleave\",click:\"click\",outsideClick:\"outsideClick\",focus:\"blur\",none:\"\"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=[\"$window\",\"$compile\",\"$timeout\",\"$document\",\"$uibPosition\",\"$interpolate\",\"$rootScope\",\"$parse\",\"$$stackedMap\",function(e,f,g,h,i,j,k,l,m){function n(a){if(27===a.which){var b=o.top();b&&(b.value.close(),b=null)}}var o=m.createNew();return h.on(\"keyup\",n),k.$on(\"$destroy\",function(){h.off(\"keyup\",n)}),function(e,k,m,n){function p(a){var b=(a||n.trigger||m).split(\" \"),d=b.map(function(a){return c[a]||a});return{show:b,hide:d}}n=angular.extend({},b,d,n);var q=a(e),r=j.startSymbol(),s=j.endSymbol(),t=\"<div \"+q+'-popup uib-title=\"'+r+\"title\"+s+'\" '+(n.useContentExp?'content-exp=\"contentExp()\" ':'content=\"'+r+\"content\"+s+'\" ')+'origin-scope=\"origScope\" class=\"uib-position-measure '+k+'\" tooltip-animation-class=\"fade\"uib-tooltip-classes ng-class=\"{ in: isOpen }\" ></div>';return{compile:function(a,b){var c=f(t);return function(a,b,d,f){function j(){P.isOpen?q():m()}function m(){O&&!a.$eval(d[k+\"Enable\"])||(u(),x(),P.popupDelay?H||(H=g(r,P.popupDelay,!1)):r())}function q(){s(),P.popupCloseDelay?I||(I=g(t,P.popupCloseDelay,!1)):t()}function r(){return s(),u(),P.content?(v(),void P.$evalAsync(function(){P.isOpen=!0,y(!0),U()})):angular.noop}function s(){H&&(g.cancel(H),H=null),J&&(g.cancel(J),J=null)}function t(){P&&P.$evalAsync(function(){P&&(P.isOpen=!1,y(!1),P.animation?G||(G=g(w,150,!1)):w())})}function u(){I&&(g.cancel(I),I=null),G&&(g.cancel(G),G=null)}function v(){E||(F=P.$new(),E=c(F,function(a){M?h.find(\"body\").append(a):b.after(a)}),o.add(P,{close:t}),z())}function w(){s(),u(),A(),E&&(E.remove(),E=null,K&&g.cancel(K)),o.remove(P),F&&(F.$destroy(),F=null)}function x(){P.title=d[k+\"Title\"],S?P.content=S(a):P.content=d[e],P.popupClass=d[k+\"Class\"],P.placement=angular.isDefined(d[k+\"Placement\"])?d[k+\"Placement\"]:n.placement;var b=i.parsePlacement(P.placement);L=b[1]?b[0]+\"-\"+b[1]:b[0];var c=parseInt(d[k+\"PopupDelay\"],10),f=parseInt(d[k+\"PopupCloseDelay\"],10);P.popupDelay=isNaN(c)?n.popupDelay:c,P.popupCloseDelay=isNaN(f)?n.popupCloseDelay:f}function y(b){R&&angular.isFunction(R.assign)&&R.assign(a,b)}function z(){T.length=0,S?(T.push(a.$watch(S,function(a){P.content=a,!a&&P.isOpen&&t()})),T.push(F.$watch(function(){Q||(Q=!0,F.$$postDigest(function(){Q=!1,P&&P.isOpen&&U()}))}))):T.push(d.$observe(e,function(a){P.content=a,!a&&P.isOpen?t():U()})),T.push(d.$observe(k+\"Title\",function(a){P.title=a,P.isOpen&&U()})),T.push(d.$observe(k+\"Placement\",function(a){P.placement=a?a:n.placement,P.isOpen&&U()}))}function A(){T.length&&(angular.forEach(T,function(a){a()}),T.length=0)}function B(a){P&&P.isOpen&&E&&(b[0].contains(a.target)||E[0].contains(a.target)||q())}function C(a){27===a.which&&q()}function D(){var c=[],e=[],f=a.$eval(d[k+\"Trigger\"]);V(),angular.isObject(f)?(Object.keys(f).forEach(function(a){c.push(a),e.push(f[a])}),N={show:c,hide:e}):N=p(f),\"none\"!==N.show&&N.show.forEach(function(a,c){\"outsideClick\"===a?(b.on(\"click\",j),h.on(\"click\",B)):a===N.hide[c]?b.on(a,j):a&&(b.on(a,m),b.on(N.hide[c],q)),b.on(\"keypress\",C)})}var E,F,G,H,I,J,K,L,M=angular.isDefined(n.appendToBody)?n.appendToBody:!1,N=p(void 0),O=angular.isDefined(d[k+\"Enable\"]),P=a.$new(!0),Q=!1,R=angular.isDefined(d[k+\"IsOpen\"])?l(d[k+\"IsOpen\"]):!1,S=n.useContentExp?l(d[e]):!1,T=[],U=function(){E&&E.html()&&(J||(J=g(function(){var a=i.positionElements(b,E,P.placement,M),c=angular.isDefined(E.offsetHeight)?E.offsetHeight:E.prop(\"offsetHeight\"),d=M?i.offset(b):i.position(b);E.css({top:a.top+\"px\",left:a.left+\"px\"});var e=a.placement.split(\"-\");E.hasClass(e[0])||(E.removeClass(L.split(\"-\")[0]),E.addClass(e[0])),E.hasClass(n.placementClassPrefix+a.placement)||(E.removeClass(n.placementClassPrefix+L),E.addClass(n.placementClassPrefix+a.placement)),K=g(function(){var a=angular.isDefined(E.offsetHeight)?E.offsetHeight:E.prop(\"offsetHeight\"),b=i.adjustTop(e,d,c,a);b&&E.css(b),K=null},0,!1),E.hasClass(\"uib-position-measure\")?(i.positionArrow(E,a.placement),E.removeClass(\"uib-position-measure\")):L!==a.placement&&i.positionArrow(E,a.placement),L=a.placement,J=null},0,!1)))};P.origScope=a,P.isOpen=!1,P.contentExp=function(){return P.content},d.$observe(\"disabled\",function(a){a&&s(),a&&P.isOpen&&t()}),R&&a.$watch(R,function(a){P&&!a===P.isOpen&&j()});var V=function(){N.show.forEach(function(a){\"outsideClick\"===a?b.off(\"click\",j):(b.off(a,m),b.off(a,j)),b.off(\"keypress\",C)}),N.hide.forEach(function(a){\"outsideClick\"===a?h.off(\"click\",B):b.off(a,q)})};D();var W=a.$eval(d[k+\"Animation\"]);P.animation=angular.isDefined(W)?!!W:n.animation;var X,Y=k+\"AppendToBody\";X=Y in d&&void 0===d[Y]?!0:a.$eval(d[Y]),M=angular.isDefined(X)?X:M,a.$on(\"$destroy\",function(){V(),w(),P=null})}}}}}]}).directive(\"uibTooltipTemplateTransclude\",[\"$animate\",\"$sce\",\"$compile\",\"$templateRequest\",function(a,b,c,d){return{link:function(e,f,g){var h,i,j,k=e.$eval(g.tooltipTemplateTranscludeScope),l=0,m=function(){i&&(i.remove(),i=null),h&&(h.$destroy(),h=null),j&&(a.leave(j).then(function(){i=null}),i=j,j=null)};e.$watch(b.parseAsResourceUrl(g.uibTooltipTemplateTransclude),function(b){var g=++l;b?(d(b,!0).then(function(d){if(g===l){var e=k.$new(),i=d,n=c(i)(e,function(b){m(),a.enter(b,f)});h=e,j=n,h.$emit(\"$includeContentLoaded\",b)}},function(){g===l&&(m(),e.$emit(\"$includeContentError\",b))}),e.$emit(\"$includeContentRequested\",b)):m()}),e.$on(\"$destroy\",m)}}}]).directive(\"uibTooltipClasses\",[\"$uibPosition\",function(a){return{restrict:\"A\",link:function(b,c,d){if(b.placement){var e=a.parsePlacement(b.placement);c.addClass(e[0])}b.popupClass&&c.addClass(b.popupClass),b.animation&&c.addClass(d.tooltipAnimationClass)}}}]).directive(\"uibTooltipPopup\",function(){return{restrict:\"A\",scope:{content:\"@\"},templateUrl:\"uib/template/tooltip/tooltip-popup.html\"}}).directive(\"uibTooltip\",[\"$uibTooltip\",function(a){return a(\"uibTooltip\",\"tooltip\",\"mouseenter\")}]).directive(\"uibTooltipTemplatePopup\",function(){return{restrict:\"A\",scope:{contentExp:\"&\",originScope:\"&\"},templateUrl:\"uib/template/tooltip/tooltip-template-popup.html\"}}).directive(\"uibTooltipTemplate\",[\"$uibTooltip\",function(a){return a(\"uibTooltipTemplate\",\"tooltip\",\"mouseenter\",{useContentExp:!0})}]).directive(\"uibTooltipHtmlPopup\",function(){return{restrict:\"A\",scope:{contentExp:\"&\"},templateUrl:\"uib/template/tooltip/tooltip-html-popup.html\"}}).directive(\"uibTooltipHtml\",[\"$uibTooltip\",function(a){return a(\"uibTooltipHtml\",\"tooltip\",\"mouseenter\",{useContentExp:!0})}]),angular.module(\"ui.bootstrap.popover\",[\"ui.bootstrap.tooltip\"]).directive(\"uibPopoverTemplatePopup\",function(){return{restrict:\"A\",scope:{uibTitle:\"@\",contentExp:\"&\",originScope:\"&\"},templateUrl:\"uib/template/popover/popover-template.html\"}}).directive(\"uibPopoverTemplate\",[\"$uibTooltip\",function(a){return a(\"uibPopoverTemplate\",\"popover\",\"click\",{useContentExp:!0})}]).directive(\"uibPopoverHtmlPopup\",function(){return{restrict:\"A\",scope:{contentExp:\"&\",uibTitle:\"@\"},templateUrl:\"uib/template/popover/popover-html.html\"}}).directive(\"uibPopoverHtml\",[\"$uibTooltip\",function(a){return a(\"uibPopoverHtml\",\"popover\",\"click\",{useContentExp:!0})}]).directive(\"uibPopoverPopup\",function(){return{restrict:\"A\",scope:{uibTitle:\"@\",content:\"@\"},templateUrl:\"uib/template/popover/popover.html\"}}).directive(\"uibPopover\",[\"$uibTooltip\",function(a){return a(\"uibPopover\",\"popover\",\"click\")}]),angular.module(\"ui.bootstrap.progressbar\",[]).constant(\"uibProgressConfig\",{animate:!0,max:100}).controller(\"UibProgressController\",[\"$scope\",\"$attrs\",\"uibProgressConfig\",function(a,b,c){function d(){return angular.isDefined(a.maxParam)?a.maxParam:c.max}var e=this,f=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=d(),this.addBar=function(a,b,c){f||b.css({transition:\"none\"}),this.bars.push(a),a.max=d(),a.title=c&&angular.isDefined(c.title)?c.title:\"progressbar\",a.$watch(\"value\",function(b){a.recalculatePercentage()}),a.recalculatePercentage=function(){var b=e.bars.reduce(function(a,b){return b.percent=+(100*b.value/b.max).toFixed(2),a+b.percent},0);b>100&&(a.percent-=b-100)},a.$on(\"$destroy\",function(){b=null,e.removeBar(a)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1),this.bars.forEach(function(a){a.recalculatePercentage()})},a.$watch(\"maxParam\",function(a){e.bars.forEach(function(a){a.max=d(),a.recalculatePercentage()})})}]).directive(\"uibProgress\",function(){return{replace:!0,transclude:!0,controller:\"UibProgressController\",require:\"uibProgress\",scope:{maxParam:\"=?max\"},templateUrl:\"uib/template/progressbar/progress.html\"}}).directive(\"uibBar\",function(){return{replace:!0,transclude:!0,require:\"^uibProgress\",scope:{value:\"=\",type:\"@\"},templateUrl:\"uib/template/progressbar/bar.html\",link:function(a,b,c,d){d.addBar(a,b,c)}}}).directive(\"uibProgressbar\",function(){return{replace:!0,transclude:!0,controller:\"UibProgressController\",scope:{value:\"=\",maxParam:\"=?max\",type:\"@\"},templateUrl:\"uib/template/progressbar/progressbar.html\",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]),{title:c.title})}}}),angular.module(\"ui.bootstrap.rating\",[]).constant(\"uibRatingConfig\",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:[\"one\",\"two\",\"three\",\"four\",\"five\"]}).controller(\"UibRatingController\",[\"$scope\",\"$attrs\",\"uibRatingConfig\",function(a,b,c){var d={$setViewValue:angular.noop},e=this;this.init=function(e){d=e,d.$render=this.render,d.$formatters.push(function(a){return angular.isNumber(a)&&a<<0!==a&&(a=Math.round(a)),a}),this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff,this.enableReset=angular.isDefined(b.enableReset)?a.$parent.$eval(b.enableReset):c.enableReset;var f=angular.isDefined(b.titles)?a.$parent.$eval(b.titles):c.titles;this.titles=angular.isArray(f)&&f.length>0?f:c.titles;var g=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(g)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(b)},a[b]);return a},this.getTitle=function(a){return a>=this.titles.length?a+1:this.titles[a]},a.rate=function(b){if(!a.readonly&&b>=0&&b<=a.range.length){var c=e.enableReset&&d.$viewValue===b?0:b;d.$setViewValue(c),d.$render()}},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue,a.title=e.getTitle(a.value-1)}}]).directive(\"uibRating\",function(){return{require:[\"uibRating\",\"ngModel\"],restrict:\"A\",scope:{readonly:\"=?readOnly\",onHover:\"&\",onLeave:\"&\"},controller:\"UibRatingController\",templateUrl:\"uib/template/rating/rating.html\",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}),angular.module(\"ui.bootstrap.tabs\",[]).controller(\"UibTabsetController\",[\"$scope\",function(a){function b(a){for(var b=0;b<d.tabs.length;b++)if(d.tabs[b].index===a)return b}var c,d=this;d.tabs=[],d.select=function(a,f){if(!e){var g=b(c),h=d.tabs[g];if(h){if(h.tab.onDeselect({$event:f,$selectedIndex:a}),f&&f.isDefaultPrevented())return;h.tab.active=!1}var i=d.tabs[a];i?(i.tab.onSelect({$event:f}),i.tab.active=!0,d.active=i.index,c=i.index):!i&&angular.isDefined(c)&&(d.active=null,c=null)}},d.addTab=function(a){if(d.tabs.push({tab:a,index:a.index}),d.tabs.sort(function(a,b){return a.index>b.index?1:a.index<b.index?-1:0}),a.index===d.active||!angular.isDefined(d.active)&&1===d.tabs.length){var c=b(a.index);d.select(c)}},d.removeTab=function(a){for(var b,c=0;c<d.tabs.length;c++)if(d.tabs[c].tab===a){b=c;break}if(d.tabs[b].index===d.active){var e=b===d.tabs.length-1?b-1:b+1%d.tabs.length;d.select(e)}d.tabs.splice(b,1)},a.$watch(\"tabset.active\",function(a){angular.isDefined(a)&&a!==c&&d.select(b(a))});var e;a.$on(\"$destroy\",function(){e=!0})}]).directive(\"uibTabset\",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:\"=?\",type:\"@\"},controller:\"UibTabsetController\",controllerAs:\"tabset\",templateUrl:function(a,b){return b.templateUrl||\"uib/template/tabs/tabset.html\"},link:function(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):!1,a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):!1}}}).directive(\"uibTab\",[\"$parse\",function(a){return{require:\"^uibTabset\",replace:!0,templateUrl:function(a,b){return b.templateUrl||\"uib/template/tabs/tab.html\"},transclude:!0,scope:{heading:\"@\",index:\"=?\",classes:\"@?\",onSelect:\"&select\",onDeselect:\"&deselect\"},controller:function(){},controllerAs:\"tab\",link:function(b,c,d,e,f){b.disabled=!1,d.disable&&b.$parent.$watch(a(d.disable),function(a){b.disabled=!!a}),angular.isUndefined(d.index)&&(e.tabs&&e.tabs.length?b.index=Math.max.apply(null,e.tabs.map(function(a){return a.index}))+1:b.index=0),angular.isUndefined(d.classes)&&(b.classes=\"\"),b.select=function(a){if(!b.disabled){for(var c,d=0;d<e.tabs.length;d++)if(e.tabs[d].tab===b){c=d;break}e.select(c,a)}},e.addTab(b),b.$on(\"$destroy\",function(){e.removeTab(b)}),b.$transcludeFn=f}}}]).directive(\"uibTabHeadingTransclude\",function(){return{restrict:\"A\",require:\"^uibTab\",link:function(a,b){a.$watch(\"headingElement\",function(a){a&&(b.html(\"\"),b.append(a))})}}}).directive(\"uibTabContentTransclude\",function(){function a(a){return a.tagName&&(a.hasAttribute(\"uib-tab-heading\")||a.hasAttribute(\"data-uib-tab-heading\")||a.hasAttribute(\"x-uib-tab-heading\")||\"uib-tab-heading\"===a.tagName.toLowerCase()||\"data-uib-tab-heading\"===a.tagName.toLowerCase()||\"x-uib-tab-heading\"===a.tagName.toLowerCase()||\"uib:tab-heading\"===a.tagName.toLowerCase())}return{restrict:\"A\",require:\"^uibTabset\",link:function(b,c,d){var e=b.$eval(d.uibTabContentTransclude).tab;e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module(\"ui.bootstrap.timepicker\",[]).constant(\"uibTimepickerConfig\",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:\"uib/template/timepicker/timepicker.html\"}).controller(\"UibTimepickerController\",[\"$scope\",\"$element\",\"$attrs\",\"$parse\",\"$log\",\"$locale\",\"uibTimepickerConfig\",function(a,b,c,d,e,f,g){function h(){var b=+a.hours,c=a.showMeridian?b>0&&13>b:b>=0&&24>b;return c&&\"\"!==a.hours?(a.showMeridian&&(12===b&&(b=0),a.meridian===y[1]&&(b+=12)),b):void 0}function i(){var b=+a.minutes,c=b>=0&&60>b;return c&&\"\"!==a.minutes?b:void 0}function j(){var b=+a.seconds;return b>=0&&60>b?b:void 0}function k(a,b){return null===a?\"\":angular.isDefined(a)&&a.toString().length<2&&!b?\"0\"+a:a.toString()}function l(a){m(),x.$setViewValue(new Date(v)),n(a)}function m(){s&&s.$setValidity(\"hours\",!0),t&&t.$setValidity(\"minutes\",!0),u&&u.$setValidity(\"seconds\",!0),x.$setValidity(\"time\",!0),a.invalidHours=!1,a.invalidMinutes=!1,a.invalidSeconds=!1}function n(b){if(x.$modelValue){var c=v.getHours(),d=v.getMinutes(),e=v.getSeconds();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours=\"h\"===b?c:k(c,!z),\"m\"!==b&&(a.minutes=k(d)),a.meridian=v.getHours()<12?y[0]:y[1],\"s\"!==b&&(a.seconds=k(e)),a.meridian=v.getHours()<12?y[0]:y[1]}else a.hours=null,a.minutes=null,a.seconds=null,a.meridian=y[0]}function o(a){v=q(v,a),l()}function p(a,b){return q(a,60*b)}function q(a,b){var c=new Date(a.getTime()+1e3*b),d=new Date(a);return d.setHours(c.getHours(),c.getMinutes(),c.getSeconds()),d}function r(){return(null===a.hours||\"\"===a.hours)&&(null===a.minutes||\"\"===a.minutes)&&(!a.showSeconds||a.showSeconds&&(null===a.seconds||\"\"===a.seconds))}var s,t,u,v=new Date,w=[],x={$setViewValue:angular.noop},y=angular.isDefined(c.meridians)?a.$parent.$eval(c.meridians):g.meridians||f.DATETIME_FORMATS.AMPMS,z=angular.isDefined(c.padHours)?a.$parent.$eval(c.padHours):!0;a.tabindex=angular.isDefined(c.tabindex)?c.tabindex:0,b.removeAttr(\"tabindex\"),this.init=function(b,d){x=b,x.$render=this.render,x.$formatters.unshift(function(a){return a?new Date(a):null});var e=d.eq(0),f=d.eq(1),h=d.eq(2);s=e.controller(\"ngModel\"),t=f.controller(\"ngModel\"),u=h.controller(\"ngModel\");var i=angular.isDefined(c.mousewheel)?a.$parent.$eval(c.mousewheel):g.mousewheel;i&&this.setupMousewheelEvents(e,f,h);var j=angular.isDefined(c.arrowkeys)?a.$parent.$eval(c.arrowkeys):g.arrowkeys;j&&this.setupArrowkeyEvents(e,f,h),a.readonlyInput=angular.isDefined(c.readonlyInput)?a.$parent.$eval(c.readonlyInput):g.readonlyInput,this.setupInputEvents(e,f,h)};var A=g.hourStep;c.hourStep&&w.push(a.$parent.$watch(d(c.hourStep),function(a){A=+a}));var B=g.minuteStep;c.minuteStep&&w.push(a.$parent.$watch(d(c.minuteStep),function(a){B=+a}));var C;w.push(a.$parent.$watch(d(c.min),function(a){var b=new Date(a);C=isNaN(b)?void 0:b}));var D;w.push(a.$parent.$watch(d(c.max),function(a){var b=new Date(a);D=isNaN(b)?void 0:b}));var E=!1;c.ngDisabled&&w.push(a.$parent.$watch(d(c.ngDisabled),function(a){E=a})),a.noIncrementHours=function(){var a=p(v,60*A);return E||a>D||v>a&&C>a},a.noDecrementHours=function(){var a=p(v,60*-A);return E||C>a||a>v&&a>D},a.noIncrementMinutes=function(){var a=p(v,B);return E||a>D||v>a&&C>a},a.noDecrementMinutes=function(){var a=p(v,-B);return E||C>a||a>v&&a>D},a.noIncrementSeconds=function(){var a=q(v,F);return E||a>D||v>a&&C>a},a.noDecrementSeconds=function(){var a=q(v,-F);return E||C>a||a>v&&a>D},a.noToggleMeridian=function(){return v.getHours()<12?E||p(v,720)>D:E||p(v,-720)<C};var F=g.secondStep;c.secondStep&&w.push(a.$parent.$watch(d(c.secondStep),function(a){F=+a})),a.showSeconds=g.showSeconds,c.showSeconds&&w.push(a.$parent.$watch(d(c.showSeconds),function(b){a.showSeconds=!!b})),a.showMeridian=g.showMeridian,c.showMeridian&&w.push(a.$parent.$watch(d(c.showMeridian),function(b){if(a.showMeridian=!!b,x.$error.time){var c=h(),d=i();angular.isDefined(c)&&angular.isDefined(d)&&(v.setHours(c),l())}else n()})),this.setupMousewheelEvents=function(b,c,d){var e=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.on(\"mousewheel wheel\",function(b){E||a.$apply(e(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.on(\"mousewheel wheel\",function(b){E||a.$apply(e(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()}),d.on(\"mousewheel wheel\",function(b){E||a.$apply(e(b)?a.incrementSeconds():a.decrementSeconds()),b.preventDefault()})},this.setupArrowkeyEvents=function(b,c,d){b.on(\"keydown\",function(b){E||(38===b.which?(b.preventDefault(),a.incrementHours(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementHours(),a.$apply()))}),c.on(\"keydown\",function(b){E||(38===b.which?(b.preventDefault(),a.incrementMinutes(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementMinutes(),a.$apply()))}),d.on(\"keydown\",function(b){E||(38===b.which?(b.preventDefault(),a.incrementSeconds(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementSeconds(),a.$apply()))})},this.setupInputEvents=function(b,c,d){if(a.readonlyInput)return a.updateHours=angular.noop,a.updateMinutes=angular.noop,void(a.updateSeconds=angular.noop);var e=function(b,c,d){x.$setViewValue(null),x.$setValidity(\"time\",!1),angular.isDefined(b)&&(a.invalidHours=b,s&&s.$setValidity(\"hours\",!1)),angular.isDefined(c)&&(a.invalidMinutes=c,t&&t.$setValidity(\"minutes\",!1)),angular.isDefined(d)&&(a.invalidSeconds=d,u&&u.$setValidity(\"seconds\",!1))};a.updateHours=function(){var a=h(),b=i();x.$setDirty(),angular.isDefined(a)&&angular.isDefined(b)?(v.setHours(a),v.setMinutes(b),C>v||v>D?e(!0):l(\"h\")):e(!0)},b.on(\"blur\",function(b){x.$setTouched(),r()?m():null===a.hours||\"\"===a.hours?e(!0):!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=k(a.hours,!z)})}),a.updateMinutes=function(){var a=i(),b=h();x.$setDirty(),angular.isDefined(a)&&angular.isDefined(b)?(v.setHours(b),v.setMinutes(a),C>v||v>D?e(void 0,!0):l(\"m\")):e(void 0,!0)},c.on(\"blur\",function(b){x.$setTouched(),r()?m():null===a.minutes?e(void 0,!0):!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=k(a.minutes)})}),a.updateSeconds=function(){var a=j();x.$setDirty(),angular.isDefined(a)?(v.setSeconds(a),l(\"s\")):e(void 0,void 0,!0)},d.on(\"blur\",function(b){r()?m():!a.invalidSeconds&&a.seconds<10&&a.$apply(function(){a.seconds=k(a.seconds)})})},this.render=function(){var b=x.$viewValue;isNaN(b)?(x.$setValidity(\"time\",!1),e.error('Timepicker directive: \"ng-model\" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(b&&(v=b),C>v||v>D?(x.$setValidity(\"time\",!1),a.invalidHours=!0,a.invalidMinutes=!0):m(),n())},a.showSpinners=angular.isDefined(c.showSpinners)?a.$parent.$eval(c.showSpinners):g.showSpinners,a.incrementHours=function(){a.noIncrementHours()||o(60*A*60)},a.decrementHours=function(){a.noDecrementHours()||o(60*-A*60)},a.incrementMinutes=function(){a.noIncrementMinutes()||o(60*B)},a.decrementMinutes=function(){a.noDecrementMinutes()||o(60*-B)},a.incrementSeconds=function(){a.noIncrementSeconds()||o(F)},a.decrementSeconds=function(){a.noDecrementSeconds()||o(-F)},a.toggleMeridian=function(){var b=i(),c=h();a.noToggleMeridian()||(angular.isDefined(b)&&angular.isDefined(c)?o(720*(v.getHours()<12?60:-60)):a.meridian=a.meridian===y[0]?y[1]:y[0])},a.blur=function(){x.$setTouched()},a.$on(\"$destroy\",function(){for(;w.length;)w.shift()()})}]).directive(\"uibTimepicker\",[\"uibTimepickerConfig\",function(a){return{require:[\"uibTimepicker\",\"?^ngModel\"],restrict:\"A\",controller:\"UibTimepickerController\",controllerAs:\"timepicker\",scope:{},templateUrl:function(b,c){return c.templateUrl||a.templateUrl},link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find(\"input\"))}}}]),angular.module(\"ui.bootstrap.typeahead\",[\"ui.bootstrap.debounce\",\"ui.bootstrap.position\"]).factory(\"uibTypeaheadParser\",[\"$parse\",function(a){var b=/^\\s*([\\s\\S]+?)(?:\\s+as\\s+([\\s\\S]+?))?\\s+for\\s+(?:([\\$\\w][\\$\\w\\d]*))\\s+in\\s+([\\s\\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of \"_modelValue_ (as _label_)? for _item_ in _collection_\" but got \"'+c+'\".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).controller(\"UibTypeaheadController\",[\"$scope\",\"$element\",\"$attrs\",\"$compile\",\"$parse\",\"$q\",\"$timeout\",\"$document\",\"$window\",\"$rootScope\",\"$$debounce\",\"$uibPosition\",\"uibTypeaheadParser\",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){P.moveInProgress||(P.moveInProgress=!0,P.$digest()),$()}function o(){P.position=F?l.offset(b):l.position(b),P.position.top+=b.prop(\"offsetHeight\")}function p(a){var b;return angular.version.minor<6?(b=a.$options||{},b.getOption=function(a){return b[a]}):b=a.$options,b}var q,r,s=[9,13,27,38,40],t=200,u=a.$eval(c.typeaheadMinLength);u||0===u||(u=1),a.$watch(c.typeaheadMinLength,function(a){u=a||0===a?a:1});var v=a.$eval(c.typeaheadWaitMs)||0,w=a.$eval(c.typeaheadEditable)!==!1;a.$watch(c.typeaheadEditable,function(a){w=a!==!1});var x,y,z=e(c.typeaheadLoading).assign||angular.noop,A=c.typeaheadShouldSelect?e(c.typeaheadShouldSelect):function(a,b){var c=b.$event;return 13===c.which||9===c.which},B=e(c.typeaheadOnSelect),C=angular.isDefined(c.typeaheadSelectOnBlur)?a.$eval(c.typeaheadSelectOnBlur):!1,D=e(c.typeaheadNoResults).assign||angular.noop,E=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):void 0,F=c.typeaheadAppendToBody?a.$eval(c.typeaheadAppendToBody):!1,G=c.typeaheadAppendTo?a.$eval(c.typeaheadAppendTo):null,H=a.$eval(c.typeaheadFocusFirst)!==!1,I=c.typeaheadSelectOnExact?a.$eval(c.typeaheadSelectOnExact):!1,J=e(c.typeaheadIsOpen).assign||angular.noop,K=a.$eval(c.typeaheadShowHint)||!1,L=e(c.ngModel),M=e(c.ngModel+\"($$$p)\"),N=function(b,c){return angular.isFunction(L(a))&&r.getOption(\"getterSetter\")?M(b,{$$$p:c}):L.assign(b,c)},O=m.parse(c.uibTypeahead),P=a.$new(),Q=a.$on(\"$destroy\",function(){P.$destroy()});P.$on(\"$destroy\",Q);var R=\"typeahead-\"+P.$id+\"-\"+Math.floor(1e4*Math.random());b.attr({\"aria-autocomplete\":\"list\",\"aria-expanded\":!1,\"aria-owns\":R});var S,T;K&&(S=angular.element(\"<div></div>\"),S.css(\"position\",\"relative\"),b.after(S),T=b.clone(),T.attr(\"placeholder\",\"\"),T.attr(\"tabindex\",\"-1\"),T.val(\"\"),T.css({position:\"absolute\",top:\"0px\",left:\"0px\",\"border-color\":\"transparent\",\"box-shadow\":\"none\",opacity:1,background:\"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)\",color:\"#999\"}),b.css({position:\"relative\",\"vertical-align\":\"top\",\"background-color\":\"transparent\"}),T.attr(\"id\")&&T.removeAttr(\"id\"),S.append(T),T.after(b));var U=angular.element(\"<div uib-typeahead-popup></div>\");U.attr({id:R,matches:\"matches\",active:\"activeIdx\",select:\"select(activeIdx, evt)\",\"move-in-progress\":\"moveInProgress\",query:\"query\",position:\"position\",\"assign-is-open\":\"assignIsOpen(isOpen)\",debounce:\"debounceUpdate\"}),angular.isDefined(c.typeaheadTemplateUrl)&&U.attr(\"template-url\",c.typeaheadTemplateUrl),angular.isDefined(c.typeaheadPopupTemplateUrl)&&U.attr(\"popup-template-url\",c.typeaheadPopupTemplateUrl);var V=function(){K&&T.val(\"\")},W=function(){P.matches=[],P.activeIdx=-1,b.attr(\"aria-expanded\",!1),V()},X=function(a){return R+\"-option-\"+a};P.$watch(\"activeIdx\",function(a){0>a?b.removeAttr(\"aria-activedescendant\"):b.attr(\"aria-activedescendant\",X(a))});var Y=function(a,b){return P.matches.length>b&&a?a.toUpperCase()===P.matches[b].label.toUpperCase():!1},Z=function(c,d){var e={$viewValue:c};z(a,!0),D(a,!1),f.when(O.source(a,e)).then(function(f){var g=c===q.$viewValue;if(g&&x)if(f&&f.length>0){P.activeIdx=H?0:-1,D(a,!1),P.matches.length=0;for(var h=0;h<f.length;h++)e[O.itemName]=f[h],P.matches.push({id:X(h),label:O.viewMapper(P,e),model:f[h]});if(P.query=c,o(),b.attr(\"aria-expanded\",!0),I&&1===P.matches.length&&Y(c,0)&&(angular.isNumber(P.debounceUpdate)||angular.isObject(P.debounceUpdate)?k(function(){P.select(0,d)},angular.isNumber(P.debounceUpdate)?P.debounceUpdate:P.debounceUpdate[\"default\"]):P.select(0,d)),K){var i=P.matches[0].label;angular.isString(c)&&c.length>0&&i.slice(0,c.length).toUpperCase()===c.toUpperCase()?T.val(c+i.slice(c.length)):T.val(\"\")}}else W(),D(a,!0);g&&z(a,!1)},function(){W(),z(a,!1),D(a,!0)})};F&&(angular.element(i).on(\"resize\",n),h.find(\"body\").on(\"scroll\",n));var $=k(function(){P.matches.length&&o(),P.moveInProgress=!1},t);P.moveInProgress=!1,P.query=void 0;var _,aa=function(a){_=g(function(){Z(a)},v)},ba=function(){_&&g.cancel(_)};W(),P.assignIsOpen=function(b){J(a,b)},P.select=function(d,e){var f,h,i={};y=!0,i[O.itemName]=h=P.matches[d].model,f=O.modelMapper(a,i),N(a,f),q.$setValidity(\"editable\",!0),q.$setValidity(\"parse\",!0),B(a,{$item:h,$model:f,$label:O.viewMapper(a,i),$event:e}),W(),P.$eval(c.typeaheadFocusOnSelect)!==!1&&g(function(){b[0].focus()},0,!1)},b.on(\"keydown\",function(b){if(0!==P.matches.length&&-1!==s.indexOf(b.which)){var c=A(a,{$event:b});if(-1===P.activeIdx&&c||9===b.which&&b.shiftKey)return W(),void P.$digest();b.preventDefault();var d;switch(b.which){case 27:b.stopPropagation(),W(),a.$digest();break;case 38:P.activeIdx=(P.activeIdx>0?P.activeIdx:P.matches.length)-1,P.$digest(),d=U[0].querySelectorAll(\".uib-typeahead-match\")[P.activeIdx],d.parentNode.scrollTop=d.offsetTop;break;case 40:P.activeIdx=(P.activeIdx+1)%P.matches.length,P.$digest(),d=U[0].querySelectorAll(\".uib-typeahead-match\")[P.activeIdx],\nd.parentNode.scrollTop=d.offsetTop;break;default:c&&P.$apply(function(){angular.isNumber(P.debounceUpdate)||angular.isObject(P.debounceUpdate)?k(function(){P.select(P.activeIdx,b)},angular.isNumber(P.debounceUpdate)?P.debounceUpdate:P.debounceUpdate[\"default\"]):P.select(P.activeIdx,b)})}}}),b.on(\"focus\",function(a){x=!0,0!==u||q.$viewValue||g(function(){Z(q.$viewValue,a)},0)}),b.on(\"blur\",function(a){C&&P.matches.length&&-1!==P.activeIdx&&!y&&(y=!0,P.$apply(function(){angular.isObject(P.debounceUpdate)&&angular.isNumber(P.debounceUpdate.blur)?k(function(){P.select(P.activeIdx,a)},P.debounceUpdate.blur):P.select(P.activeIdx,a)})),!w&&q.$error.editable&&(q.$setViewValue(),P.$apply(function(){q.$setValidity(\"editable\",!0),q.$setValidity(\"parse\",!0)}),b.val(\"\")),x=!1,y=!1});var ca=function(c){b[0]!==c.target&&3!==c.which&&0!==P.matches.length&&(W(),j.$$phase||a.$digest())};h.on(\"click\",ca),a.$on(\"$destroy\",function(){h.off(\"click\",ca),(F||G)&&da.remove(),F&&(angular.element(i).off(\"resize\",n),h.find(\"body\").off(\"scroll\",n)),U.remove(),K&&S.remove()});var da=d(U)(P);F?h.find(\"body\").append(da):G?angular.element(G).eq(0).append(da):b.after(da),this.init=function(b){q=b,r=p(q),P.debounceUpdate=e(r.getOption(\"debounce\"))(a),q.$parsers.unshift(function(b){return x=!0,0===u||b&&b.length>=u?v>0?(ba(),aa(b)):Z(b):(z(a,!1),ba(),W()),w?b:b?void q.$setValidity(\"editable\",!1):(q.$setValidity(\"editable\",!0),null)}),q.$formatters.push(function(b){var c,d,e={};return w||q.$setValidity(\"editable\",!0),E?(e.$model=b,E(a,e)):(e[O.itemName]=b,c=O.viewMapper(a,e),e[O.itemName]=void 0,d=O.viewMapper(a,e),c!==d?c:b)})}}]).directive(\"uibTypeahead\",function(){return{controller:\"UibTypeaheadController\",require:[\"ngModel\",\"uibTypeahead\"],link:function(a,b,c,d){d[1].init(d[0])}}}).directive(\"uibTypeaheadPopup\",[\"$$debounce\",function(a){return{scope:{matches:\"=\",query:\"=\",active:\"=\",position:\"&\",moveInProgress:\"=\",select:\"&\",assignIsOpen:\"&\",debounce:\"&\"},replace:!0,templateUrl:function(a,b){return b.popupTemplateUrl||\"uib/template/typeahead/typeahead-popup.html\"},link:function(b,c,d){b.templateUrl=d.templateUrl,b.isOpen=function(){var a=b.matches.length>0;return b.assignIsOpen({isOpen:a}),a},b.isActive=function(a){return b.active===a},b.selectActive=function(a){b.active=a},b.selectMatch=function(c,d){var e=b.debounce();angular.isNumber(e)||angular.isObject(e)?a(function(){b.select({activeIdx:c,evt:d})},angular.isNumber(e)?e:e[\"default\"]):b.select({activeIdx:c,evt:d})}}}}]).directive(\"uibTypeaheadMatch\",[\"$templateRequest\",\"$compile\",\"$parse\",function(a,b,c){return{scope:{index:\"=\",match:\"=\",query:\"=\"},link:function(d,e,f){var g=c(f.templateUrl)(d.$parent)||\"uib/template/typeahead/typeahead-match.html\";a(g).then(function(a){var c=angular.element(a.trim());e.replaceWith(c),b(c)(d)})}}}]).filter(\"uibTypeaheadHighlight\",[\"$sce\",\"$injector\",\"$log\",function(a,b,c){function d(a){return a.replace(/([.?*+^$[\\]\\\\(){}|-])/g,\"\\\\$1\")}function e(a){return/<.*>/g.test(a)}var f;return f=b.has(\"$sanitize\"),function(b,g){return!f&&e(b)&&c.warn(\"Unsafe use of typeahead please use ngSanitize\"),b=g?(\"\"+b).replace(new RegExp(d(g),\"gi\"),\"<strong>$&</strong>\"):b,f||(b=a.trustAsHtml(b)),b}}]),angular.module(\"uib/template/accordion/accordion-group.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/accordion/accordion-group.html\",'<div role=\"tab\" id=\"{{::headingId}}\" aria-selected=\"{{isOpen}}\" class=\"mgz-tab-panel-heading\" ng-keypress=\"toggleOpen($event)\">\\n  <h4 class=\"mgz-tab-panel-title\">\\n    <a role=\"button\" data-toggle=\"collapse\" href aria-expanded=\"{{isOpen}}\" aria-controls=\"{{::panelId}}\" tabindex=\"0\" class=\"accordion-toggle\" ng-click=\"toggleOpen()\" uib-accordion-transclude=\"heading\" ng-disabled=\"isDisabled\" uib-tabindex-toggle><span uib-accordion-header ng-class=\"{\\'text-muted\\': isDisabled}\">{{heading}}</span></a>\\n  </h4>\\n</div>\\n<div id=\"{{::panelId}}\" aria-labelledby=\"{{::headingId}}\" aria-hidden=\"{{!isOpen}}\" role=\"tabpanel\" class=\"mgz-tab-panel-collapse collapse\" uib-collapse=\"!isOpen\">\\n  <div class=\"mgz-tab-panel-body\" ng-transclude></div>\\n</div>\\n')}]),angular.module(\"uib/template/accordion/accordion.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/accordion/accordion.html\",'<div role=\"tablist\" class=\"panel-group\" ng-transclude></div>')}]),angular.module(\"uib/template/alert/alert.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/alert/alert.html\",'<button ng-show=\"closeable\" type=\"button\" class=\"close\" ng-click=\"close({$event: $event})\">\\n  <span aria-hidden=\"true\">&times;</span>\\n  <span class=\"sr-only\">Close</span>\\n</button>\\n<div ng-transclude></div>\\n')}]),angular.module(\"uib/template/carousel/carousel.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/carousel/carousel.html\",'<div class=\"carousel-inner\" ng-transclude></div>\\n<a role=\"button\" href class=\"left carousel-control\" ng-click=\"prev()\" ng-class=\"{ disabled: isPrevDisabled() }\" ng-show=\"slides.length > 1\">\\n  <span aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-left\"></span>\\n  <span class=\"sr-only\">previous</span>\\n</a>\\n<a role=\"button\" href class=\"right carousel-control\" ng-click=\"next()\" ng-class=\"{ disabled: isNextDisabled() }\" ng-show=\"slides.length > 1\">\\n  <span aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-right\"></span>\\n  <span class=\"sr-only\">next</span>\\n</a>\\n<ol class=\"carousel-indicators\" ng-show=\"slides.length > 1\">\\n  <li ng-repeat=\"slide in slides | orderBy:indexOfSlide track by $index\" ng-class=\"{ active: isActive(slide) }\" ng-click=\"select(slide)\">\\n    <span class=\"sr-only\">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if=\"isActive(slide)\">, currently active</span></span>\\n  </li>\\n</ol>\\n')}]),angular.module(\"uib/template/carousel/slide.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/carousel/slide.html\",'<div class=\"text-center\" ng-transclude></div>\\n')}]),angular.module(\"uib/template/datepicker/datepicker.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/datepicker/datepicker.html\",'<div ng-switch=\"datepickerMode\">\\n  <div uib-daypicker ng-switch-when=\"day\" tabindex=\"0\" class=\"uib-daypicker\"></div>\\n  <div uib-monthpicker ng-switch-when=\"month\" tabindex=\"0\" class=\"uib-monthpicker\"></div>\\n  <div uib-yearpicker ng-switch-when=\"year\" tabindex=\"0\" class=\"uib-yearpicker\"></div>\\n</div>\\n')}]),angular.module(\"uib/template/datepicker/day.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/datepicker/day.html\",'<table role=\"grid\" aria-labelledby=\"{{::uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\\n  <thead>\\n    <tr>\\n      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left uib-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-left\"></i><span class=\"sr-only\">previous</span></button></th>\\n      <th colspan=\"{{::5 + showWeeks}}\"><button id=\"{{::uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm uib-title\" ng-click=\"toggleMode()\" ng-disabled=\"datepickerMode === maxMode\" tabindex=\"-1\"><strong>{{title}}</strong></button></th>\\n      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right uib-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-right\"></i><span class=\"sr-only\">next</span></button></th>\\n    </tr>\\n    <tr>\\n      <th ng-if=\"showWeeks\" class=\"text-center\"></th>\\n      <th ng-repeat=\"label in ::labels track by $index\" class=\"text-center\"><small aria-label=\"{{::label.full}}\">{{::label.abbr}}</small></th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    <tr class=\"uib-weeks\" ng-repeat=\"row in rows track by $index\" role=\"row\">\\n      <td ng-if=\"showWeeks\" class=\"text-center h6\"><em>{{ weekNumbers[$index] }}</em></td>\\n      <td ng-repeat=\"dt in row\" class=\"uib-day text-center\" role=\"gridcell\"\\n        id=\"{{::dt.uid}}\"\\n        ng-class=\"::dt.customClass\">\\n        <button type=\"button\" class=\"btn btn-default btn-sm\"\\n          uib-is-class=\"\\n            \\'btn-info\\' for selectedDt,\\n            \\'active\\' for activeDt\\n            on dt\"\\n          ng-click=\"select(dt.date)\"\\n          ng-disabled=\"::dt.disabled\"\\n          tabindex=\"-1\"><span ng-class=\"::{\\'text-muted\\': dt.secondary, \\'text-info\\': dt.current}\">{{::dt.label}}</span></button>\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\\n')}]),angular.module(\"uib/template/datepicker/month.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/datepicker/month.html\",'<table role=\"grid\" aria-labelledby=\"{{::uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\\n  <thead>\\n    <tr>\\n      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left uib-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-left\"></i><span class=\"sr-only\">previous</span></button></th>\\n      <th colspan=\"{{::yearHeaderColspan}}\"><button id=\"{{::uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm uib-title\" ng-click=\"toggleMode()\" ng-disabled=\"datepickerMode === maxMode\" tabindex=\"-1\"><strong>{{title}}</strong></button></th>\\n      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right uib-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-right\"></i><span class=\"sr-only\">next</span></i></button></th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    <tr class=\"uib-months\" ng-repeat=\"row in rows track by $index\" role=\"row\">\\n      <td ng-repeat=\"dt in row\" class=\"uib-month text-center\" role=\"gridcell\"\\n        id=\"{{::dt.uid}}\"\\n        ng-class=\"::dt.customClass\">\\n        <button type=\"button\" class=\"btn btn-default\"\\n          uib-is-class=\"\\n            \\'btn-info\\' for selectedDt,\\n            \\'active\\' for activeDt\\n            on dt\"\\n          ng-click=\"select(dt.date)\"\\n          ng-disabled=\"::dt.disabled\"\\n          tabindex=\"-1\"><span ng-class=\"::{\\'text-info\\': dt.current}\">{{::dt.label}}</span></button>\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\\n')}]),angular.module(\"uib/template/datepicker/year.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/datepicker/year.html\",'<table role=\"grid\" aria-labelledby=\"{{::uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\\n  <thead>\\n    <tr>\\n      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left uib-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-left\"></i><span class=\"sr-only\">previous</span></button></th>\\n      <th colspan=\"{{::columns - 2}}\"><button id=\"{{::uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm uib-title\" ng-click=\"toggleMode()\" ng-disabled=\"datepickerMode === maxMode\" tabindex=\"-1\"><strong>{{title}}</strong></button></th>\\n      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right uib-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-right\"></i><span class=\"sr-only\">next</span></button></th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    <tr class=\"uib-years\" ng-repeat=\"row in rows track by $index\" role=\"row\">\\n      <td ng-repeat=\"dt in row\" class=\"uib-year text-center\" role=\"gridcell\"\\n        id=\"{{::dt.uid}}\"\\n        ng-class=\"::dt.customClass\">\\n        <button type=\"button\" class=\"btn btn-default\"\\n          uib-is-class=\"\\n            \\'btn-info\\' for selectedDt,\\n            \\'active\\' for activeDt\\n            on dt\"\\n          ng-click=\"select(dt.date)\"\\n          ng-disabled=\"::dt.disabled\"\\n          tabindex=\"-1\"><span ng-class=\"::{\\'text-info\\': dt.current}\">{{::dt.label}}</span></button>\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\\n')}]),angular.module(\"uib/template/datepickerPopup/popup.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/datepickerPopup/popup.html\",'<ul role=\"presentation\" class=\"uib-datepicker-popup dropdown-menu uib-position-measure\" dropdown-nested ng-if=\"isOpen\" ng-keydown=\"keydown($event)\" ng-click=\"$event.stopPropagation()\">\\n  <li ng-transclude></li>\\n  <li ng-if=\"showButtonBar\" class=\"uib-button-bar\">\\n    <span class=\"btn-group pull-left\">\\n      <button type=\"button\" class=\"btn btn-sm btn-info uib-datepicker-current\" ng-click=\"select(\\'today\\', $event)\" ng-disabled=\"isDisabled(\\'today\\')\">{{ getText(\\'current\\') }}</button>\\n      <button type=\"button\" class=\"btn btn-sm btn-danger uib-clear\" ng-click=\"select(null, $event)\">{{ getText(\\'clear\\') }}</button>\\n    </span>\\n    <button type=\"button\" class=\"btn btn-sm btn-success pull-right uib-close\" ng-click=\"close($event)\">{{ getText(\\'close\\') }}</button>\\n  </li>\\n</ul>\\n')}]),angular.module(\"uib/template/modal/window.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/modal/window.html\",\"<div class=\\\"modal-dialog {{size ? 'modal-' + size : ''}}\\\"><div class=\\\"modal-content\\\" uib-modal-transclude></div></div>\\n\")}]),angular.module(\"uib/template/pager/pager.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/pager/pager.html\",'<li ng-class=\"{disabled: noPrevious()||ngDisabled, previous: align}\"><a href ng-click=\"selectPage(page - 1, $event)\" ng-disabled=\"noPrevious()||ngDisabled\" uib-tabindex-toggle>{{::getText(\\'previous\\')}}</a></li>\\n<li ng-class=\"{disabled: noNext()||ngDisabled, next: align}\"><a href ng-click=\"selectPage(page + 1, $event)\" ng-disabled=\"noNext()||ngDisabled\" uib-tabindex-toggle>{{::getText(\\'next\\')}}</a></li>\\n')}]),angular.module(\"uib/template/pagination/pagination.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/pagination/pagination.html\",'<li role=\"menuitem\" ng-if=\"::boundaryLinks\" ng-class=\"{disabled: noPrevious()||ngDisabled}\" class=\"pagination-first\"><a href ng-click=\"selectPage(1, $event)\" ng-disabled=\"noPrevious()||ngDisabled\" uib-tabindex-toggle>{{::getText(\\'first\\')}}</a></li>\\n<li role=\"menuitem\" ng-if=\"::directionLinks\" ng-class=\"{disabled: noPrevious()||ngDisabled}\" class=\"pagination-prev\"><a href ng-click=\"selectPage(page - 1, $event)\" ng-disabled=\"noPrevious()||ngDisabled\" uib-tabindex-toggle>{{::getText(\\'previous\\')}}</a></li>\\n<li role=\"menuitem\" ng-repeat=\"page in pages track by $index\" ng-class=\"{active: page.active,disabled: ngDisabled&&!page.active}\" class=\"pagination-page\"><a href ng-click=\"selectPage(page.number, $event)\" ng-disabled=\"ngDisabled&&!page.active\" uib-tabindex-toggle>{{page.text}}</a></li>\\n<li role=\"menuitem\" ng-if=\"::directionLinks\" ng-class=\"{disabled: noNext()||ngDisabled}\" class=\"pagination-next\"><a href ng-click=\"selectPage(page + 1, $event)\" ng-disabled=\"noNext()||ngDisabled\" uib-tabindex-toggle>{{::getText(\\'next\\')}}</a></li>\\n<li role=\"menuitem\" ng-if=\"::boundaryLinks\" ng-class=\"{disabled: noNext()||ngDisabled}\" class=\"pagination-last\"><a href ng-click=\"selectPage(totalPages, $event)\" ng-disabled=\"noNext()||ngDisabled\" uib-tabindex-toggle>{{::getText(\\'last\\')}}</a></li>\\n')}]),angular.module(\"uib/template/tooltip/tooltip-html-popup.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/tooltip/tooltip-html-popup.html\",'<div class=\"tooltip-arrow\"></div>\\n<div class=\"tooltip-inner\" ng-bind-html=\"contentExp()\"></div>\\n')}]),angular.module(\"uib/template/tooltip/tooltip-popup.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/tooltip/tooltip-popup.html\",'<div class=\"tooltip-arrow\"></div>\\n<div class=\"tooltip-inner\" ng-bind=\"content\"></div>\\n')}]),angular.module(\"uib/template/tooltip/tooltip-template-popup.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/tooltip/tooltip-template-popup.html\",'<div class=\"tooltip-arrow\"></div>\\n<div class=\"tooltip-inner\"\\n  uib-tooltip-template-transclude=\"contentExp()\"\\n  tooltip-template-transclude-scope=\"originScope()\"></div>\\n')}]),angular.module(\"uib/template/popover/popover-html.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/popover/popover-html.html\",'<div class=\"arrow\"></div>\\n\\n<div class=\"popover-inner\">\\n    <h3 class=\"popover-title\" ng-bind=\"uibTitle\" ng-if=\"uibTitle\"></h3>\\n    <div class=\"popover-content\" ng-bind-html=\"contentExp()\"></div>\\n</div>\\n')}]),angular.module(\"uib/template/popover/popover-template.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/popover/popover-template.html\",'<div class=\"arrow\"></div>\\n\\n<div class=\"popover-inner\">\\n    <h3 class=\"popover-title\" ng-bind=\"uibTitle\" ng-if=\"uibTitle\"></h3>\\n    <div class=\"popover-content\"\\n      uib-tooltip-template-transclude=\"contentExp()\"\\n      tooltip-template-transclude-scope=\"originScope()\"></div>\\n</div>\\n')}]),angular.module(\"uib/template/popover/popover.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/popover/popover.html\",'<div class=\"arrow\"></div>\\n\\n<div class=\"popover-inner\">\\n    <h3 class=\"popover-title\" ng-bind=\"uibTitle\" ng-if=\"uibTitle\"></h3>\\n    <div class=\"popover-content\" ng-bind=\"content\"></div>\\n</div>\\n')}]),angular.module(\"uib/template/progressbar/bar.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/progressbar/bar.html\",'<div class=\"progress-bar\" ng-class=\"type && \\'progress-bar-\\' + type\" role=\"progressbar\" aria-valuenow=\"{{value}}\" aria-valuemin=\"0\" aria-valuemax=\"{{max}}\" ng-style=\"{width: (percent < 100 ? percent : 100) + \\'%\\'}\" aria-valuetext=\"{{percent | number:0}}%\" aria-labelledby=\"{{::title}}\" ng-transclude></div>\\n')}]),angular.module(\"uib/template/progressbar/progress.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/progressbar/progress.html\",'<div class=\"progress\" ng-transclude aria-labelledby=\"{{::title}}\"></div>')}]),angular.module(\"uib/template/progressbar/progressbar.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/progressbar/progressbar.html\",'<div class=\"progress\">\\n  <div class=\"progress-bar\" ng-class=\"type && \\'progress-bar-\\' + type\" role=\"progressbar\" aria-valuenow=\"{{value}}\" aria-valuemin=\"0\" aria-valuemax=\"{{max}}\" ng-style=\"{width: (percent < 100 ? percent : 100) + \\'%\\'}\" aria-valuetext=\"{{percent | number:0}}%\" aria-labelledby=\"{{::title}}\" ng-transclude></div>\\n</div>\\n')}]),angular.module(\"uib/template/rating/rating.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/rating/rating.html\",'<span ng-mouseleave=\"reset()\" ng-keydown=\"onKeydown($event)\" tabindex=\"0\" role=\"slider\" aria-valuemin=\"0\" aria-valuemax=\"{{range.length}}\" aria-valuenow=\"{{value}}\" aria-valuetext=\"{{title}}\">\\n    <span ng-repeat-start=\"r in range track by $index\" class=\"sr-only\">({{ $index < value ? \\'*\\' : \\' \\' }})</span>\\n    <i ng-repeat-end ng-mouseenter=\"enter($index + 1)\" ng-click=\"rate($index + 1)\" class=\"glyphicon\" ng-class=\"$index < value && (r.stateOn || \\'glyphicon-star\\') || (r.stateOff || \\'glyphicon-star-empty\\')\" ng-attr-title=\"{{r.title}}\"></i>\\n</span>\\n')}]),angular.module(\"uib/template/tabs/tab.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/tabs/tab.html\",'<li ng-class=\"[{active: active, disabled: disabled}, classes]\" class=\"uib-tab nav-item\">\\n  <a href ng-click=\"select($event)\" class=\"nav-link\" uib-tab-heading-transclude>{{heading}}</a>\\n</li>\\n')}]),angular.module(\"uib/template/tabs/tabset.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/tabs/tabset.html\",'<div>\\n  <ul class=\"nav nav-{{tabset.type || \\'tabs\\'}}\" ng-class=\"{\\'nav-stacked\\': vertical, \\'nav-justified\\': justified}\" ng-transclude></ul>\\n  <div class=\"tab-content\">\\n    <div class=\"tab-pane\"\\n         ng-repeat=\"tab in tabset.tabs\"\\n         ng-class=\"{active: tabset.active === tab.index}\"\\n         uib-tab-content-transclude=\"tab\">\\n    </div>\\n  </div>\\n</div>\\n')}]),angular.module(\"uib/template/timepicker/timepicker.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/timepicker/timepicker.html\",'<table class=\"uib-timepicker\">\\n  <tbody>\\n    <tr class=\"text-center\" ng-show=\"::showSpinners\">\\n      <td class=\"uib-increment hours\"><a ng-click=\"incrementHours()\" ng-class=\"{disabled: noIncrementHours()}\" class=\"btn btn-link\" ng-disabled=\"noIncrementHours()\" tabindex=\"-1\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\\n      <td>&nbsp;</td>\\n      <td class=\"uib-increment minutes\"><a ng-click=\"incrementMinutes()\" ng-class=\"{disabled: noIncrementMinutes()}\" class=\"btn btn-link\" ng-disabled=\"noIncrementMinutes()\" tabindex=\"-1\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\\n      <td ng-show=\"showSeconds\">&nbsp;</td>\\n      <td ng-show=\"showSeconds\" class=\"uib-increment seconds\"><a ng-click=\"incrementSeconds()\" ng-class=\"{disabled: noIncrementSeconds()}\" class=\"btn btn-link\" ng-disabled=\"noIncrementSeconds()\" tabindex=\"-1\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\\n      <td ng-show=\"showMeridian\"></td>\\n    </tr>\\n    <tr>\\n      <td class=\"form-group uib-time hours\" ng-class=\"{\\'has-error\\': invalidHours}\">\\n        <input type=\"text\" placeholder=\"HH\" ng-model=\"hours\" ng-change=\"updateHours()\" class=\"form-control text-center\" ng-readonly=\"::readonlyInput\" maxlength=\"2\" tabindex=\"{{::tabindex}}\" ng-disabled=\"noIncrementHours()\" ng-blur=\"blur()\">\\n      </td>\\n      <td class=\"uib-separator\">:</td>\\n      <td class=\"form-group uib-time minutes\" ng-class=\"{\\'has-error\\': invalidMinutes}\">\\n        <input type=\"text\" placeholder=\"MM\" ng-model=\"minutes\" ng-change=\"updateMinutes()\" class=\"form-control text-center\" ng-readonly=\"::readonlyInput\" maxlength=\"2\" tabindex=\"{{::tabindex}}\" ng-disabled=\"noIncrementMinutes()\" ng-blur=\"blur()\">\\n      </td>\\n      <td ng-show=\"showSeconds\" class=\"uib-separator\">:</td>\\n      <td class=\"form-group uib-time seconds\" ng-class=\"{\\'has-error\\': invalidSeconds}\" ng-show=\"showSeconds\">\\n        <input type=\"text\" placeholder=\"SS\" ng-model=\"seconds\" ng-change=\"updateSeconds()\" class=\"form-control text-center\" ng-readonly=\"readonlyInput\" maxlength=\"2\" tabindex=\"{{::tabindex}}\" ng-disabled=\"noIncrementSeconds()\" ng-blur=\"blur()\">\\n      </td>\\n      <td ng-show=\"showMeridian\" class=\"uib-time am-pm\"><button type=\"button\" ng-class=\"{disabled: noToggleMeridian()}\" class=\"btn btn-default text-center\" ng-click=\"toggleMeridian()\" ng-disabled=\"noToggleMeridian()\" tabindex=\"{{::tabindex}}\">{{meridian}}</button></td>\\n    </tr>\\n    <tr class=\"text-center\" ng-show=\"::showSpinners\">\\n      <td class=\"uib-decrement hours\"><a ng-click=\"decrementHours()\" ng-class=\"{disabled: noDecrementHours()}\" class=\"btn btn-link\" ng-disabled=\"noDecrementHours()\" tabindex=\"-1\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\\n      <td>&nbsp;</td>\\n      <td class=\"uib-decrement minutes\"><a ng-click=\"decrementMinutes()\" ng-class=\"{disabled: noDecrementMinutes()}\" class=\"btn btn-link\" ng-disabled=\"noDecrementMinutes()\" tabindex=\"-1\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\\n      <td ng-show=\"showSeconds\">&nbsp;</td>\\n      <td ng-show=\"showSeconds\" class=\"uib-decrement seconds\"><a ng-click=\"decrementSeconds()\" ng-class=\"{disabled: noDecrementSeconds()}\" class=\"btn btn-link\" ng-disabled=\"noDecrementSeconds()\" tabindex=\"-1\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\\n      <td ng-show=\"showMeridian\"></td>\\n    </tr>\\n  </tbody>\\n</table>\\n')}]),angular.module(\"uib/template/typeahead/typeahead-match.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/typeahead/typeahead-match.html\",'<a href\\n   tabindex=\"-1\"\\n   ng-bind-html=\"match.label | uibTypeaheadHighlight:query\"\\n   ng-attr-title=\"{{match.label}}\"></a>\\n')}]),angular.module(\"uib/template/typeahead/typeahead-popup.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/typeahead/typeahead-popup.html\",'<ul class=\"dropdown-menu\" ng-show=\"isOpen() && !moveInProgress\" ng-style=\"{top: position().top+\\'px\\', left: position().left+\\'px\\'}\" role=\"listbox\" aria-hidden=\"{{!isOpen()}}\">\\n    <li class=\"uib-typeahead-match\" ng-repeat=\"match in matches track by $index\" ng-class=\"{active: isActive($index) }\" ng-mouseenter=\"selectActive($index)\" ng-click=\"selectMatch($index, $event)\" role=\"option\" id=\"{{::match.id}}\">\\n        <div uib-typeahead-match index=\"$index\" match=\"match\" query=\"query\" template-url=\"templateUrl\"></div>\\n    </li>\\n</ul>\\n')}]),angular.module(\"ui.bootstrap.carousel\").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find(\"head\").prepend('<style type=\"text/css\">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module(\"ui.bootstrap.datepicker\").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find(\"head\").prepend('<style type=\"text/css\">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module(\"ui.bootstrap.position\").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find(\"head\").prepend('<style type=\"text/css\">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module(\"ui.bootstrap.datepickerPopup\").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find(\"head\").prepend('<style type=\"text/css\">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module(\"ui.bootstrap.tooltip\").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find(\"head\").prepend('<style type=\"text/css\">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module(\"ui.bootstrap.timepicker\").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find(\"head\").prepend('<style type=\"text/css\">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module(\"ui.bootstrap.typeahead\").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find(\"head\").prepend('<style type=\"text/css\">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0});","Magezon_Builder/js/countdown.js":"define([\n    'jquery',\n    'jquery-ui-modules/widget',\n    'Magezon_Builder/js/waypoints/jquery.waypoints'\n], function ($) {\n    'use strict';\n\n    $.widget('magezon.countdown', {\n        options: {\n            nodeClass: '',\n            wrapperClass: '',\n            countdown: '',\n            dateWrapper: '',\n            dateLabel: '',\n            hoursWrapper: '',\n            hoursLabel: '',\n            minutesWrapper: '',\n            minutesLabel: '',\n            secondsWrapper: '',\n            secondsLabel: '',\n            time: '2019-02-28T01:00:00+00:00',\n            _timeInterval: '',\n        },\n\n        _create: function () {\n            this.dateWrapper    = this.element.find('.mgz-countdown-days');\n            this.dateLabel      = this.dateWrapper.find('.mgz-countdown-unit-label').data('label');\n            this.hoursWrapper   = this.element.find('.mgz-countdown-hours');\n            this.hoursLabel     = this.hoursWrapper.find('.mgz-countdown-unit-label').data('label');\n            this.minutesWrapper = this.element.find('.mgz-countdown-minutes');\n            this.minutesLabel   = this.minutesWrapper.find('.mgz-countdown-unit-label').data('label');\n            this.secondsWrapper = this.element.find('.mgz-countdown-seconds');\n            this.secondsLabel   = this.secondsWrapper.find('.mgz-countdown-unit-label').data('label');\n\n            this._initCountdown();\n        },\n\n        _getTimeRemaining: function(endtime) {\n            var t       = Date.parse(endtime) - Date.parse(new Date());\n            var seconds = Math.floor((t / 1000) % 60);\n            var minutes = Math.floor((t / 1000 / 60) % 60);\n            var hours   = Math.floor((t / (1000 * 60 * 60)) % 24);\n            var days    = Math.floor(t / (1000 * 60 * 60 * 24));\n            return {\n                'total': t,\n                'days': (days < 10) ? ('0' + days) : days,\n                'hours': ('0' + hours).slice(-2),\n                'minutes': ('0' + minutes).slice(-2),\n                'seconds': ('0' + seconds).slice(-2)\n            };\n        },\n\n        _setTimeRemaining: function() {\n            var t = this._getTimeRemaining(this.options.time),\n                wrappers = {\n                    days: $(this.dateWrapper),\n                    hours: $(this.hoursWrapper),\n                    minutes: $(this.minutesWrapper),\n                    seconds: $(this.secondsWrapper)\n                },\n                labels = {\n                    days: this.dateLabel,\n                    hours: this.hoursLabel,\n                    minutes: this.minutesLabel,\n                    seconds: this.secondsLabel\n                };\n            if (t.total <= 0) {\n                clearInterval(this._timeInterval);\n                $.each(wrappers, function(type, element) {\n                    element.find('.mgz-countdown-unit-number').html('00');\n                });\n            } else {\n                $.each(wrappers, function(type, element) {\n                    element.find('.mgz-countdown-unit-number').html(t[type]);\n                    var $el = element.find('.mgz-countdown-unit-label');\n                    var label = parseInt(t[type]) != 1 ? labels[type].plural : labels[type].singular;\n                    $el.html(label);\n                });\n            }\n        },\n\n        _setCircleCount: function() {\n            var t = this._getTimeRemaining(this.options.time),\n                max = {\n                    days: 365,\n                    hours: 24,\n                    minutes: 60,\n                    seconds: 60\n                },\n                circles = {\n                    days: $(this.dateWrapper).find('svg'),\n                    hours: $(this.hoursWrapper).find('svg'),\n                    minutes: $(this.minutesWrapper).find('svg'),\n                    seconds: $(this.secondsWrapper).find('svg'),\n                }\n            $.each(circles, function(type, element) {\n                var $circle = element.find('.mgz-element-bar'),\n                    r = $circle.attr('r'),\n                    circle = Math.PI * (r * 2),\n                    val = t[type],\n                    total = max[type],\n                    stroke = (1 - (val / total)) * circle;\n                $circle.css({\n                    strokeDashoffset: stroke\n                });\n            });\n        },\n\n        _initCountdown: function() {\n            var self = this;\n            this._setTimeRemaining();\n            if (this.options.type == 'circle') {\n                this._setCircleCount();\n            }\n\n            this.interval = setInterval(function() {\n                self._setTimeRemaining();\n                if (self.options.type == 'circle') {\n                    self._setCircleCount();\n                }\n            }, 1000);\n        },\n\n        clearInterval: function() {\n            clearInterval(this.interval);\n        }\n    });\n\n    return $.magezon.countdown;\n});","Magezon_Builder/js/builder.js":"define([\n\t'angular',\n\t'formly',\n\t'Magezon_Builder/js/factories/config',\n\t'Magezon_Builder/js/services/magezonBuilder',\n\t'Magezon_Builder/js/services/url',\n\t'Magezon_Builder/js/services/modal',\n\t'Magezon_Builder/js/services/element',\n\t'Magezon_Builder/js/services/profile',\n\t'Magezon_Builder/js/services/form',\n\t'Magezon_Builder/js/services/editor',\n\t'Magezon_Builder/js/services/filter',\n\t'Magezon_Builder/js/services/history',\n\t'Magezon_Builder/js/controllers/base',\n\t'Magezon_Builder/js/controllers/list',\n\t'Magezon_Builder/js/controllers/modal',\n\t'Magezon_Builder/js/controllers/toolbar',\n\t'Magezon_Builder/js/directives/magezonBuilder',\n\t'Magezon_Builder/js/directives/modalElement',\n\t'Magezon_Builder/js/directives/resizable',\n\t'Magezon_Builder/js/directives/builderDirectiveList',\n\t'Magezon_Builder/js/builder/element/profile',\n\t'Magezon_Builder/js/directives/navigator',\n\t'Magezon_Builder/js/directives/elementIcon',\n\t'Magezon_Builder/js/directives/navigatorProfile',\n\t'Magezon_Builder/js/modules/contentEditable',\n\t'Magezon_Builder/js/modules/inlineEditor',\n\t'Magezon_Builder/js/modules/afterRender',\n\t'Magezon_Builder/js/directives/colorPicker',\n\t'Magezon_Builder/js/directives/elementActions',\n\t'Magezon_Builder/js/directives/elementResizable',\n\t'Magezon_Builder/js/directives/tooltip',\n\t'uiBootstrap',\n\t'dndLists',\n\t'angularSanitize',\n\t'dynamicDirective',\n\t'uiCodemirror',\n\t'uiSelect',\n\t'outsideClickDirective',\n\t'ngStats'\n], function(\n\tangular,\n\tformly,\n\tconfigProvider,\n\tmagezonBuilderSer,\n\tmagezonBuilderUrlSer,\n\tmagezonBuilderModalSer,\n\telementManagerSer,\n\tprofileManagerSer,\n\tformSer,\n\teditorSer,\n\tfilterSer,\n\thistorySer,\n\tbaseController,\n\tlistController,\n\tmodalBaseControllerCtrl,\n\ttoolbarControllerCtrl,\n\tmagezonBuilderDir,\n\tmodalElementDir,\n\tresizableDir,\n\tbuilderDirectiveListDir,\n\tprofileDir,\n\tnavigatorDir,\n\telementIconDir,\n\tnavigatorProfileDir,\n\tcontentEditableDir,\n\tinlineEditorDir,\n\tafterRender,\n\tcolorPicker,\n\telementActions,\n\telementResizable,\n\ttooltipDir\n) {\n\tvar builder = angular.module('magezonBuilder', ['formly', 'dndLists', 'ui.bootstrap', 'ngSanitize', 'dynamicDirective', 'ui.codemirror', 'ui.select', 'ngOutsideClick', 'angularStats']);\n\n\tbuilder.config(function($sceDelegateProvider) {\n\t\t$resourceUrlWhitelist = ['self','*://localhost/**','*://www.youtube.com/**', '*://player.vimeo.com/video/**'];\n\t\t$sceDelegateProvider.resourceUrlWhitelist($resourceUrlWhitelist.concat(window.builderConfig.resourceUrlWhitelist));\n\t});\n\n\tbuilder.run(function(dynamicDirectiveManager, magezonBuilderConfig, magezonBuilderService, magezonBuilderUrl, elementManager) {\n\t\tangular.forEach(magezonBuilderConfig.elements, function(element) {\n\t\t\tvar type = elementManager.getElementType(element.type);\n\t\t\trequire([element['element']], function(Directive) {\n\t\t\t\tdynamicDirectiveManager.registerDirective('mgzElement' + type, Directive, 'mgz');\n\t\t\t});\n\t\t\trequire([element['navigator']], function(Directive) {\n\t\t\t\tdynamicDirectiveManager.registerDirective('mgzElementNavigator' + type, Directive, 'mgz');\n\t\t\t});\n\t\t\tif (element['toolbar']) {\n\t\t\t\trequire([element['toolbar']], function(Directive) {\n\t\t\t\t\tdynamicDirectiveManager.registerDirective('mgzElementToolbar' + type, Directive, 'mgz');\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tangular.forEach(magezonBuilderConfig.directives, function(directive, name) {\n\t\t\tname = elementManager.getElementType(directive.type);\n\t\t\tif (directive['element']) {\n\t\t\t\trequire([directive['element']], function(Directive) {\n\t\t\t\t\tdynamicDirectiveManager.registerDirective('mgzDirective' + name, Directive, 'mgz');\n\t\t\t\t});\n\t\t\t} else if (directive['templateUrl']) {\n\t\t\t\tfunction Directive() {\n\t\t\t\t \treturn {\n\t\t\t\t \t\treplace: true,\n\t\t\t\t \t\ttemplateUrl: magezonBuilderUrl.getViewFileUrl(directive['templateUrl'])\n\t\t\t\t \t};\n\t\t\t\t}\n\t\t\t\tdynamicDirectiveManager.registerDirective('mgzDirective' + name, Directive, 'mgz');\n\t\t\t}\n\t\t});\n\t\tmagezonBuilderService.directives = magezonBuilderConfig.directives;\n\t});\n\n\t// PROVIDER\n\tbuilder.provider('magezonBuilderConfig', configProvider);\n\tbuilder.service('magezonBuilderService', magezonBuilderSer);\n\tbuilder.service('magezonBuilderUrl', magezonBuilderUrlSer);\n\tbuilder.service('magezonBuilderModal', magezonBuilderModalSer);\n\tbuilder.service('elementManager', elementManagerSer);\n\tbuilder.service('profileManager', profileManagerSer);\n\tbuilder.service('historyManager', historySer);\n\tbuilder.service('magezonBuilderForm', formSer);\n\tbuilder.service('magezonBuilderEditor', editorSer);\n\tbuilder.service('magezonBuilderFilter', filterSer);\n\n\t// DIRECTIVE\n\tbuilder.directive('magezonBuilder', magezonBuilderDir);\n\tbuilder.directive('magezonBuilderModalElement', modalElementDir);\n\tbuilder.directive('magezonBuilderResizable', resizableDir);\n\tbuilder.directive('magezonBuilderDirectiveList', builderDirectiveListDir);\n\tbuilder.directive('magezonBuilderProfile', profileDir);\n\tbuilder.directive('magezonBuilderNavigator', navigatorDir);\n\tbuilder.directive('magezonBuilderElementIcon', elementIconDir);\n\tbuilder.directive('magezonBuilderNavigatorProfile', navigatorProfileDir);\n\tbuilder.directive('contentEditable', contentEditableDir);\n\tbuilder.directive('inlineEditor', inlineEditorDir);\n\tbuilder.directive('afterRender', afterRender);\n\tbuilder.directive('magezonBuilderColorPicker', colorPicker);\n\tbuilder.directive('magezonBuilderElementActions', elementActions);\n\tbuilder.directive('magezonBuilderElementResizable', elementResizable);\n\tbuilder.directive('mgzTooltip', tooltipDir);\n\n\t// CONTROLLER\n\tbuilder.controller('baseController', baseController);\n\tbuilder.controller('listController', listController);\n\tbuilder.controller('modalBaseController', modalBaseControllerCtrl);\n\tbuilder.controller('toolbarController', toolbarControllerCtrl);\n\n\treturn builder;\n});","Magezon_Builder/js/carousel.js":"define([\n    'jquery',\n    'jquery-ui-modules/widget',\n    'Magezon_Core/js/owl.carousel.min'\n], function ($) {\n    'use strict';\n\n/**\n * Animate Plugin\n * @version 2.3.4\n * @author Bartosz Wojciechowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n    /**\n     * Creates the animate plugin.\n     * @class The Navigation Plugin\n     * @param {Owl} scope - The Owl Carousel\n     */\n    var Animate = function(scope) {\n        this.core = scope;\n        this.core.options = $.extend({}, Animate.Defaults, this.core.options);\n        this.swapping = true;\n        this.previous = undefined;\n        this.next = undefined;\n\n        this.handlers = {\n            'change.owl.carousel': $.proxy(function(e) {\n                if (e.namespace && e.property.name == 'position') {\n                    this.previous = this.core.current();\n                    this.next = e.property.value;\n                }\n            }, this),\n            'drag.owl.carousel dragged.owl.carousel translated.owl.carousel': $.proxy(function(e) {\n                if (e.namespace) {\n                    this.swapping = e.type == 'translated';\n                }\n            }, this),\n            'translate.owl.carousel': $.proxy(function(e) {\n                if (e.namespace && this.swapping && (this.core.options.animateOut || this.core.options.animateIn)) {\n                    this.swap();\n                }\n            }, this)\n        };\n\n        this.core.$element.on(this.handlers);\n    };\n\n    /**\n     * Default options.\n     * @public\n     */\n    Animate.Defaults = {\n        animateOut: false,\n        animateIn: false\n    };\n\n    /**\n     * Toggles the animation classes whenever an translations starts.\n     * @protected\n     * @returns {Boolean|undefined}\n     */\n    Animate.prototype.swap = function() {\n\n        if (this.core.settings.items !== 1) {\n            return;\n        }\n\n        if (!$.support.animation || !$.support.transition) {\n            return;\n        }\n\n        this.core.speed(0);\n\n        var left,\n            clear = $.proxy(this.clear, this),\n            previous = this.core.$stage.children().eq(this.previous),\n            next = this.core.$stage.children().eq(this.next),\n            incoming = this.core.settings.animateIn,\n            outgoing = this.core.settings.animateOut;\n\n        if (this.core.current() === this.previous) {\n            return;\n        }\n\n        if (outgoing) {\n            left = this.core.coordinates(this.previous) - this.core.coordinates(this.next);\n            previous.one($.support.animation.end, clear)\n                .css( { 'left': left + 'px' } )\n                .addClass('animated owl-animated-out')\n                .addClass(outgoing);\n        }\n\n        if (incoming) {\n            next.one($.support.animation.end, clear)\n                .addClass('animated owl-animated-in')\n                .addClass(incoming);\n        }\n    };\n\n    Animate.prototype.clear = function(e) {\n        $(e.currentTarget).css( { 'left': '' } )\n            .removeClass('animated owl-animated-out owl-animated-in')\n            .removeClass(this.core.settings.animateIn)\n            .removeClass(this.core.settings.animateOut);\n        this.core.onTransitionEnd();\n    };\n\n    /**\n     * Destroys the plugin.\n     * @public\n     */\n    Animate.prototype.destroy = function() {\n        var handler, property;\n\n        for (handler in this.handlers) {\n            this.core.$element.off(handler, this.handlers[handler]);\n        }\n        for (property in Object.getOwnPropertyNames(this)) {\n            typeof this[property] != 'function' && (this[property] = null);\n        }\n    };\n\n    $.fn.owlCarousel.Constructor.Plugins.Animate = Animate;\n\n})(window.Zepto || window.jQuery, window, document);\n\n\n    $.widget('magezon.carousel', {\n        options: {\n            item_xs: 1,\n            item_sm: 1,\n            item_md: 1,\n            item_lg: 1,\n            item_xl: 1,\n            items: 3,\n            loop: false,\n            center: false,\n            rewind: false,\n            checkVisibility: true,\n            \n            mouseDrag: true,\n            touchDrag: true,\n            pullDrag: true,\n            freeDrag: false,\n            \n            margin: 0,\n            stagePadding: 0,\n            \n            merge: false,\n            mergeFit: true,\n            autoWidth: false,\n            \n            startPosition: 0,\n            rtl: false,\n            \n            smartSpeed: 250,\n            fluidSpeed: false,\n            dragEndSpeed: false,\n            \n            responsive: {},\n            responsiveRefreshRate: 200,\n            responsiveBaseElement: window,\n            \n            fallbackEasing: 'swing',\n            slideTransition: '',\n            \n            info: false,\n            \n            nestedItemSelector: false,\n            itemElement: 'div',\n            stageElement: 'div',\n            \n            refreshClass: 'owl-refresh',\n            loadedClass: 'owl-loaded',\n            loadingClass: 'owl-loading',\n            rtlClass: 'owl-rtl',\n            responsiveClass: 'owl-responsive',\n            dragClass: 'owl-drag',\n            itemClass: 'owl-item',\n            stageClass: 'owl-stage',\n            stageOuterClass: 'owl-stage-outer',\n            grabClass: 'owl-grab',\n            autoHeight: true,\n            navText: ['<i class=\"fas mgz-fa-angle-left\"/>','<i class=\"fas mgz-fa-angle-right\"/>'],\n            animateOut: '',\n            animateIn: ''\n        },\n\n        _create: function () {\n\n            var self = this;\n            var options = this.options;\n\n            options['responsive'] = {\n                0: {'items': parseInt(options.item_xs)},\n                544: {'items': parseInt(options.item_sm)},\n                768: {'items': parseInt(options.item_md)},\n                992: {'items': parseInt(options.item_lg)},\n                1200: {'items': parseInt(options.item_xl)}\n            };\n            \n            function setAnimation ( _elem, _InOut ) {\n                var animationEndEvent = 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend';\n                _elem.each(function() {\n                    var $elem = $(this);\n                    var $animationType = 'animated ' + $elem.data( 'animate-' + _InOut );\n                    var $animationDelay = $elem.data('animate-delay') ? $elem.data('animate-delay') + 's' : 0;\n                    $elem.css('-webkit-animation-delay', $animationDelay)\n                    .css('-moz-animation-delay', $animationDelay)\n                    .css('-ms-animation-delay', $animationDelay)\n                    .css('-o-animation-delay', $animationDelay)\n                    .css('animation-delay', $animationDelay);\n                    $elem.addClass($animationType).one(animationEndEvent, function () {\n                        $elem.removeClass($animationType);\n                    });\n                });\n            }\n\n            var firstSlide   = this.element.find('.item:eq(0)');\n            var $elemsToanim = firstSlide.find(\"[data-animate-in]\");\n            setAnimation ($elemsToanim, 'in');\n\n            var owl = this.element.owlCarousel(options);\n\n            owl.on('change.owl.carousel', function(event) {\n                var $currentItem = $('.owl-item', owl).eq(event.item.index);\n                var $elemsToanim = $currentItem.find(\"[data-animate-out]\");\n                setAnimation ($elemsToanim, 'out');\n            });\n\n            owl.on('changed.owl.carousel', function(event) {\n                var $currentItem = $('.owl-item', owl).eq(event.item.index);\n                var $elemsToanim = $currentItem.find(\"[data-animate-in]\");\n                setAnimation ($elemsToanim, 'in');\n                self.element.find('.owl-item').removeClass('owl-fadeUp-out');\n            });\n        }\n    });\n\n    return $.magezon.carousel;\n});","Magezon_Builder/js/parallax.js":"define([\n \t'jquery',\n \t'jarallax',\n \t'jarallaxVideo',\n], function ($) {\n\n\tvar $wnd = $(window);\n\tvar $doc = $(document);\n\t\n\tvar throttle = function ( delay, noTrailing, callback, debounceMode ) {\n\t\t/*\n\t\t * After wrapper has stopped being called, this timeout ensures that\n\t\t * `callback` is executed at the proper times in `throttle` and `end`\n\t\t * debounce modes.\n\t\t */\n\t\tvar timeoutID;\n\t\tvar cancelled = false;\n\n\t\t// Keep track of the last time `callback` was executed.\n\t\tvar lastExec = 0;\n\n\t\t// Function to clear existing timeout\n\t\tfunction clearExistingTimeout () {\n\t\t\tif ( timeoutID ) {\n\t\t\t\tclearTimeout(timeoutID);\n\t\t\t}\n\t\t}\n\n\t\t// Function to cancel next exec\n\t\tfunction cancel () {\n\t\t\tclearExistingTimeout();\n\t\t\tcancelled = true;\n\t\t}\n\n\n\t\t// `noTrailing` defaults to falsy.\n\t\tif ( typeof noTrailing !== 'boolean' ) {\n\t\t\tdebounceMode = callback;\n\t\t\tcallback = noTrailing;\n\t\t\tnoTrailing = undefined;\n\t\t}\n\n\t\t/*\n\t\t * The `wrapper` function encapsulates all of the throttling / debouncing\n\t\t * functionality and when executed will limit the rate at which `callback`\n\t\t * is executed.\n\t\t */\n\t\tfunction wrapper () {\n\n\t\t\tvar self = this;\n\t\t\tvar elapsed = Date.now() - lastExec;\n\t\t\tvar args = arguments;\n\n\t\t\tif (cancelled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Execute `callback` and update the `lastExec` timestamp.\n\t\t\tfunction exec () {\n\t\t\t\tlastExec = Date.now();\n\t\t\t\tcallback.apply(self, args);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * If `debounceMode` is true (at begin) this is used to clear the flag\n\t\t\t * to allow future `callback` executions.\n\t\t\t */\n\t\t\tfunction clear () {\n\t\t\t\ttimeoutID = undefined;\n\t\t\t}\n\n\t\t\tif ( debounceMode && !timeoutID ) {\n\t\t\t\t/*\n\t\t\t\t * Since `wrapper` is being called for the first time and\n\t\t\t\t * `debounceMode` is true (at begin), execute `callback`.\n\t\t\t\t */\n\t\t\t\texec();\n\t\t\t}\n\n\t\t\tclearExistingTimeout();\n\n\t\t\tif ( debounceMode === undefined && elapsed > delay ) {\n\t\t\t\t/*\n\t\t\t\t * In throttle mode, if `delay` time has been exceeded, execute\n\t\t\t\t * `callback`.\n\t\t\t\t */\n\t\t\t\texec();\n\n\t\t\t} else if ( noTrailing !== true ) {\n\t\t\t\t/*\n\t\t\t\t * In trailing throttle mode, since `delay` time has not been\n\t\t\t\t * exceeded, schedule `callback` to execute `delay` ms after most\n\t\t\t\t * recent execution.\n\t\t\t\t *\n\t\t\t\t * If `debounceMode` is true (at begin), schedule `clear` to execute\n\t\t\t\t * after `delay` ms.\n\t\t\t\t *\n\t\t\t\t * If `debounceMode` is false (at end), schedule `callback` to\n\t\t\t\t * execute after `delay` ms.\n\t\t\t\t */\n\t\t\t\ttimeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);\n\t\t\t}\n\n\t\t}\n\n\t\twrapper.cancel = cancel;\n\n\t\t// Return the wrapper function.\n\t\treturn wrapper;\n\n\t}\n\n\tvar isMobile = /Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/g.test(navigator.userAgent || navigator.vendor || window.opera);\n\n\tvar wndW = 0;\n\tvar wndH = 0;\n\t\twndW = $wnd.width();\n\t\twndH = $wnd.height();\n\t$wnd.on( 'resize load orientationchange', function() {\n\t\twndW = $wnd.width();\n\t    wndH = $wnd.height();\n\t});\n\n\t/**\n\t * In Viewport checker\n\t * return visible percent from 0 to 1\n\t *\n\t * @param {Object} $item - jQuery object.\n\t * @param {Bool} returnRect - return array with result and rect.\n\t *\n\t * @return {Mixed} - in viewport flag.\n\t */\n\tfunction isInViewport( $item, returnRect ) {\n\t    var rect = $item[ 0 ].getBoundingClientRect();\n\t    var result = 1;\n\n\t    if ( rect.right <= 0 || rect.left >= wndW ) {\n\t        result = 0;\n\t    } else if ( rect.bottom < 0 && rect.top <= wndH ) {\n\t        result = 0;\n\t    } else {\n\t        var beforeTopEnd = Math.max( 0, rect.height + rect.top );\n\t        var beforeBottomEnd = Math.max( 0, rect.height - ( rect.top + rect.height - wndH ) );\n\t        var afterTop = Math.max( 0, -rect.top );\n\t        var beforeBottom = Math.max( 0, rect.top + rect.height - wndH );\n\n\t        if ( rect.height < wndH ) {\n\t            result = 1 - ( ( afterTop || beforeBottom ) / rect.height );\n\t        } else if ( beforeTopEnd <= wndH ) {\n\t            result = beforeTopEnd / wndH;\n\t        } else if ( beforeBottomEnd <= wndH ) {\n\t            result = beforeBottomEnd / wndH;\n\t        }\n\t        result = result < 0 ? 0 : result;\n\t    }\n\t    if ( returnRect ) {\n\t        return [ result, rect ];\n\t    }\n\t    return result;\n\t}\n\n\n\t/**\n\t * Mouse Parallax\n\t */\n\tvar $parallaxMouseList = false;\n\tvar parallaxMouseTimeout;\n\tvar parallaxMouseFirstRun = 1;\n\n\t// run parallax animation\n\tfunction parallaxMouseRun( x, y, deviceOrientation ) {\n\t    var data;\n\t    var itemX;\n\t    var itemY;\n\t    $parallaxMouseList.each( function() {\n\t        var $this = $( this );\n\t        data = $this.data( 'parallax-mouse-data' );\n\n\t        // don't animate if block isn't in viewport\n\t        if ( typeof data !== 'object' || ( ! data.is_in_viewport && ! ( deviceOrientation && parallaxMouseFirstRun ) ) ) {\n\t            return;\n\t        }\n\n\t        // device acceleration calculate\n\t        if ( deviceOrientation ) {\n\t            itemX = -data.size * x;\n\t            itemY = -data.size * y;\n\n\t        // mouse calculate\n\t        } else {\n\t            itemX = ( data.rect.width - ( x - data.rect.left ) ) / data.rect.width;\n\t            itemY = ( data.rect.height - ( y - data.rect.top ) ) / data.rect.height;\n\t            if ( itemX > 1 || itemX < 0 || itemY > 1 || itemY < 0 ) {\n\t                itemX = 0.5;\n\t                itemY = 0.5;\n\t            }\n\t            itemX = data.size * ( itemX - 0.5 ) * 2;\n\t            itemY = data.size * ( itemY - 0.5 ) * 2;\n\t        }\n\n\t        // if first run orientation on device, set default values without animation\n\t        if ( deviceOrientation && parallaxMouseFirstRun ) {\n\t            $this.css( {\n\t                transform: `translateX(${ itemX }px) translateY(${ itemY }px) translateZ(0)`,\n\t            } );\n\t        } else {\n\t            $this.css( {\n\t                transition: `transform ${ deviceOrientation ? 2 : data.speed }s  cubic-bezier(0.22, 0.63, 0.6, 0.88)`,\n\t                transform: `translateX(${ itemX }px) translateY(${ itemY }px) translateZ(0)`,\n\t            } );\n\t        }\n\t    } );\n\t    parallaxMouseFirstRun = 0;\n\t}\n\tvar throttledParallaxMouseRun = throttle( 200, ( x, y, deviceOrientation ) => {\n\t    parallaxMouseRun( x, y, deviceOrientation );\n\t});\n\n\twindow.mgzParallaxMouse = function ( force ) {\n\t    function run() {\n\t        var $newParallax = $( '.mgz-parallax.mgz-parallax-mouse-parallax' ).children( '.mgz-parallax-inner' );\n\t        if ( $newParallax.length ) {\n\t            // add new parallax blocks\n\t            if ( $parallaxMouseList ) {\n\t                $parallaxMouseList = $newParallax;\n\n\t                // first init parallax\n\t            } else {\n\t                $parallaxMouseList = $newParallax;\n\n\t                if ( isMobile && window.DeviceOrientationEvent ) {\n\t                    $wnd.on( 'deviceorientation', ( event ) => {\n\t                        throttledParallaxMouseRun( event.originalEvent.gamma / 90, event.originalEvent.beta / 180, true );\n\t                    } );\n\n\t                // no smooth on firefox\n\t                } else {\n\t                    $wnd.on( 'mousemove', ( event ) => {\n\t                        throttledParallaxMouseRun( event.clientX, event.clientY );\n\t                    } );\n\t                }\n\t            }\n\t        }\n\n\t        // update data for parallax blocks\n\t        if ( $parallaxMouseList ) {\n\t            $parallaxMouseList.each( function() {\n\t\t\t\t\tvar $this   = $( this );\n\t\t\t\t\tvar $elem   = $( this ).closest('.mgz-element');\n\t\t\t\t\tvar $parent = $this.parent();\n\t\t\t\t\tvar size    = parseFloat( $parent.attr( 'data-parallax-mouse-parallax-size' ) ) || 30;\n\t\t\t\t\tvar speed   = parseFloat( $parent.attr( 'data-parallax-mouse-parallax-speed' ) ) || 10000;\n\t                $this.data( 'parallax-mouse-data', {\n\t                    is_in_viewport: isInViewport( $parent ) ? $elem.is( ':visible' ) : 0,\n\t                    rect: $parent[ 0 ].getBoundingClientRect(),\n\t                    size,\n\t                    speed: speed / 1000,\n\t                } );\n\t                $this.css( {\n\t                    left: -size,\n\t                    right: -size,\n\t                    top: -size,\n\t                    bottom: -size,\n\t                } );\n\t            } );\n\t        }\n\t    }\n\n\t    // run force without timeout\n\t    clearTimeout( parallaxMouseTimeout );\n\t    if ( force ) {\n\t        run();\n\t    } else {\n\t        parallaxMouseTimeout = setTimeout( parallaxMouseTimeout, 100 );\n\t    }\n\t}\n\t$wnd.on( 'resize scroll orientationchange load', window.mgzParallaxMouse );\n\n\tsetInterval( window.mgzParallaxMouse, 3000 );\n\n\t$(document).find('.mgz-parallax').each(function(index, el) {\n\t\tvar $this           = $( this );\n\t\tvar backgroundType  = $this.attr( 'data-background-type' );\n\t\tvar imageBgSize     = $this.attr( 'data-parallax-image-background-size' );\n\t\tvar imageBgPosition = $this.attr( 'data-parallax-image-background-position' );\n\t\tvar video           = false;\n\t\tvar videoStartTime  = 0;\n\t\tvar videoEndTime    = 0;\n\t\tvar videoVolume     = 0;\n\t\tvar videoLoop       = true;\n\t\tvar videoAlwaysPlay = true;\n\t\tvar videoMobile     = false;\n\t\tvar parallax        = $this.attr( 'data-parallax-type' );\n\t\tvar parallaxSpeed   = $this.attr( 'data-parallax-speed' );\n\t\tvar parallaxMobile  = $this.attr( 'data-parallax-mobile' ) === 'true' || $this.attr( 'data-parallax-mobile' ) === '1';\n\n        // video type\n        if ( backgroundType === 'yt_vm_video' || backgroundType === 'video' ) {\n\t\t\tvideo           = $this.attr( 'data-parallax-video' );\n\t\t\tvideoStartTime  = parseFloat( $this.attr( 'data-parallax-video-start-time' ) ) || 0;\n\t\t\tvideoEndTime    = parseFloat( $this.attr( 'data-parallax-video-end-time' ) ) || 0;\n\t\t\tvideoVolume     = parseFloat( $this.attr( 'data-parallax-video-volume' ) ) || 0;\n\t\t\tvideoLoop       = $this.attr( 'data-parallax-video-loop' ) !== 'false';\n\t\t\tvideoAlwaysPlay = $this.attr( 'data-parallax-video-always-play' ) === 'true';\n\t\t\tvideoMobile     = $this.attr( 'data-parallax-video-mobile' ) === '1' || $this.attr( 'data-parallax-video-mobile' ) === 'true';\n\n            if ( video && ! parallax && ! parallaxSpeed ) {\n\t\t\t\tparallax       = 'scroll';\n\t\t\t\tparallaxSpeed  = 1;\n\t\t\t\tparallaxMobile = videoMobile;\n            }\n        }\n\n        // prevent if no parallax and no video\n        if ( ! parallax && ! video ) return;\n\n        var jarallaxParams = {\n        \tautomaticResize: true,\n        \ttype: parallax,\n        \tspeed: parallaxSpeed,\n        \tdisableParallax() {\n        \t\treturn parallaxMobile ? false : isMobile;\n        \t},\n        \tdisableVideo() {\n        \t\treturn videoMobile ? false : isMobile;\n        \t},\n        \timgSize: imageBgSize || 'cover',\n        \timgPosition: imageBgPosition || '50% 50%',\n        };\n\n        if ( imageBgSize === 'pattern' ) {\n\t\t\tjarallaxParams.imgSize   = 'auto';\n\t\t\tjarallaxParams.imgRepeat = 'repeat';\n        }\n\n        if ( video ) {\n\t\t\tjarallaxParams.speed                = parallax ? parallaxSpeed : 1;\n\t\t\tjarallaxParams.videoSrc             = video;\n\t\t\tjarallaxParams.videoStartTime       = videoStartTime;\n\t\t\tjarallaxParams.videoEndTime         = videoEndTime;\n\t\t\tjarallaxParams.videoVolume          = videoVolume;\n\t\t\tjarallaxParams.videoLoop            = videoLoop;\n\t\t\tjarallaxParams.videoPlayOnlyVisible = ! videoAlwaysPlay;\n        }\n\t\tjarallax($this.children( '.mgz-parallax-inner' ), jarallaxParams);\n\t});\n});","Magezon_Builder/js/cm/mode/javascript/javascript.js":"// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"javascript\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit;\n  var statementIndent = parserConfig.statementIndent;\n  var jsonldMode = parserConfig.jsonld;\n  var jsonMode = parserConfig.json || jsonldMode;\n  var isTS = parserConfig.typescript;\n  var wordRE = parserConfig.wordCharacters || /[\\w$\\xa1-\\uffff]/;\n\n  // Tokenizer\n\n  var keywords = function(){\n    function kw(type) {return {type: type, style: \"keyword\"};}\n    var A = kw(\"keyword a\"), B = kw(\"keyword b\"), C = kw(\"keyword c\"), D = kw(\"keyword d\");\n    var operator = kw(\"operator\"), atom = {type: \"atom\", style: \"atom\"};\n\n    return {\n      \"if\": kw(\"if\"), \"while\": A, \"with\": A, \"else\": B, \"do\": B, \"try\": B, \"finally\": B,\n      \"return\": D, \"break\": D, \"continue\": D, \"new\": kw(\"new\"), \"delete\": C, \"void\": C, \"throw\": C,\n      \"debugger\": kw(\"debugger\"), \"var\": kw(\"var\"), \"const\": kw(\"var\"), \"let\": kw(\"var\"),\n      \"function\": kw(\"function\"), \"catch\": kw(\"catch\"),\n      \"for\": kw(\"for\"), \"switch\": kw(\"switch\"), \"case\": kw(\"case\"), \"default\": kw(\"default\"),\n      \"in\": operator, \"typeof\": operator, \"instanceof\": operator,\n      \"true\": atom, \"false\": atom, \"null\": atom, \"undefined\": atom, \"NaN\": atom, \"Infinity\": atom,\n      \"this\": kw(\"this\"), \"class\": kw(\"class\"), \"super\": kw(\"atom\"),\n      \"yield\": C, \"export\": kw(\"export\"), \"import\": kw(\"import\"), \"extends\": C,\n      \"await\": C\n    };\n  }();\n\n  var isOperatorChar = /[+\\-*&%=<>!?|~^@]/;\n  var isJsonldKeyword = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)\"/;\n\n  function readRegexp(stream) {\n    var escaped = false, next, inSet = false;\n    while ((next = stream.next()) != null) {\n      if (!escaped) {\n        if (next == \"/\" && !inSet) return;\n        if (next == \"[\") inSet = true;\n        else if (inSet && next == \"]\") inSet = false;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n  }\n\n  // Used as scratch variables to communicate multiple values without\n  // consing up tons of objects.\n  var type, content;\n  function ret(tp, style, cont) {\n    type = tp; content = cont;\n    return style;\n  }\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \".\" && stream.match(/^\\d+(?:[eE][+\\-]?\\d+)?/)) {\n      return ret(\"number\", \"number\");\n    } else if (ch == \".\" && stream.match(\"..\")) {\n      return ret(\"spread\", \"meta\");\n    } else if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(ch)) {\n      return ret(ch);\n    } else if (ch == \"=\" && stream.eat(\">\")) {\n      return ret(\"=>\", \"operator\");\n    } else if (ch == \"0\" && stream.match(/^(?:x[\\da-f]+|o[0-7]+|b[01]+)n?/i)) {\n      return ret(\"number\", \"number\");\n    } else if (/\\d/.test(ch)) {\n      stream.match(/^\\d*(?:n|(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)?/);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      } else if (stream.eat(\"/\")) {\n        stream.skipToEnd();\n        return ret(\"comment\", \"comment\");\n      } else if (expressionAllowed(stream, state, 1)) {\n        readRegexp(stream);\n        stream.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/);\n        return ret(\"regexp\", \"string-2\");\n      } else {\n        stream.eat(\"=\");\n        return ret(\"operator\", \"operator\", stream.current());\n      }\n    } else if (ch == \"`\") {\n      state.tokenize = tokenQuasi;\n      return tokenQuasi(stream, state);\n    } else if (ch == \"#\") {\n      stream.skipToEnd();\n      return ret(\"error\", \"error\");\n    } else if (isOperatorChar.test(ch)) {\n      if (ch != \">\" || !state.lexical || state.lexical.type != \">\") {\n        if (stream.eat(\"=\")) {\n          if (ch == \"!\" || ch == \"=\") stream.eat(\"=\")\n        } else if (/[<>*+\\-]/.test(ch)) {\n          stream.eat(ch)\n          if (ch == \">\") stream.eat(ch)\n        }\n      }\n      return ret(\"operator\", \"operator\", stream.current());\n    } else if (wordRE.test(ch)) {\n      stream.eatWhile(wordRE);\n      var word = stream.current()\n      if (state.lastType != \".\") {\n        if (keywords.propertyIsEnumerable(word)) {\n          var kw = keywords[word]\n          return ret(kw.type, kw.style, word)\n        }\n        if (word == \"async\" && stream.match(/^(\\s|\\/\\*.*?\\*\\/)*[\\[\\(\\w]/, false))\n          return ret(\"async\", \"keyword\", word)\n      }\n      return ret(\"variable\", \"variable\", word)\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next;\n      if (jsonldMode && stream.peek() == \"@\" && stream.match(isJsonldKeyword)){\n        state.tokenize = tokenBase;\n        return ret(\"jsonld-keyword\", \"meta\");\n      }\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) break;\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (!escaped) state.tokenize = tokenBase;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"/\" && maybeEnd) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return ret(\"comment\", \"comment\");\n  }\n\n  function tokenQuasi(stream, state) {\n    var escaped = false, next;\n    while ((next = stream.next()) != null) {\n      if (!escaped && (next == \"`\" || next == \"$\" && stream.eat(\"{\"))) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n    return ret(\"quasi\", \"string-2\", stream.current());\n  }\n\n  var brackets = \"([{}])\";\n  // This is a crude lookahead trick to try and notice that we're\n  // parsing the argument patterns for a fat-arrow function before we\n  // actually hit the arrow token. It only works if the arrow is on\n  // the same line as the arguments and there's no strange noise\n  // (comments) in between. Fallback is to only notice when we hit the\n  // arrow, and not declare the arguments as locals for the arrow\n  // body.\n  function findFatArrow(stream, state) {\n    if (state.fatArrowAt) state.fatArrowAt = null;\n    var arrow = stream.string.indexOf(\"=>\", stream.start);\n    if (arrow < 0) return;\n\n    if (isTS) { // Try to skip TypeScript return type declarations after the arguments\n      var m = /:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*$/.exec(stream.string.slice(stream.start, arrow))\n      if (m) arrow = m.index\n    }\n\n    var depth = 0, sawSomething = false;\n    for (var pos = arrow - 1; pos >= 0; --pos) {\n      var ch = stream.string.charAt(pos);\n      var bracket = brackets.indexOf(ch);\n      if (bracket >= 0 && bracket < 3) {\n        if (!depth) { ++pos; break; }\n        if (--depth == 0) { if (ch == \"(\") sawSomething = true; break; }\n      } else if (bracket >= 3 && bracket < 6) {\n        ++depth;\n      } else if (wordRE.test(ch)) {\n        sawSomething = true;\n      } else if (/[\"'\\/]/.test(ch)) {\n        return;\n      } else if (sawSomething && !depth) {\n        ++pos;\n        break;\n      }\n    }\n    if (sawSomething && !depth) state.fatArrowAt = pos;\n  }\n\n  // Parser\n\n  var atomicTypes = {\"atom\": true, \"number\": true, \"variable\": true, \"string\": true, \"regexp\": true, \"this\": true, \"jsonld-keyword\": true};\n\n  function JSLexical(indented, column, type, align, prev, info) {\n    this.indented = indented;\n    this.column = column;\n    this.type = type;\n    this.prev = prev;\n    this.info = info;\n    if (align != null) this.align = align;\n  }\n\n  function inScope(state, varname) {\n    for (var v = state.localVars; v; v = v.next)\n      if (v.name == varname) return true;\n    for (var cx = state.context; cx; cx = cx.prev) {\n      for (var v = cx.vars; v; v = v.next)\n        if (v.name == varname) return true;\n    }\n  }\n\n  function parseJS(state, style, type, content, stream) {\n    var cc = state.cc;\n    // Communicate our context to the combinators.\n    // (Less wasteful than consing up a hundred closures on every call.)\n    cx.state = state; cx.stream = stream; cx.marked = null, cx.cc = cc; cx.style = style;\n\n    if (!state.lexical.hasOwnProperty(\"align\"))\n      state.lexical.align = true;\n\n    while(true) {\n      var combinator = cc.length ? cc.pop() : jsonMode ? expression : statement;\n      if (combinator(type, content)) {\n        while(cc.length && cc[cc.length - 1].lex)\n          cc.pop()();\n        if (cx.marked) return cx.marked;\n        if (type == \"variable\" && inScope(state, content)) return \"variable-2\";\n        return style;\n      }\n    }\n  }\n\n  // Combinator utils\n\n  var cx = {state: null, column: null, marked: null, cc: null};\n  function pass() {\n    for (var i = arguments.length - 1; i >= 0; i--) cx.cc.push(arguments[i]);\n  }\n  function cont() {\n    pass.apply(null, arguments);\n    return true;\n  }\n  function inList(name, list) {\n    for (var v = list; v; v = v.next) if (v.name == name) return true\n    return false;\n  }\n  function register(varname) {\n    var state = cx.state;\n    cx.marked = \"def\";\n    if (state.context) {\n      if (state.lexical.info == \"var\" && state.context && state.context.block) {\n        // FIXME function decls are also not block scoped\n        var newContext = registerVarScoped(varname, state.context)\n        if (newContext != null) {\n          state.context = newContext\n          return\n        }\n      } else if (!inList(varname, state.localVars)) {\n        state.localVars = new Var(varname, state.localVars)\n        return\n      }\n    }\n    // Fall through means this is global\n    if (parserConfig.globalVars && !inList(varname, state.globalVars))\n      state.globalVars = new Var(varname, state.globalVars)\n  }\n  function registerVarScoped(varname, context) {\n    if (!context) {\n      return null\n    } else if (context.block) {\n      var inner = registerVarScoped(varname, context.prev)\n      if (!inner) return null\n      if (inner == context.prev) return context\n      return new Context(inner, context.vars, true)\n    } else if (inList(varname, context.vars)) {\n      return context\n    } else {\n      return new Context(context.prev, new Var(varname, context.vars), false)\n    }\n  }\n\n  function isModifier(name) {\n    return name == \"public\" || name == \"private\" || name == \"protected\" || name == \"abstract\" || name == \"readonly\"\n  }\n\n  // Combinators\n\n  function Context(prev, vars, block) { this.prev = prev; this.vars = vars; this.block = block }\n  function Var(name, next) { this.name = name; this.next = next }\n\n  var defaultVars = new Var(\"this\", new Var(\"arguments\", null))\n  function pushcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, false)\n    cx.state.localVars = defaultVars\n  }\n  function pushblockcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, true)\n    cx.state.localVars = null\n  }\n  function popcontext() {\n    cx.state.localVars = cx.state.context.vars\n    cx.state.context = cx.state.context.prev\n  }\n  popcontext.lex = true\n  function pushlex(type, info) {\n    var result = function() {\n      var state = cx.state, indent = state.indented;\n      if (state.lexical.type == \"stat\") indent = state.lexical.indented;\n      else for (var outer = state.lexical; outer && outer.type == \")\" && outer.align; outer = outer.prev)\n        indent = outer.indented;\n      state.lexical = new JSLexical(indent, cx.stream.column(), type, null, state.lexical, info);\n    };\n    result.lex = true;\n    return result;\n  }\n  function poplex() {\n    var state = cx.state;\n    if (state.lexical.prev) {\n      if (state.lexical.type == \")\")\n        state.indented = state.lexical.indented;\n      state.lexical = state.lexical.prev;\n    }\n  }\n  poplex.lex = true;\n\n  function expect(wanted) {\n    function exp(type) {\n      if (type == wanted) return cont();\n      else if (wanted == \";\") return pass();\n      else return cont(exp);\n    };\n    return exp;\n  }\n\n  function statement(type, value) {\n    if (type == \"var\") return cont(pushlex(\"vardef\", value), vardef, expect(\";\"), poplex);\n    if (type == \"keyword a\") return cont(pushlex(\"form\"), parenExpr, statement, poplex);\n    if (type == \"keyword b\") return cont(pushlex(\"form\"), statement, poplex);\n    if (type == \"keyword d\") return cx.stream.match(/^\\s*$/, false) ? cont() : cont(pushlex(\"stat\"), maybeexpression, expect(\";\"), poplex);\n    if (type == \"debugger\") return cont(expect(\";\"));\n    if (type == \"{\") return cont(pushlex(\"}\"), pushblockcontext, block, poplex, popcontext);\n    if (type == \";\") return cont();\n    if (type == \"if\") {\n      if (cx.state.lexical.info == \"else\" && cx.state.cc[cx.state.cc.length - 1] == poplex)\n        cx.state.cc.pop()();\n      return cont(pushlex(\"form\"), parenExpr, statement, poplex, maybeelse);\n    }\n    if (type == \"function\") return cont(functiondef);\n    if (type == \"for\") return cont(pushlex(\"form\"), forspec, statement, poplex);\n    if (type == \"class\" || (isTS && value == \"interface\")) { cx.marked = \"keyword\"; return cont(pushlex(\"form\"), className, poplex); }\n    if (type == \"variable\") {\n      if (isTS && value == \"declare\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else if (isTS && (value == \"module\" || value == \"enum\" || value == \"type\") && cx.stream.match(/^\\s*\\w/, false)) {\n        cx.marked = \"keyword\"\n        if (value == \"enum\") return cont(enumdef);\n        else if (value == \"type\") return cont(typeexpr, expect(\"operator\"), typeexpr, expect(\";\"));\n        else return cont(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), block, poplex, poplex)\n      } else if (isTS && value == \"namespace\") {\n        cx.marked = \"keyword\"\n        return cont(pushlex(\"form\"), expression, block, poplex)\n      } else if (isTS && value == \"abstract\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else {\n        return cont(pushlex(\"stat\"), maybelabel);\n      }\n    }\n    if (type == \"switch\") return cont(pushlex(\"form\"), parenExpr, expect(\"{\"), pushlex(\"}\", \"switch\"), pushblockcontext,\n                                      block, poplex, poplex, popcontext);\n    if (type == \"case\") return cont(expression, expect(\":\"));\n    if (type == \"default\") return cont(expect(\":\"));\n    if (type == \"catch\") return cont(pushlex(\"form\"), pushcontext, maybeCatchBinding, statement, poplex, popcontext);\n    if (type == \"export\") return cont(pushlex(\"stat\"), afterExport, poplex);\n    if (type == \"import\") return cont(pushlex(\"stat\"), afterImport, poplex);\n    if (type == \"async\") return cont(statement)\n    if (value == \"@\") return cont(expression, statement)\n    return pass(pushlex(\"stat\"), expression, expect(\";\"), poplex);\n  }\n  function maybeCatchBinding(type) {\n    if (type == \"(\") return cont(funarg, expect(\")\"))\n  }\n  function expression(type, value) {\n    return expressionInner(type, value, false);\n  }\n  function expressionNoComma(type, value) {\n    return expressionInner(type, value, true);\n  }\n  function parenExpr(type) {\n    if (type != \"(\") return pass()\n    return cont(pushlex(\")\"), expression, expect(\")\"), poplex)\n  }\n  function expressionInner(type, value, noComma) {\n    if (cx.state.fatArrowAt == cx.stream.start) {\n      var body = noComma ? arrowBodyNoComma : arrowBody;\n      if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, expect(\"=>\"), body, popcontext);\n      else if (type == \"variable\") return pass(pushcontext, pattern, expect(\"=>\"), body, popcontext);\n    }\n\n    var maybeop = noComma ? maybeoperatorNoComma : maybeoperatorComma;\n    if (atomicTypes.hasOwnProperty(type)) return cont(maybeop);\n    if (type == \"function\") return cont(functiondef, maybeop);\n    if (type == \"class\" || (isTS && value == \"interface\")) { cx.marked = \"keyword\"; return cont(pushlex(\"form\"), classExpression, poplex); }\n    if (type == \"keyword c\" || type == \"async\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"(\") return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex, maybeop);\n    if (type == \"operator\" || type == \"spread\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"[\") return cont(pushlex(\"]\"), arrayLiteral, poplex, maybeop);\n    if (type == \"{\") return contCommasep(objprop, \"}\", null, maybeop);\n    if (type == \"quasi\") return pass(quasi, maybeop);\n    if (type == \"new\") return cont(maybeTarget(noComma));\n    if (type == \"import\") return cont(expression);\n    return cont();\n  }\n  function maybeexpression(type) {\n    if (type.match(/[;\\}\\)\\],]/)) return pass();\n    return pass(expression);\n  }\n\n  function maybeoperatorComma(type, value) {\n    if (type == \",\") return cont(expression);\n    return maybeoperatorNoComma(type, value, false);\n  }\n  function maybeoperatorNoComma(type, value, noComma) {\n    var me = noComma == false ? maybeoperatorComma : maybeoperatorNoComma;\n    var expr = noComma == false ? expression : expressionNoComma;\n    if (type == \"=>\") return cont(pushcontext, noComma ? arrowBodyNoComma : arrowBody, popcontext);\n    if (type == \"operator\") {\n      if (/\\+\\+|--/.test(value) || isTS && value == \"!\") return cont(me);\n      if (isTS && value == \"<\" && cx.stream.match(/^([^>]|<.*?>)*>\\s*\\(/, false))\n        return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, me);\n      if (value == \"?\") return cont(expression, expect(\":\"), expr);\n      return cont(expr);\n    }\n    if (type == \"quasi\") { return pass(quasi, me); }\n    if (type == \";\") return;\n    if (type == \"(\") return contCommasep(expressionNoComma, \")\", \"call\", me);\n    if (type == \".\") return cont(property, me);\n    if (type == \"[\") return cont(pushlex(\"]\"), maybeexpression, expect(\"]\"), poplex, me);\n    if (isTS && value == \"as\") { cx.marked = \"keyword\"; return cont(typeexpr, me) }\n    if (type == \"regexp\") {\n      cx.state.lastType = cx.marked = \"operator\"\n      cx.stream.backUp(cx.stream.pos - cx.stream.start - 1)\n      return cont(expr)\n    }\n  }\n  function quasi(type, value) {\n    if (type != \"quasi\") return pass();\n    if (value.slice(value.length - 2) != \"${\") return cont(quasi);\n    return cont(expression, continueQuasi);\n  }\n  function continueQuasi(type) {\n    if (type == \"}\") {\n      cx.marked = \"string-2\";\n      cx.state.tokenize = tokenQuasi;\n      return cont(quasi);\n    }\n  }\n  function arrowBody(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expression);\n  }\n  function arrowBodyNoComma(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expressionNoComma);\n  }\n  function maybeTarget(noComma) {\n    return function(type) {\n      if (type == \".\") return cont(noComma ? targetNoComma : target);\n      else if (type == \"variable\" && isTS) return cont(maybeTypeArgs, noComma ? maybeoperatorNoComma : maybeoperatorComma)\n      else return pass(noComma ? expressionNoComma : expression);\n    };\n  }\n  function target(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorComma); }\n  }\n  function targetNoComma(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorNoComma); }\n  }\n  function maybelabel(type) {\n    if (type == \":\") return cont(poplex, statement);\n    return pass(maybeoperatorComma, expect(\";\"), poplex);\n  }\n  function property(type) {\n    if (type == \"variable\") {cx.marked = \"property\"; return cont();}\n  }\n  function objprop(type, value) {\n    if (type == \"async\") {\n      cx.marked = \"property\";\n      return cont(objprop);\n    } else if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      if (value == \"get\" || value == \"set\") return cont(getterSetter);\n      var m // Work around fat-arrow-detection complication for detecting typescript typed arrow params\n      if (isTS && cx.state.fatArrowAt == cx.stream.start && (m = cx.stream.match(/^\\s*:\\s*/, false)))\n        cx.state.fatArrowAt = cx.stream.pos + m[0].length\n      return cont(afterprop);\n    } else if (type == \"number\" || type == \"string\") {\n      cx.marked = jsonldMode ? \"property\" : (cx.style + \" property\");\n      return cont(afterprop);\n    } else if (type == \"jsonld-keyword\") {\n      return cont(afterprop);\n    } else if (isTS && isModifier(value)) {\n      cx.marked = \"keyword\"\n      return cont(objprop)\n    } else if (type == \"[\") {\n      return cont(expression, maybetype, expect(\"]\"), afterprop);\n    } else if (type == \"spread\") {\n      return cont(expressionNoComma, afterprop);\n    } else if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(objprop);\n    } else if (type == \":\") {\n      return pass(afterprop)\n    }\n  }\n  function getterSetter(type) {\n    if (type != \"variable\") return pass(afterprop);\n    cx.marked = \"property\";\n    return cont(functiondef);\n  }\n  function afterprop(type) {\n    if (type == \":\") return cont(expressionNoComma);\n    if (type == \"(\") return pass(functiondef);\n  }\n  function commasep(what, end, sep) {\n    function proceed(type, value) {\n      if (sep ? sep.indexOf(type) > -1 : type == \",\") {\n        var lex = cx.state.lexical;\n        if (lex.info == \"call\") lex.pos = (lex.pos || 0) + 1;\n        return cont(function(type, value) {\n          if (type == end || value == end) return pass()\n          return pass(what)\n        }, proceed);\n      }\n      if (type == end || value == end) return cont();\n      return cont(expect(end));\n    }\n    return function(type, value) {\n      if (type == end || value == end) return cont();\n      return pass(what, proceed);\n    };\n  }\n  function contCommasep(what, end, info) {\n    for (var i = 3; i < arguments.length; i++)\n      cx.cc.push(arguments[i]);\n    return cont(pushlex(end, info), commasep(what, end), poplex);\n  }\n  function block(type) {\n    if (type == \"}\") return cont();\n    return pass(statement, block);\n  }\n  function maybetype(type, value) {\n    if (isTS) {\n      if (type == \":\") return cont(typeexpr);\n      if (value == \"?\") return cont(maybetype);\n    }\n  }\n  function mayberettype(type) {\n    if (isTS && type == \":\") {\n      if (cx.stream.match(/^\\s*\\w+\\s+is\\b/, false)) return cont(expression, isKW, typeexpr)\n      else return cont(typeexpr)\n    }\n  }\n  function isKW(_, value) {\n    if (value == \"is\") {\n      cx.marked = \"keyword\"\n      return cont()\n    }\n  }\n  function typeexpr(type, value) {\n    if (value == \"keyof\" || value == \"typeof\") {\n      cx.marked = \"keyword\"\n      return cont(value == \"keyof\" ? typeexpr : expressionNoComma)\n    }\n    if (type == \"variable\" || value == \"void\") {\n      cx.marked = \"type\"\n      return cont(afterType)\n    }\n    if (type == \"string\" || type == \"number\" || type == \"atom\") return cont(afterType);\n    if (type == \"[\") return cont(pushlex(\"]\"), commasep(typeexpr, \"]\", \",\"), poplex, afterType)\n    if (type == \"{\") return cont(pushlex(\"}\"), commasep(typeprop, \"}\", \",;\"), poplex, afterType)\n    if (type == \"(\") return cont(commasep(typearg, \")\"), maybeReturnType)\n    if (type == \"<\") return cont(commasep(typeexpr, \">\"), typeexpr)\n  }\n  function maybeReturnType(type) {\n    if (type == \"=>\") return cont(typeexpr)\n  }\n  function typeprop(type, value) {\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\"\n      return cont(typeprop)\n    } else if (value == \"?\") {\n      return cont(typeprop)\n    } else if (type == \":\") {\n      return cont(typeexpr)\n    } else if (type == \"[\") {\n      return cont(expression, maybetype, expect(\"]\"), typeprop)\n    }\n  }\n  function typearg(type, value) {\n    if (type == \"variable\" && cx.stream.match(/^\\s*[?:]/, false) || value == \"?\") return cont(typearg)\n    if (type == \":\") return cont(typeexpr)\n    return pass(typeexpr)\n  }\n  function afterType(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n    if (value == \"|\" || type == \".\" || value == \"&\") return cont(typeexpr)\n    if (type == \"[\") return cont(expect(\"]\"), afterType)\n    if (value == \"extends\" || value == \"implements\") { cx.marked = \"keyword\"; return cont(typeexpr) }\n  }\n  function maybeTypeArgs(_, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n  }\n  function typeparam() {\n    return pass(typeexpr, maybeTypeDefault)\n  }\n  function maybeTypeDefault(_, value) {\n    if (value == \"=\") return cont(typeexpr)\n  }\n  function vardef(_, value) {\n    if (value == \"enum\") {cx.marked = \"keyword\"; return cont(enumdef)}\n    return pass(pattern, maybetype, maybeAssign, vardefCont);\n  }\n  function pattern(type, value) {\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(pattern) }\n    if (type == \"variable\") { register(value); return cont(); }\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"[\") return contCommasep(pattern, \"]\");\n    if (type == \"{\") return contCommasep(proppattern, \"}\");\n  }\n  function proppattern(type, value) {\n    if (type == \"variable\" && !cx.stream.match(/^\\s*:/, false)) {\n      register(value);\n      return cont(maybeAssign);\n    }\n    if (type == \"variable\") cx.marked = \"property\";\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"}\") return pass();\n    return cont(expect(\":\"), pattern, maybeAssign);\n  }\n  function maybeAssign(_type, value) {\n    if (value == \"=\") return cont(expressionNoComma);\n  }\n  function vardefCont(type) {\n    if (type == \",\") return cont(vardef);\n  }\n  function maybeelse(type, value) {\n    if (type == \"keyword b\" && value == \"else\") return cont(pushlex(\"form\", \"else\"), statement, poplex);\n  }\n  function forspec(type, value) {\n    if (value == \"await\") return cont(forspec);\n    if (type == \"(\") return cont(pushlex(\")\"), forspec1, expect(\")\"), poplex);\n  }\n  function forspec1(type) {\n    if (type == \"var\") return cont(vardef, expect(\";\"), forspec2);\n    if (type == \";\") return cont(forspec2);\n    if (type == \"variable\") return cont(formaybeinof);\n    return pass(expression, expect(\";\"), forspec2);\n  }\n  function formaybeinof(_type, value) {\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression); }\n    return cont(maybeoperatorComma, forspec2);\n  }\n  function forspec2(type, value) {\n    if (type == \";\") return cont(forspec3);\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression); }\n    return pass(expression, expect(\";\"), forspec3);\n  }\n  function forspec3(type) {\n    if (type != \")\") cont(expression);\n  }\n  function functiondef(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondef);}\n    if (type == \"variable\") {register(value); return cont(functiondef);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, statement, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondef)\n  }\n  function funarg(type, value) {\n    if (value == \"@\") cont(expression, funarg)\n    if (type == \"spread\") return cont(funarg);\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(funarg); }\n    return pass(pattern, maybetype, maybeAssign);\n  }\n  function classExpression(type, value) {\n    // Class expressions may have an optional name.\n    if (type == \"variable\") return className(type, value);\n    return classNameAfter(type, value);\n  }\n  function className(type, value) {\n    if (type == \"variable\") {register(value); return cont(classNameAfter);}\n  }\n  function classNameAfter(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, classNameAfter)\n    if (value == \"extends\" || value == \"implements\" || (isTS && type == \",\")) {\n      if (value == \"implements\") cx.marked = \"keyword\";\n      return cont(isTS ? typeexpr : expression, classNameAfter);\n    }\n    if (type == \"{\") return cont(pushlex(\"}\"), classBody, poplex);\n  }\n  function classBody(type, value) {\n    if (type == \"async\" ||\n        (type == \"variable\" &&\n         (value == \"static\" || value == \"get\" || value == \"set\" || (isTS && isModifier(value))) &&\n         cx.stream.match(/^\\s+[\\w$\\xa1-\\uffff]/, false))) {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      return cont(isTS ? classfield : functiondef, classBody);\n    }\n    if (type == \"[\")\n      return cont(expression, maybetype, expect(\"]\"), isTS ? classfield : functiondef, classBody)\n    if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (type == \";\") return cont(classBody);\n    if (type == \"}\") return cont();\n    if (value == \"@\") return cont(expression, classBody)\n  }\n  function classfield(type, value) {\n    if (value == \"?\") return cont(classfield)\n    if (type == \":\") return cont(typeexpr, maybeAssign)\n    if (value == \"=\") return cont(expressionNoComma)\n    return pass(functiondef)\n  }\n  function afterExport(type, value) {\n    if (value == \"*\") { cx.marked = \"keyword\"; return cont(maybeFrom, expect(\";\")); }\n    if (value == \"default\") { cx.marked = \"keyword\"; return cont(expression, expect(\";\")); }\n    if (type == \"{\") return cont(commasep(exportField, \"}\"), maybeFrom, expect(\";\"));\n    return pass(statement);\n  }\n  function exportField(type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(expect(\"variable\")); }\n    if (type == \"variable\") return pass(expressionNoComma, exportField);\n  }\n  function afterImport(type) {\n    if (type == \"string\") return cont();\n    if (type == \"(\") return pass(expression);\n    return pass(importSpec, maybeMoreImports, maybeFrom);\n  }\n  function importSpec(type, value) {\n    if (type == \"{\") return contCommasep(importSpec, \"}\");\n    if (type == \"variable\") register(value);\n    if (value == \"*\") cx.marked = \"keyword\";\n    return cont(maybeAs);\n  }\n  function maybeMoreImports(type) {\n    if (type == \",\") return cont(importSpec, maybeMoreImports)\n  }\n  function maybeAs(_type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(importSpec); }\n  }\n  function maybeFrom(_type, value) {\n    if (value == \"from\") { cx.marked = \"keyword\"; return cont(expression); }\n  }\n  function arrayLiteral(type) {\n    if (type == \"]\") return cont();\n    return pass(commasep(expressionNoComma, \"]\"));\n  }\n  function enumdef() {\n    return pass(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), commasep(enummember, \"}\"), poplex, poplex)\n  }\n  function enummember() {\n    return pass(pattern, maybeAssign);\n  }\n\n  function isContinuedStatement(state, textAfter) {\n    return state.lastType == \"operator\" || state.lastType == \",\" ||\n      isOperatorChar.test(textAfter.charAt(0)) ||\n      /[,.]/.test(textAfter.charAt(0));\n  }\n\n  function expressionAllowed(stream, state, backUp) {\n    return state.tokenize == tokenBase &&\n      /^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)$/.test(state.lastType) ||\n      (state.lastType == \"quasi\" && /\\{\\s*$/.test(stream.string.slice(0, stream.pos - (backUp || 0))))\n  }\n\n  // Interface\n\n  return {\n    startState: function(basecolumn) {\n      var state = {\n        tokenize: tokenBase,\n        lastType: \"sof\",\n        cc: [],\n        lexical: new JSLexical((basecolumn || 0) - indentUnit, 0, \"block\", false),\n        localVars: parserConfig.localVars,\n        context: parserConfig.localVars && new Context(null, null, false),\n        indented: basecolumn || 0\n      };\n      if (parserConfig.globalVars && typeof parserConfig.globalVars == \"object\")\n        state.globalVars = parserConfig.globalVars;\n      return state;\n    },\n\n    token: function(stream, state) {\n      if (stream.sol()) {\n        if (!state.lexical.hasOwnProperty(\"align\"))\n          state.lexical.align = false;\n        state.indented = stream.indentation();\n        findFatArrow(stream, state);\n      }\n      if (state.tokenize != tokenComment && stream.eatSpace()) return null;\n      var style = state.tokenize(stream, state);\n      if (type == \"comment\") return style;\n      state.lastType = type == \"operator\" && (content == \"++\" || content == \"--\") ? \"incdec\" : type;\n      return parseJS(state, style, type, content, stream);\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize == tokenComment) return CodeMirror.Pass;\n      if (state.tokenize != tokenBase) return 0;\n      var firstChar = textAfter && textAfter.charAt(0), lexical = state.lexical, top\n      // Kludge to prevent 'maybelse' from blocking lexical scope pops\n      if (!/^\\s*else\\b/.test(textAfter)) for (var i = state.cc.length - 1; i >= 0; --i) {\n        var c = state.cc[i];\n        if (c == poplex) lexical = lexical.prev;\n        else if (c != maybeelse) break;\n      }\n      while ((lexical.type == \"stat\" || lexical.type == \"form\") &&\n             (firstChar == \"}\" || ((top = state.cc[state.cc.length - 1]) &&\n                                   (top == maybeoperatorComma || top == maybeoperatorNoComma) &&\n                                   !/^[,\\.=+\\-*:?[\\(]/.test(textAfter))))\n        lexical = lexical.prev;\n      if (statementIndent && lexical.type == \")\" && lexical.prev.type == \"stat\")\n        lexical = lexical.prev;\n      var type = lexical.type, closing = firstChar == type;\n\n      if (type == \"vardef\") return lexical.indented + (state.lastType == \"operator\" || state.lastType == \",\" ? lexical.info.length + 1 : 0);\n      else if (type == \"form\" && firstChar == \"{\") return lexical.indented;\n      else if (type == \"form\") return lexical.indented + indentUnit;\n      else if (type == \"stat\")\n        return lexical.indented + (isContinuedStatement(state, textAfter) ? statementIndent || indentUnit : 0);\n      else if (lexical.info == \"switch\" && !closing && parserConfig.doubleIndentSwitch != false)\n        return lexical.indented + (/^(?:case|default)\\b/.test(textAfter) ? indentUnit : 2 * indentUnit);\n      else if (lexical.align) return lexical.column + (closing ? 0 : 1);\n      else return lexical.indented + (closing ? 0 : indentUnit);\n    },\n\n    electricInput: /^\\s*(?:case .*?:|default:|\\{|\\})$/,\n    blockCommentStart: jsonMode ? null : \"/*\",\n    blockCommentEnd: jsonMode ? null : \"*/\",\n    blockCommentContinue: jsonMode ? null : \" * \",\n    lineComment: jsonMode ? null : \"//\",\n    fold: \"brace\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n\n    helperType: jsonMode ? \"json\" : \"javascript\",\n    jsonldMode: jsonldMode,\n    jsonMode: jsonMode,\n\n    expressionAllowed: expressionAllowed,\n\n    skipExpression: function(state) {\n      var top = state.cc[state.cc.length - 1]\n      if (top == expression || top == expressionNoComma) state.cc.pop()\n    }\n  };\n});\n\nCodeMirror.registerHelper(\"wordChars\", \"javascript\", /[\\w$]/);\n\nCodeMirror.defineMIME(\"text/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"text/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/x-javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/json\", {name: \"javascript\", json: true});\nCodeMirror.defineMIME(\"application/x-json\", {name: \"javascript\", json: true});\nCodeMirror.defineMIME(\"application/ld+json\", {name: \"javascript\", jsonld: true});\nCodeMirror.defineMIME(\"text/typescript\", { name: \"javascript\", typescript: true });\nCodeMirror.defineMIME(\"application/typescript\", { name: \"javascript\", typescript: true });\n\n});\n","Magezon_Builder/js/cm/mode/css/css.js":"// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"css\", function(config, parserConfig) {\n  var inline = parserConfig.inline\n  if (!parserConfig.propertyKeywords) parserConfig = CodeMirror.resolveMode(\"text/css\");\n\n  var indentUnit = config.indentUnit,\n      tokenHooks = parserConfig.tokenHooks,\n      documentTypes = parserConfig.documentTypes || {},\n      mediaTypes = parserConfig.mediaTypes || {},\n      mediaFeatures = parserConfig.mediaFeatures || {},\n      mediaValueKeywords = parserConfig.mediaValueKeywords || {},\n      propertyKeywords = parserConfig.propertyKeywords || {},\n      nonStandardPropertyKeywords = parserConfig.nonStandardPropertyKeywords || {},\n      fontProperties = parserConfig.fontProperties || {},\n      counterDescriptors = parserConfig.counterDescriptors || {},\n      colorKeywords = parserConfig.colorKeywords || {},\n      valueKeywords = parserConfig.valueKeywords || {},\n      allowNested = parserConfig.allowNested,\n      lineComment = parserConfig.lineComment,\n      supportsAtComponent = parserConfig.supportsAtComponent === true;\n\n  var type, override;\n  function ret(style, tp) { type = tp; return style; }\n\n  // Tokenizers\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (tokenHooks[ch]) {\n      var result = tokenHooks[ch](stream, state);\n      if (result !== false) return result;\n    }\n    if (ch == \"@\") {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"def\", stream.current());\n    } else if (ch == \"=\" || (ch == \"~\" || ch == \"|\") && stream.eat(\"=\")) {\n      return ret(null, \"compare\");\n    } else if (ch == \"\\\"\" || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \"#\") {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"atom\", \"hash\");\n    } else if (ch == \"!\") {\n      stream.match(/^\\s*\\w*/);\n      return ret(\"keyword\", \"important\");\n    } else if (/\\d/.test(ch) || ch == \".\" && stream.eat(/\\d/)) {\n      stream.eatWhile(/[\\w.%]/);\n      return ret(\"number\", \"unit\");\n    } else if (ch === \"-\") {\n      if (/[\\d.]/.test(stream.peek())) {\n        stream.eatWhile(/[\\w.%]/);\n        return ret(\"number\", \"unit\");\n      } else if (stream.match(/^-[\\w\\\\\\-]+/)) {\n        stream.eatWhile(/[\\w\\\\\\-]/);\n        if (stream.match(/^\\s*:/, false))\n          return ret(\"variable-2\", \"variable-definition\");\n        return ret(\"variable-2\", \"variable\");\n      } else if (stream.match(/^\\w+-/)) {\n        return ret(\"meta\", \"meta\");\n      }\n    } else if (/[,+>*\\/]/.test(ch)) {\n      return ret(null, \"select-op\");\n    } else if (ch == \".\" && stream.match(/^-?[_a-z][_a-z0-9-]*/i)) {\n      return ret(\"qualifier\", \"qualifier\");\n    } else if (/[:;{}\\[\\]\\(\\)]/.test(ch)) {\n      return ret(null, ch);\n    } else if (((ch == \"u\" || ch == \"U\") && stream.match(/rl(-prefix)?\\(/i)) ||\n               ((ch == \"d\" || ch == \"D\") && stream.match(\"omain(\", true, true)) ||\n               ((ch == \"r\" || ch == \"R\") && stream.match(\"egexp(\", true, true))) {\n      stream.backUp(1);\n      state.tokenize = tokenParenthesized;\n      return ret(\"property\", \"word\");\n    } else if (/[\\w\\\\\\-]/.test(ch)) {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"property\", \"word\");\n    } else {\n      return ret(null, null);\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == quote && !escaped) {\n          if (quote == \")\") stream.backUp(1);\n          break;\n        }\n        escaped = !escaped && ch == \"\\\\\";\n      }\n      if (ch == quote || !escaped && quote != \")\") state.tokenize = null;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenParenthesized(stream, state) {\n    stream.next(); // Must be '('\n    if (!stream.match(/\\s*[\\\"\\')]/, false))\n      state.tokenize = tokenString(\")\");\n    else\n      state.tokenize = null;\n    return ret(null, \"(\");\n  }\n\n  // Context management\n\n  function Context(type, indent, prev) {\n    this.type = type;\n    this.indent = indent;\n    this.prev = prev;\n  }\n\n  function pushContext(state, stream, type, indent) {\n    state.context = new Context(type, stream.indentation() + (indent === false ? 0 : indentUnit), state.context);\n    return type;\n  }\n\n  function popContext(state) {\n    if (state.context.prev)\n      state.context = state.context.prev;\n    return state.context.type;\n  }\n\n  function pass(type, stream, state) {\n    return states[state.context.type](type, stream, state);\n  }\n  function popAndPass(type, stream, state, n) {\n    for (var i = n || 1; i > 0; i--)\n      state.context = state.context.prev;\n    return pass(type, stream, state);\n  }\n\n  // Parser\n\n  function wordAsValue(stream) {\n    var word = stream.current().toLowerCase();\n    if (valueKeywords.hasOwnProperty(word))\n      override = \"atom\";\n    else if (colorKeywords.hasOwnProperty(word))\n      override = \"keyword\";\n    else\n      override = \"variable\";\n  }\n\n  var states = {};\n\n  states.top = function(type, stream, state) {\n    if (type == \"{\") {\n      return pushContext(state, stream, \"block\");\n    } else if (type == \"}\" && state.context.prev) {\n      return popContext(state);\n    } else if (supportsAtComponent && /@component/i.test(type)) {\n      return pushContext(state, stream, \"atComponentBlock\");\n    } else if (/^@(-moz-)?document$/i.test(type)) {\n      return pushContext(state, stream, \"documentTypes\");\n    } else if (/^@(media|supports|(-moz-)?document|import)$/i.test(type)) {\n      return pushContext(state, stream, \"atBlock\");\n    } else if (/^@(font-face|counter-style)/i.test(type)) {\n      state.stateArg = type;\n      return \"restricted_atBlock_before\";\n    } else if (/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(type)) {\n      return \"keyframes\";\n    } else if (type && type.charAt(0) == \"@\") {\n      return pushContext(state, stream, \"at\");\n    } else if (type == \"hash\") {\n      override = \"builtin\";\n    } else if (type == \"word\") {\n      override = \"tag\";\n    } else if (type == \"variable-definition\") {\n      return \"maybeprop\";\n    } else if (type == \"interpolation\") {\n      return pushContext(state, stream, \"interpolation\");\n    } else if (type == \":\") {\n      return \"pseudo\";\n    } else if (allowNested && type == \"(\") {\n      return pushContext(state, stream, \"parens\");\n    }\n    return state.context.type;\n  };\n\n  states.block = function(type, stream, state) {\n    if (type == \"word\") {\n      var word = stream.current().toLowerCase();\n      if (propertyKeywords.hasOwnProperty(word)) {\n        override = \"property\";\n        return \"maybeprop\";\n      } else if (nonStandardPropertyKeywords.hasOwnProperty(word)) {\n        override = \"string-2\";\n        return \"maybeprop\";\n      } else if (allowNested) {\n        override = stream.match(/^\\s*:(?:\\s|$)/, false) ? \"property\" : \"tag\";\n        return \"block\";\n      } else {\n        override += \" error\";\n        return \"maybeprop\";\n      }\n    } else if (type == \"meta\") {\n      return \"block\";\n    } else if (!allowNested && (type == \"hash\" || type == \"qualifier\")) {\n      override = \"error\";\n      return \"block\";\n    } else {\n      return states.top(type, stream, state);\n    }\n  };\n\n  states.maybeprop = function(type, stream, state) {\n    if (type == \":\") return pushContext(state, stream, \"prop\");\n    return pass(type, stream, state);\n  };\n\n  states.prop = function(type, stream, state) {\n    if (type == \";\") return popContext(state);\n    if (type == \"{\" && allowNested) return pushContext(state, stream, \"propBlock\");\n    if (type == \"}\" || type == \"{\") return popAndPass(type, stream, state);\n    if (type == \"(\") return pushContext(state, stream, \"parens\");\n\n    if (type == \"hash\" && !/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(stream.current())) {\n      override += \" error\";\n    } else if (type == \"word\") {\n      wordAsValue(stream);\n    } else if (type == \"interpolation\") {\n      return pushContext(state, stream, \"interpolation\");\n    }\n    return \"prop\";\n  };\n\n  states.propBlock = function(type, _stream, state) {\n    if (type == \"}\") return popContext(state);\n    if (type == \"word\") { override = \"property\"; return \"maybeprop\"; }\n    return state.context.type;\n  };\n\n  states.parens = function(type, stream, state) {\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n    if (type == \")\") return popContext(state);\n    if (type == \"(\") return pushContext(state, stream, \"parens\");\n    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n    if (type == \"word\") wordAsValue(stream);\n    return \"parens\";\n  };\n\n  states.pseudo = function(type, stream, state) {\n    if (type == \"meta\") return \"pseudo\";\n\n    if (type == \"word\") {\n      override = \"variable-3\";\n      return state.context.type;\n    }\n    return pass(type, stream, state);\n  };\n\n  states.documentTypes = function(type, stream, state) {\n    if (type == \"word\" && documentTypes.hasOwnProperty(stream.current())) {\n      override = \"tag\";\n      return state.context.type;\n    } else {\n      return states.atBlock(type, stream, state);\n    }\n  };\n\n  states.atBlock = function(type, stream, state) {\n    if (type == \"(\") return pushContext(state, stream, \"atBlock_parens\");\n    if (type == \"}\" || type == \";\") return popAndPass(type, stream, state);\n    if (type == \"{\") return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\");\n\n    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n\n    if (type == \"word\") {\n      var word = stream.current().toLowerCase();\n      if (word == \"only\" || word == \"not\" || word == \"and\" || word == \"or\")\n        override = \"keyword\";\n      else if (mediaTypes.hasOwnProperty(word))\n        override = \"attribute\";\n      else if (mediaFeatures.hasOwnProperty(word))\n        override = \"property\";\n      else if (mediaValueKeywords.hasOwnProperty(word))\n        override = \"keyword\";\n      else if (propertyKeywords.hasOwnProperty(word))\n        override = \"property\";\n      else if (nonStandardPropertyKeywords.hasOwnProperty(word))\n        override = \"string-2\";\n      else if (valueKeywords.hasOwnProperty(word))\n        override = \"atom\";\n      else if (colorKeywords.hasOwnProperty(word))\n        override = \"keyword\";\n      else\n        override = \"error\";\n    }\n    return state.context.type;\n  };\n\n  states.atComponentBlock = function(type, stream, state) {\n    if (type == \"}\")\n      return popAndPass(type, stream, state);\n    if (type == \"{\")\n      return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\", false);\n    if (type == \"word\")\n      override = \"error\";\n    return state.context.type;\n  };\n\n  states.atBlock_parens = function(type, stream, state) {\n    if (type == \")\") return popContext(state);\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state, 2);\n    return states.atBlock(type, stream, state);\n  };\n\n  states.restricted_atBlock_before = function(type, stream, state) {\n    if (type == \"{\")\n      return pushContext(state, stream, \"restricted_atBlock\");\n    if (type == \"word\" && state.stateArg == \"@counter-style\") {\n      override = \"variable\";\n      return \"restricted_atBlock_before\";\n    }\n    return pass(type, stream, state);\n  };\n\n  states.restricted_atBlock = function(type, stream, state) {\n    if (type == \"}\") {\n      state.stateArg = null;\n      return popContext(state);\n    }\n    if (type == \"word\") {\n      if ((state.stateArg == \"@font-face\" && !fontProperties.hasOwnProperty(stream.current().toLowerCase())) ||\n          (state.stateArg == \"@counter-style\" && !counterDescriptors.hasOwnProperty(stream.current().toLowerCase())))\n        override = \"error\";\n      else\n        override = \"property\";\n      return \"maybeprop\";\n    }\n    return \"restricted_atBlock\";\n  };\n\n  states.keyframes = function(type, stream, state) {\n    if (type == \"word\") { override = \"variable\"; return \"keyframes\"; }\n    if (type == \"{\") return pushContext(state, stream, \"top\");\n    return pass(type, stream, state);\n  };\n\n  states.at = function(type, stream, state) {\n    if (type == \";\") return popContext(state);\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n    if (type == \"word\") override = \"tag\";\n    else if (type == \"hash\") override = \"builtin\";\n    return \"at\";\n  };\n\n  states.interpolation = function(type, stream, state) {\n    if (type == \"}\") return popContext(state);\n    if (type == \"{\" || type == \";\") return popAndPass(type, stream, state);\n    if (type == \"word\") override = \"variable\";\n    else if (type != \"variable\" && type != \"(\" && type != \")\") override = \"error\";\n    return \"interpolation\";\n  };\n\n  return {\n    startState: function(base) {\n      return {tokenize: null,\n              state: inline ? \"block\" : \"top\",\n              stateArg: null,\n              context: new Context(inline ? \"block\" : \"top\", base || 0, null)};\n    },\n\n    token: function(stream, state) {\n      if (!state.tokenize && stream.eatSpace()) return null;\n      var style = (state.tokenize || tokenBase)(stream, state);\n      if (style && typeof style == \"object\") {\n        type = style[1];\n        style = style[0];\n      }\n      override = style;\n      if (type != \"comment\")\n        state.state = states[state.state](type, stream, state);\n      return override;\n    },\n\n    indent: function(state, textAfter) {\n      var cx = state.context, ch = textAfter && textAfter.charAt(0);\n      var indent = cx.indent;\n      if (cx.type == \"prop\" && (ch == \"}\" || ch == \")\")) cx = cx.prev;\n      if (cx.prev) {\n        if (ch == \"}\" && (cx.type == \"block\" || cx.type == \"top\" ||\n                          cx.type == \"interpolation\" || cx.type == \"restricted_atBlock\")) {\n          // Resume indentation from parent context.\n          cx = cx.prev;\n          indent = cx.indent;\n        } else if (ch == \")\" && (cx.type == \"parens\" || cx.type == \"atBlock_parens\") ||\n            ch == \"{\" && (cx.type == \"at\" || cx.type == \"atBlock\")) {\n          // Dedent relative to current context.\n          indent = Math.max(0, cx.indent - indentUnit);\n        }\n      }\n      return indent;\n    },\n\n    electricChars: \"}\",\n    blockCommentStart: \"/*\",\n    blockCommentEnd: \"*/\",\n    blockCommentContinue: \" * \",\n    lineComment: lineComment,\n    fold: \"brace\"\n  };\n});\n\n  function keySet(array) {\n    var keys = {};\n    for (var i = 0; i < array.length; ++i) {\n      keys[array[i].toLowerCase()] = true;\n    }\n    return keys;\n  }\n\n  var documentTypes_ = [\n    \"domain\", \"regexp\", \"url\", \"url-prefix\"\n  ], documentTypes = keySet(documentTypes_);\n\n  var mediaTypes_ = [\n    \"all\", \"aural\", \"braille\", \"handheld\", \"print\", \"projection\", \"screen\",\n    \"tty\", \"tv\", \"embossed\"\n  ], mediaTypes = keySet(mediaTypes_);\n\n  var mediaFeatures_ = [\n    \"width\", \"min-width\", \"max-width\", \"height\", \"min-height\", \"max-height\",\n    \"device-width\", \"min-device-width\", \"max-device-width\", \"device-height\",\n    \"min-device-height\", \"max-device-height\", \"aspect-ratio\",\n    \"min-aspect-ratio\", \"max-aspect-ratio\", \"device-aspect-ratio\",\n    \"min-device-aspect-ratio\", \"max-device-aspect-ratio\", \"color\", \"min-color\",\n    \"max-color\", \"color-index\", \"min-color-index\", \"max-color-index\",\n    \"monochrome\", \"min-monochrome\", \"max-monochrome\", \"resolution\",\n    \"min-resolution\", \"max-resolution\", \"scan\", \"grid\", \"orientation\",\n    \"device-pixel-ratio\", \"min-device-pixel-ratio\", \"max-device-pixel-ratio\",\n    \"pointer\", \"any-pointer\", \"hover\", \"any-hover\"\n  ], mediaFeatures = keySet(mediaFeatures_);\n\n  var mediaValueKeywords_ = [\n    \"landscape\", \"portrait\", \"none\", \"coarse\", \"fine\", \"on-demand\", \"hover\",\n    \"interlace\", \"progressive\"\n  ], mediaValueKeywords = keySet(mediaValueKeywords_);\n\n  var propertyKeywords_ = [\n    \"align-content\", \"align-items\", \"align-self\", \"alignment-adjust\",\n    \"alignment-baseline\", \"anchor-point\", \"animation\", \"animation-delay\",\n    \"animation-direction\", \"animation-duration\", \"animation-fill-mode\",\n    \"animation-iteration-count\", \"animation-name\", \"animation-play-state\",\n    \"animation-timing-function\", \"appearance\", \"azimuth\", \"backface-visibility\",\n    \"background\", \"background-attachment\", \"background-blend-mode\", \"background-clip\",\n    \"background-color\", \"background-image\", \"background-origin\", \"background-position\",\n    \"background-repeat\", \"background-size\", \"baseline-shift\", \"binding\",\n    \"bleed\", \"bookmark-label\", \"bookmark-level\", \"bookmark-state\",\n    \"bookmark-target\", \"border\", \"border-bottom\", \"border-bottom-color\",\n    \"border-bottom-left-radius\", \"border-bottom-right-radius\",\n    \"border-bottom-style\", \"border-bottom-width\", \"border-collapse\",\n    \"border-color\", \"border-image\", \"border-image-outset\",\n    \"border-image-repeat\", \"border-image-slice\", \"border-image-source\",\n    \"border-image-width\", \"border-left\", \"border-left-color\",\n    \"border-left-style\", \"border-left-width\", \"border-radius\", \"border-right\",\n    \"border-right-color\", \"border-right-style\", \"border-right-width\",\n    \"border-spacing\", \"border-style\", \"border-top\", \"border-top-color\",\n    \"border-top-left-radius\", \"border-top-right-radius\", \"border-top-style\",\n    \"border-top-width\", \"border-width\", \"bottom\", \"box-decoration-break\",\n    \"box-shadow\", \"box-sizing\", \"break-after\", \"break-before\", \"break-inside\",\n    \"caption-side\", \"caret-color\", \"clear\", \"clip\", \"color\", \"color-profile\", \"column-count\",\n    \"column-fill\", \"column-gap\", \"column-rule\", \"column-rule-color\",\n    \"column-rule-style\", \"column-rule-width\", \"column-span\", \"column-width\",\n    \"columns\", \"content\", \"counter-increment\", \"counter-reset\", \"crop\", \"cue\",\n    \"cue-after\", \"cue-before\", \"cursor\", \"direction\", \"display\",\n    \"dominant-baseline\", \"drop-initial-after-adjust\",\n    \"drop-initial-after-align\", \"drop-initial-before-adjust\",\n    \"drop-initial-before-align\", \"drop-initial-size\", \"drop-initial-value\",\n    \"elevation\", \"empty-cells\", \"fit\", \"fit-position\", \"flex\", \"flex-basis\",\n    \"flex-direction\", \"flex-flow\", \"flex-grow\", \"flex-shrink\", \"flex-wrap\",\n    \"float\", \"float-offset\", \"flow-from\", \"flow-into\", \"font\", \"font-feature-settings\",\n    \"font-family\", \"font-kerning\", \"font-language-override\", \"font-size\", \"font-size-adjust\",\n    \"font-stretch\", \"font-style\", \"font-synthesis\", \"font-variant\",\n    \"font-variant-alternates\", \"font-variant-caps\", \"font-variant-east-asian\",\n    \"font-variant-ligatures\", \"font-variant-numeric\", \"font-variant-position\",\n    \"font-weight\", \"grid\", \"grid-area\", \"grid-auto-columns\", \"grid-auto-flow\",\n    \"grid-auto-rows\", \"grid-column\", \"grid-column-end\", \"grid-column-gap\",\n    \"grid-column-start\", \"grid-gap\", \"grid-row\", \"grid-row-end\", \"grid-row-gap\",\n    \"grid-row-start\", \"grid-template\", \"grid-template-areas\", \"grid-template-columns\",\n    \"grid-template-rows\", \"hanging-punctuation\", \"height\", \"hyphens\",\n    \"icon\", \"image-orientation\", \"image-rendering\", \"image-resolution\",\n    \"inline-box-align\", \"justify-content\", \"justify-items\", \"justify-self\", \"left\", \"letter-spacing\",\n    \"line-break\", \"line-height\", \"line-stacking\", \"line-stacking-ruby\",\n    \"line-stacking-shift\", \"line-stacking-strategy\", \"list-style\",\n    \"list-style-image\", \"list-style-position\", \"list-style-type\", \"margin\",\n    \"margin-bottom\", \"margin-left\", \"margin-right\", \"margin-top\",\n    \"marks\", \"marquee-direction\", \"marquee-loop\",\n    \"marquee-play-count\", \"marquee-speed\", \"marquee-style\", \"max-height\",\n    \"max-width\", \"min-height\", \"min-width\", \"move-to\", \"nav-down\", \"nav-index\",\n    \"nav-left\", \"nav-right\", \"nav-up\", \"object-fit\", \"object-position\",\n    \"opacity\", \"order\", \"orphans\", \"outline\",\n    \"outline-color\", \"outline-offset\", \"outline-style\", \"outline-width\",\n    \"overflow\", \"overflow-style\", \"overflow-wrap\", \"overflow-x\", \"overflow-y\",\n    \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\",\n    \"page\", \"page-break-after\", \"page-break-before\", \"page-break-inside\",\n    \"page-policy\", \"pause\", \"pause-after\", \"pause-before\", \"perspective\",\n    \"perspective-origin\", \"pitch\", \"pitch-range\", \"place-content\", \"place-items\", \"place-self\", \"play-during\", \"position\",\n    \"presentation-level\", \"punctuation-trim\", \"quotes\", \"region-break-after\",\n    \"region-break-before\", \"region-break-inside\", \"region-fragment\",\n    \"rendering-intent\", \"resize\", \"rest\", \"rest-after\", \"rest-before\", \"richness\",\n    \"right\", \"rotation\", \"rotation-point\", \"ruby-align\", \"ruby-overhang\",\n    \"ruby-position\", \"ruby-span\", \"shape-image-threshold\", \"shape-inside\", \"shape-margin\",\n    \"shape-outside\", \"size\", \"speak\", \"speak-as\", \"speak-header\",\n    \"speak-numeral\", \"speak-punctuation\", \"speech-rate\", \"stress\", \"string-set\",\n    \"tab-size\", \"table-layout\", \"target\", \"target-name\", \"target-new\",\n    \"target-position\", \"text-align\", \"text-align-last\", \"text-decoration\",\n    \"text-decoration-color\", \"text-decoration-line\", \"text-decoration-skip\",\n    \"text-decoration-style\", \"text-emphasis\", \"text-emphasis-color\",\n    \"text-emphasis-position\", \"text-emphasis-style\", \"text-height\",\n    \"text-indent\", \"text-justify\", \"text-outline\", \"text-overflow\", \"text-shadow\",\n    \"text-size-adjust\", \"text-space-collapse\", \"text-transform\", \"text-underline-position\",\n    \"text-wrap\", \"top\", \"transform\", \"transform-origin\", \"transform-style\",\n    \"transition\", \"transition-delay\", \"transition-duration\",\n    \"transition-property\", \"transition-timing-function\", \"unicode-bidi\",\n    \"user-select\", \"vertical-align\", \"visibility\", \"voice-balance\", \"voice-duration\",\n    \"voice-family\", \"voice-pitch\", \"voice-range\", \"voice-rate\", \"voice-stress\",\n    \"voice-volume\", \"volume\", \"white-space\", \"widows\", \"width\", \"will-change\", \"word-break\",\n    \"word-spacing\", \"word-wrap\", \"z-index\",\n    // SVG-specific\n    \"clip-path\", \"clip-rule\", \"mask\", \"enable-background\", \"filter\", \"flood-color\",\n    \"flood-opacity\", \"lighting-color\", \"stop-color\", \"stop-opacity\", \"pointer-events\",\n    \"color-interpolation\", \"color-interpolation-filters\",\n    \"color-rendering\", \"fill\", \"fill-opacity\", \"fill-rule\", \"image-rendering\",\n    \"marker\", \"marker-end\", \"marker-mid\", \"marker-start\", \"shape-rendering\", \"stroke\",\n    \"stroke-dasharray\", \"stroke-dashoffset\", \"stroke-linecap\", \"stroke-linejoin\",\n    \"stroke-miterlimit\", \"stroke-opacity\", \"stroke-width\", \"text-rendering\",\n    \"baseline-shift\", \"dominant-baseline\", \"glyph-orientation-horizontal\",\n    \"glyph-orientation-vertical\", \"text-anchor\", \"writing-mode\"\n  ], propertyKeywords = keySet(propertyKeywords_);\n\n  var nonStandardPropertyKeywords_ = [\n    \"scrollbar-arrow-color\", \"scrollbar-base-color\", \"scrollbar-dark-shadow-color\",\n    \"scrollbar-face-color\", \"scrollbar-highlight-color\", \"scrollbar-shadow-color\",\n    \"scrollbar-3d-light-color\", \"scrollbar-track-color\", \"shape-inside\",\n    \"searchfield-cancel-button\", \"searchfield-decoration\", \"searchfield-results-button\",\n    \"searchfield-results-decoration\", \"zoom\"\n  ], nonStandardPropertyKeywords = keySet(nonStandardPropertyKeywords_);\n\n  var fontProperties_ = [\n    \"font-family\", \"src\", \"unicode-range\", \"font-variant\", \"font-feature-settings\",\n    \"font-stretch\", \"font-weight\", \"font-style\"\n  ], fontProperties = keySet(fontProperties_);\n\n  var counterDescriptors_ = [\n    \"additive-symbols\", \"fallback\", \"negative\", \"pad\", \"prefix\", \"range\",\n    \"speak-as\", \"suffix\", \"symbols\", \"system\"\n  ], counterDescriptors = keySet(counterDescriptors_);\n\n  var colorKeywords_ = [\n    \"aliceblue\", \"antiquewhite\", \"aqua\", \"aquamarine\", \"azure\", \"beige\",\n    \"bisque\", \"black\", \"blanchedalmond\", \"blue\", \"blueviolet\", \"brown\",\n    \"burlywood\", \"cadetblue\", \"chartreuse\", \"chocolate\", \"coral\", \"cornflowerblue\",\n    \"cornsilk\", \"crimson\", \"cyan\", \"darkblue\", \"darkcyan\", \"darkgoldenrod\",\n    \"darkgray\", \"darkgreen\", \"darkkhaki\", \"darkmagenta\", \"darkolivegreen\",\n    \"darkorange\", \"darkorchid\", \"darkred\", \"darksalmon\", \"darkseagreen\",\n    \"darkslateblue\", \"darkslategray\", \"darkturquoise\", \"darkviolet\",\n    \"deeppink\", \"deepskyblue\", \"dimgray\", \"dodgerblue\", \"firebrick\",\n    \"floralwhite\", \"forestgreen\", \"fuchsia\", \"gainsboro\", \"ghostwhite\",\n    \"gold\", \"goldenrod\", \"gray\", \"grey\", \"green\", \"greenyellow\", \"honeydew\",\n    \"hotpink\", \"indianred\", \"indigo\", \"ivory\", \"khaki\", \"lavender\",\n    \"lavenderblush\", \"lawngreen\", \"lemonchiffon\", \"lightblue\", \"lightcoral\",\n    \"lightcyan\", \"lightgoldenrodyellow\", \"lightgray\", \"lightgreen\", \"lightpink\",\n    \"lightsalmon\", \"lightseagreen\", \"lightskyblue\", \"lightslategray\",\n    \"lightsteelblue\", \"lightyellow\", \"lime\", \"limegreen\", \"linen\", \"magenta\",\n    \"maroon\", \"mediumaquamarine\", \"mediumblue\", \"mediumorchid\", \"mediumpurple\",\n    \"mediumseagreen\", \"mediumslateblue\", \"mediumspringgreen\", \"mediumturquoise\",\n    \"mediumvioletred\", \"midnightblue\", \"mintcream\", \"mistyrose\", \"moccasin\",\n    \"navajowhite\", \"navy\", \"oldlace\", \"olive\", \"olivedrab\", \"orange\", \"orangered\",\n    \"orchid\", \"palegoldenrod\", \"palegreen\", \"paleturquoise\", \"palevioletred\",\n    \"papayawhip\", \"peachpuff\", \"peru\", \"pink\", \"plum\", \"powderblue\",\n    \"purple\", \"rebeccapurple\", \"red\", \"rosybrown\", \"royalblue\", \"saddlebrown\",\n    \"salmon\", \"sandybrown\", \"seagreen\", \"seashell\", \"sienna\", \"silver\", \"skyblue\",\n    \"slateblue\", \"slategray\", \"snow\", \"springgreen\", \"steelblue\", \"tan\",\n    \"teal\", \"thistle\", \"tomato\", \"turquoise\", \"violet\", \"wheat\", \"white\",\n    \"whitesmoke\", \"yellow\", \"yellowgreen\"\n  ], colorKeywords = keySet(colorKeywords_);\n\n  var valueKeywords_ = [\n    \"above\", \"absolute\", \"activeborder\", \"additive\", \"activecaption\", \"afar\",\n    \"after-white-space\", \"ahead\", \"alias\", \"all\", \"all-scroll\", \"alphabetic\", \"alternate\",\n    \"always\", \"amharic\", \"amharic-abegede\", \"antialiased\", \"appworkspace\",\n    \"arabic-indic\", \"armenian\", \"asterisks\", \"attr\", \"auto\", \"auto-flow\", \"avoid\", \"avoid-column\", \"avoid-page\",\n    \"avoid-region\", \"background\", \"backwards\", \"baseline\", \"below\", \"bidi-override\", \"binary\",\n    \"bengali\", \"blink\", \"block\", \"block-axis\", \"bold\", \"bolder\", \"border\", \"border-box\",\n    \"both\", \"bottom\", \"break\", \"break-all\", \"break-word\", \"bullets\", \"button\", \"button-bevel\",\n    \"buttonface\", \"buttonhighlight\", \"buttonshadow\", \"buttontext\", \"calc\", \"cambodian\",\n    \"capitalize\", \"caps-lock-indicator\", \"caption\", \"captiontext\", \"caret\",\n    \"cell\", \"center\", \"checkbox\", \"circle\", \"cjk-decimal\", \"cjk-earthly-branch\",\n    \"cjk-heavenly-stem\", \"cjk-ideographic\", \"clear\", \"clip\", \"close-quote\",\n    \"col-resize\", \"collapse\", \"color\", \"color-burn\", \"color-dodge\", \"column\", \"column-reverse\",\n    \"compact\", \"condensed\", \"contain\", \"content\", \"contents\",\n    \"content-box\", \"context-menu\", \"continuous\", \"copy\", \"counter\", \"counters\", \"cover\", \"crop\",\n    \"cross\", \"crosshair\", \"currentcolor\", \"cursive\", \"cyclic\", \"darken\", \"dashed\", \"decimal\",\n    \"decimal-leading-zero\", \"default\", \"default-button\", \"dense\", \"destination-atop\",\n    \"destination-in\", \"destination-out\", \"destination-over\", \"devanagari\", \"difference\",\n    \"disc\", \"discard\", \"disclosure-closed\", \"disclosure-open\", \"document\",\n    \"dot-dash\", \"dot-dot-dash\",\n    \"dotted\", \"double\", \"down\", \"e-resize\", \"ease\", \"ease-in\", \"ease-in-out\", \"ease-out\",\n    \"element\", \"ellipse\", \"ellipsis\", \"embed\", \"end\", \"ethiopic\", \"ethiopic-abegede\",\n    \"ethiopic-abegede-am-et\", \"ethiopic-abegede-gez\", \"ethiopic-abegede-ti-er\",\n    \"ethiopic-abegede-ti-et\", \"ethiopic-halehame-aa-er\",\n    \"ethiopic-halehame-aa-et\", \"ethiopic-halehame-am-et\",\n    \"ethiopic-halehame-gez\", \"ethiopic-halehame-om-et\",\n    \"ethiopic-halehame-sid-et\", \"ethiopic-halehame-so-et\",\n    \"ethiopic-halehame-ti-er\", \"ethiopic-halehame-ti-et\", \"ethiopic-halehame-tig\",\n    \"ethiopic-numeric\", \"ew-resize\", \"exclusion\", \"expanded\", \"extends\", \"extra-condensed\",\n    \"extra-expanded\", \"fantasy\", \"fast\", \"fill\", \"fixed\", \"flat\", \"flex\", \"flex-end\", \"flex-start\", \"footnotes\",\n    \"forwards\", \"from\", \"geometricPrecision\", \"georgian\", \"graytext\", \"grid\", \"groove\",\n    \"gujarati\", \"gurmukhi\", \"hand\", \"hangul\", \"hangul-consonant\", \"hard-light\", \"hebrew\",\n    \"help\", \"hidden\", \"hide\", \"higher\", \"highlight\", \"highlighttext\",\n    \"hiragana\", \"hiragana-iroha\", \"horizontal\", \"hsl\", \"hsla\", \"hue\", \"icon\", \"ignore\",\n    \"inactiveborder\", \"inactivecaption\", \"inactivecaptiontext\", \"infinite\",\n    \"infobackground\", \"infotext\", \"inherit\", \"initial\", \"inline\", \"inline-axis\",\n    \"inline-block\", \"inline-flex\", \"inline-grid\", \"inline-table\", \"inset\", \"inside\", \"intrinsic\", \"invert\",\n    \"italic\", \"japanese-formal\", \"japanese-informal\", \"justify\", \"kannada\",\n    \"katakana\", \"katakana-iroha\", \"keep-all\", \"khmer\",\n    \"korean-hangul-formal\", \"korean-hanja-formal\", \"korean-hanja-informal\",\n    \"landscape\", \"lao\", \"large\", \"larger\", \"left\", \"level\", \"lighter\", \"lighten\",\n    \"line-through\", \"linear\", \"linear-gradient\", \"lines\", \"list-item\", \"listbox\", \"listitem\",\n    \"local\", \"logical\", \"loud\", \"lower\", \"lower-alpha\", \"lower-armenian\",\n    \"lower-greek\", \"lower-hexadecimal\", \"lower-latin\", \"lower-norwegian\",\n    \"lower-roman\", \"lowercase\", \"ltr\", \"luminosity\", \"malayalam\", \"match\", \"matrix\", \"matrix3d\",\n    \"media-controls-background\", \"media-current-time-display\",\n    \"media-fullscreen-button\", \"media-mute-button\", \"media-play-button\",\n    \"media-return-to-realtime-button\", \"media-rewind-button\",\n    \"media-seek-back-button\", \"media-seek-forward-button\", \"media-slider\",\n    \"media-sliderthumb\", \"media-time-remaining-display\", \"media-volume-slider\",\n    \"media-volume-slider-container\", \"media-volume-sliderthumb\", \"medium\",\n    \"menu\", \"menulist\", \"menulist-button\", \"menulist-text\",\n    \"menulist-textfield\", \"menutext\", \"message-box\", \"middle\", \"min-intrinsic\",\n    \"mix\", \"mongolian\", \"monospace\", \"move\", \"multiple\", \"multiply\", \"myanmar\", \"n-resize\",\n    \"narrower\", \"ne-resize\", \"nesw-resize\", \"no-close-quote\", \"no-drop\",\n    \"no-open-quote\", \"no-repeat\", \"none\", \"normal\", \"not-allowed\", \"nowrap\",\n    \"ns-resize\", \"numbers\", \"numeric\", \"nw-resize\", \"nwse-resize\", \"oblique\", \"octal\", \"opacity\", \"open-quote\",\n    \"optimizeLegibility\", \"optimizeSpeed\", \"oriya\", \"oromo\", \"outset\",\n    \"outside\", \"outside-shape\", \"overlay\", \"overline\", \"padding\", \"padding-box\",\n    \"painted\", \"page\", \"paused\", \"persian\", \"perspective\", \"plus-darker\", \"plus-lighter\",\n    \"pointer\", \"polygon\", \"portrait\", \"pre\", \"pre-line\", \"pre-wrap\", \"preserve-3d\",\n    \"progress\", \"push-button\", \"radial-gradient\", \"radio\", \"read-only\",\n    \"read-write\", \"read-write-plaintext-only\", \"rectangle\", \"region\",\n    \"relative\", \"repeat\", \"repeating-linear-gradient\",\n    \"repeating-radial-gradient\", \"repeat-x\", \"repeat-y\", \"reset\", \"reverse\",\n    \"rgb\", \"rgba\", \"ridge\", \"right\", \"rotate\", \"rotate3d\", \"rotateX\", \"rotateY\",\n    \"rotateZ\", \"round\", \"row\", \"row-resize\", \"row-reverse\", \"rtl\", \"run-in\", \"running\",\n    \"s-resize\", \"sans-serif\", \"saturation\", \"scale\", \"scale3d\", \"scaleX\", \"scaleY\", \"scaleZ\", \"screen\",\n    \"scroll\", \"scrollbar\", \"scroll-position\", \"se-resize\", \"searchfield\",\n    \"searchfield-cancel-button\", \"searchfield-decoration\",\n    \"searchfield-results-button\", \"searchfield-results-decoration\", \"self-start\", \"self-end\",\n    \"semi-condensed\", \"semi-expanded\", \"separate\", \"serif\", \"show\", \"sidama\",\n    \"simp-chinese-formal\", \"simp-chinese-informal\", \"single\",\n    \"skew\", \"skewX\", \"skewY\", \"skip-white-space\", \"slide\", \"slider-horizontal\",\n    \"slider-vertical\", \"sliderthumb-horizontal\", \"sliderthumb-vertical\", \"slow\",\n    \"small\", \"small-caps\", \"small-caption\", \"smaller\", \"soft-light\", \"solid\", \"somali\",\n    \"source-atop\", \"source-in\", \"source-out\", \"source-over\", \"space\", \"space-around\", \"space-between\", \"space-evenly\", \"spell-out\", \"square\",\n    \"square-button\", \"start\", \"static\", \"status-bar\", \"stretch\", \"stroke\", \"sub\",\n    \"subpixel-antialiased\", \"super\", \"sw-resize\", \"symbolic\", \"symbols\", \"system-ui\", \"table\",\n    \"table-caption\", \"table-cell\", \"table-column\", \"table-column-group\",\n    \"table-footer-group\", \"table-header-group\", \"table-row\", \"table-row-group\",\n    \"tamil\",\n    \"telugu\", \"text\", \"text-bottom\", \"text-top\", \"textarea\", \"textfield\", \"thai\",\n    \"thick\", \"thin\", \"threeddarkshadow\", \"threedface\", \"threedhighlight\",\n    \"threedlightshadow\", \"threedshadow\", \"tibetan\", \"tigre\", \"tigrinya-er\",\n    \"tigrinya-er-abegede\", \"tigrinya-et\", \"tigrinya-et-abegede\", \"to\", \"top\",\n    \"trad-chinese-formal\", \"trad-chinese-informal\", \"transform\",\n    \"translate\", \"translate3d\", \"translateX\", \"translateY\", \"translateZ\",\n    \"transparent\", \"ultra-condensed\", \"ultra-expanded\", \"underline\", \"unset\", \"up\",\n    \"upper-alpha\", \"upper-armenian\", \"upper-greek\", \"upper-hexadecimal\",\n    \"upper-latin\", \"upper-norwegian\", \"upper-roman\", \"uppercase\", \"urdu\", \"url\",\n    \"var\", \"vertical\", \"vertical-text\", \"visible\", \"visibleFill\", \"visiblePainted\",\n    \"visibleStroke\", \"visual\", \"w-resize\", \"wait\", \"wave\", \"wider\",\n    \"window\", \"windowframe\", \"windowtext\", \"words\", \"wrap\", \"wrap-reverse\", \"x-large\", \"x-small\", \"xor\",\n    \"xx-large\", \"xx-small\"\n  ], valueKeywords = keySet(valueKeywords_);\n\n  var allWords = documentTypes_.concat(mediaTypes_).concat(mediaFeatures_).concat(mediaValueKeywords_)\n    .concat(propertyKeywords_).concat(nonStandardPropertyKeywords_).concat(colorKeywords_)\n    .concat(valueKeywords_);\n  CodeMirror.registerHelper(\"hintWords\", \"css\", allWords);\n\n  function tokenCComment(stream, state) {\n    var maybeEnd = false, ch;\n    while ((ch = stream.next()) != null) {\n      if (maybeEnd && ch == \"/\") {\n        state.tokenize = null;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return [\"comment\", \"comment\"];\n  }\n\n  CodeMirror.defineMIME(\"text/css\", {\n    documentTypes: documentTypes,\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    fontProperties: fontProperties,\n    counterDescriptors: counterDescriptors,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n    },\n    name: \"css\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-scss\", {\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    fontProperties: fontProperties,\n    allowNested: true,\n    lineComment: \"//\",\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return [\"comment\", \"comment\"];\n        } else if (stream.eat(\"*\")) {\n          state.tokenize = tokenCComment;\n          return tokenCComment(stream, state);\n        } else {\n          return [\"operator\", \"operator\"];\n        }\n      },\n      \":\": function(stream) {\n        if (stream.match(/\\s*\\{/, false))\n          return [null, null]\n        return false;\n      },\n      \"$\": function(stream) {\n        stream.match(/^[\\w-]+/);\n        if (stream.match(/^\\s*:/, false))\n          return [\"variable-2\", \"variable-definition\"];\n        return [\"variable-2\", \"variable\"];\n      },\n      \"#\": function(stream) {\n        if (!stream.eat(\"{\")) return false;\n        return [null, \"interpolation\"];\n      }\n    },\n    name: \"css\",\n    helperType: \"scss\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-less\", {\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    fontProperties: fontProperties,\n    allowNested: true,\n    lineComment: \"//\",\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return [\"comment\", \"comment\"];\n        } else if (stream.eat(\"*\")) {\n          state.tokenize = tokenCComment;\n          return tokenCComment(stream, state);\n        } else {\n          return [\"operator\", \"operator\"];\n        }\n      },\n      \"@\": function(stream) {\n        if (stream.eat(\"{\")) return [null, \"interpolation\"];\n        if (stream.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\\b/i, false)) return false;\n        stream.eatWhile(/[\\w\\\\\\-]/);\n        if (stream.match(/^\\s*:/, false))\n          return [\"variable-2\", \"variable-definition\"];\n        return [\"variable-2\", \"variable\"];\n      },\n      \"&\": function() {\n        return [\"atom\", \"atom\"];\n      }\n    },\n    name: \"css\",\n    helperType: \"less\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-gss\", {\n    documentTypes: documentTypes,\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    fontProperties: fontProperties,\n    counterDescriptors: counterDescriptors,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    supportsAtComponent: true,\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n    },\n    name: \"css\",\n    helperType: \"gss\"\n  });\n\n});\n","Magezon_Builder/js/directives/colorPicker.js":"define([\n\t'jquery',\n\t'angular',\n    'Magezon_Builder/js/ui/form/element/color-picker-palette'\n], function ($, angular, palette) {\n\n\tvar directive = function(magezonBuilderUrl, $timeout, $rootScope) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\trequire: \"ngModel\",\n\t\t\tscope: {\n\t\t\t\tconfig: '='\n\t\t\t},\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/directives/color.html');\n\t\t\t},\n\t\t\tlink: function(scope, element, attrs, ngModel) {\n\t\t\t\tvar initColorPicker = function() {\n\t\t\t\t\tvar config = {\n\t\t\t\t\t\tcontainerClassName: 'mgz-spectrum',\n\t\t                chooseText: 'Apply',\n\t\t                cancelText: 'Cancel',\n\t\t                maxSelectionSize: 8,\n\t\t                clickoutFiresChange: true,\n\t\t                allowEmpty: true,\n\t\t                localStorageKey: 'magezon.spectrum',\n\t\t                palette: palette,\n\t\t                showInput: true,\n\t\t                showInitial: false,\n\t\t                showPalette: true,\n\t\t                showAlpha: true,\n\t\t                showSelectionPalette: true,\n\t\t                preferredFormat: 'hex',\n\t\t                color: ngModel.$viewValue,\n\t\t                hide : function(c) {\n\t\t                \t$timeout(function() {\n\t\t                \t\tif (c) ngModel.$setViewValue(c.toString());\n\t\t                \t});\n\t\t                }\n\t\t            };\n\t\t            config = angular.extend(config, scope.config);\n\t\t            element.spectrum(config);\n\t\t        }\n\t            setTimeout(function() {\n\t            \tinitColorPicker();\n\t            });\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/directives/navigator.js":"define([\n\t'angular'\n], function (angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\tscope: {\n\t\t\t\telement: '='\n\t\t\t},\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/navigator_item.html')\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/directives/navigatorProfile.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\tscope: {\n\t\t\t\telement: '='\n\t\t\t},\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/navigator/element/profile.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\t\t\t\tvar parent = $controller('baseController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t\t$scope.listVisible = true;\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/directives/elementActions.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getViewFileUrl('Magezon_Builder/js/templates/directives/element-actions.html');\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/directives/magezonBuilder.js":"define([\n\t'jquery',\n\t'waypoints'\n], function ($) {\n\n\tvar magezonBuilderDir = function(profileManager, $timeout, magezonBuilderUrl, $templateRequest) {\n\t\treturn {\n\t\t\tscope: {\n\t\t\t\tprofile: '='\n\t\t\t},\n    \t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder.html')\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope, magezonBuilderModal, historyManager, magezonBuilderService, magezonBuilderConfig) {\n\t\t\t\t$rootScope.builderId = magezonBuilderService.getUniqueId();\n\n\t\t\t\t$scope.$on('openElementsModal', function(event) {\n\t\t\t\t\t$scope.openModal();\n\t\t\t\t});\n\n\t\t\t\t$scope.openModal = function() {\n\t\t\t\t\tmagezonBuilderModal.open('elements').result.then(function() {}, function() {\n\t\t\t\t\t\tmagezonBuilderModal.setElement(null);\n\t\t\t\t\t\tmagezonBuilderModal.setAction(null);\n\t\t\t\t\t\tmagezonBuilderModal.setData(null);\n\t\t\t\t\t\tmagezonBuilderModal.setOpenModal(null);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t$rootScope.$on('loadStyles', function(e, draggingElement) {\n\t\t\t\t\t$scope.loadStyles();\n\t\t\t\t});\n\n\t\t        $scope.loadStyles = function() {\n\t\t        \tif ($rootScope.builderConfig.loadStylesUrl && $rootScope.profile.elements && $rootScope.profile.elements.length) {\n\t\t        \t\tmagezonBuilderService.post($rootScope.builderConfig.loadStylesUrl, {\n\t\t        \t\t\tprofile: profileManager.toString()\n\t\t        \t\t}, true, function(res) {\n\t\t        \t\t\tif (res.message) {\n\t\t        \t\t\t\talert(res.message);\n\t\t        \t\t\t}\n\t\t        \t\t\tif (res.status) {\n\t\t        \t\t\t\t$('#' + $rootScope.builderConfig.targetId + '-styles').html(res.html);\n\t\t        \t\t\t}\n\t\t        \t\t});\n\t\t\t        }\n\t\t        }\n\n\t\t        $templateRequest(magezonBuilderUrl.getViewFileUrl('Magezon_Builder/js/templates/navigator/element/list.html')).then(function(html) {\n\t\t        \t$timeout(function() {\n\t\t\t\t\t\t$('.' + $rootScope.builderConfig.htmlId + '-spinner').remove();\n\t\t\t\t\t\tif (profileManager.getKey()) {\n\t\t\t\t\t\t\tif (magezonBuilderService.isJSON(profileManager.getContent())) {\n\t\t\t\t\t\t\t\t$('.' + $rootScope.rootId).addClass('mgz-deactive-builder');\n\t\t\t\t\t\t\t\t$('.' + $rootScope.rootId).removeClass('mgz-active-builder');\n\t\t\t\t\t\t\t\t$rootScope.$broadcast('importShortcode');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (profileManager.getContent()) {\n\t\t\t\t\t\t\t\t\t$('.' + $rootScope.rootId).addClass('mgz-active-builder');\n\t\t\t\t\t\t\t\t\t$('.' + $rootScope.rootId).removeClass('mgz-deactive-builder');\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$('.' + $rootScope.rootId).addClass('mgz-deactive-builder');\n\t\t\t\t\t\t\t\t\t$('.' + $rootScope.rootId).removeClass('mgz-active-builder');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$rootScope.$broadcast('importShortcode');\n\t\t\t\t\t\t}\n\t\t\t        }, 100);\n\t\t        });\n\n\t\t        $scope.$on('addElement', function(e, item) {\n\t\t        \tvar elem, action, openModal, data, type;\n\t\t        \tif (item && item.hasOwnProperty('elem')) elem = item.elem;\n\t\t        \tif (item && item.hasOwnProperty('action')) action = item.action;\n\t\t        \tif (item && item.hasOwnProperty('openModal')) openModal = item.openModal;\n\t\t        \tif (item && item.hasOwnProperty('data')) data = item.data;\n\t\t        \tif (item && item.hasOwnProperty('type')) type = item.type;\n\t\t        \tif (type) {\n\t\t        \t\t$rootScope.$broadcast('addNewElment', {\n\t\t\t\t\t\t\telem: elem,\n\t\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\t\taction: 'append',\n\t\t\t\t\t\t\topenModal: openModal,\n\t\t\t\t\t\t\tdata: data\n\t\t\t\t\t\t});\n\t\t        \t} else {\n\t\t        \t\tif (elem) magezonBuilderModal.setElement(elem);\n\t\t\t\t\t\tif (action) magezonBuilderModal.setAction(action);\n\t\t\t\t\t\tif (openModal) magezonBuilderModal.setOpenModal(openModal);\n\t\t\t\t\t\tif (data) magezonBuilderModal.setData(data);\n\t\t\t\t\t\t$rootScope.$broadcast('openElementsModal');\n\t\t        \t}\n\t\t\t\t});\n\n\t\t\t\tvar loadAnimation = function() {\n\t\t\t\t\tif ($(\".mgz-animated:not(.mgz_start_animation)\").length) {\n\t\t\t\t\t\t$(\".mgz-animated:not(.mgz_start_animation)\").waypoint(function() {\n\t\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\t\tvar delayTime = 0;\n\t\t\t\t\t\t\tif ($(this.element).data('animation-delay')) {\n\t\t\t\t\t\t\t\tdelayTime = $(this.element).data('animation-delay');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar durationTime = 0;\n\t\t\t\t\t\t\tif ($(this.element).data('animation-duration')) {\n\t\t\t\t\t\t\t\tdurationTime = $(this.element).data('animation-duration');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (durationTime) $(self.element).css(\"animation-duration\", durationTime + 's');\n\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t$(self.element).addClass(\"mgz_start_animation animated\")\n\t\t\t\t\t\t\t}, delayTime * 1000);\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\toffset: \"85%\"\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$scope.$on('editedElement', function(e, elem) {\n\t\t\t\t\tloadAnimation();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\treturn magezonBuilderDir;\n});","Magezon_Builder/js/directives/elementResizable.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getViewFileUrl('Magezon_Builder/js/templates/directives/element-resizable.html');\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/directives/resizable.js":"define([\n    'jquery'\n], function ($) {\n\n\tvar resizableDir = function(magezonBuilderService, $rootScope) {\n\t\treturn {\n            restrict: 'AE',\n            scope: {\n            \trElement: '=',\n                rDirections: '=',\n                rCenteredX: '=',\n                rCenteredY: '=',\n                rWidth: '=',\n                rHeight: '=',\n                rFlex: '=',\n                rGrabber: '@',\n                rDisabled: '@'\n            },\n            link: function(scope, element, attr) {\n                scope.sizes = [];\n                magezonBuilderService.getBuilderConfig('resizableSizes', function(resizableSizes) {\n                    scope.sizes = resizableSizes;\n                });\n\n            \tscope.currentSize = scope.sizes[scope.sizes.length-1];\n\n                var flexBasis = 'flexBasis' in document.documentElement.style ? 'flexBasis' :\n                    'webkitFlexBasis' in document.documentElement.style ? 'webkitFlexBasis' :\n                    'msFlexPreferredSize' in document.documentElement.style ? 'msFlexPreferredSize' : 'flexBasis';\n\n                // register watchers on width and height attributes if they are set\n                scope.$watch('rWidth', function(value){\n                    element[0].style.width = scope.rWidth + 'px';\n                });\n                scope.$watch('rHeight', function(value){\n                    element[0].style.height = scope.rHeight + 'px';\n                });\n\n                element.addClass('resizable');\n\n                var style = window.getComputedStyle(element[0], null),\n                    w,\n                    h,\n                    dir = scope.rDirections,\n                    vx = scope.rCenteredX ? 2 : 1, // if centered double velocity\n                    vy = scope.rCenteredY ? 2 : 1, // if centered double velocity\n                    inner = scope.rGrabber ? scope.rGrabber : '<span></span>',\n                    start,\n                    dragDir,\n                    axis,\n                    info = {};\n\n                var oldSize;\n\n                var updateInfo = function(e) {\n                    info.width = false; info.height = false;\n                    if(axis === 'x')\n                        info.width = parseInt(element[0].style[scope.rFlex ? flexBasis : 'width']);\n                    else\n                        info.height = parseInt(element[0].style[scope.rFlex ? flexBasis : 'height']);\n                    info.id = element[0].id;\n                    info.evt = e;\n\n                    var size = scope.currentSize;\n                    if (size && oldSize!=size) {\n                        magezonBuilderService.setResponiveValue(scope.rElement, 'size', size['value']);\n                        scope.$parent.$parent.$digest();\n                    \toldSize = size;\n                \t\telement[0].style['width'] = '';\n                \t\telement.parent().children('.mgz-column-resize').html(size.shortLabel);\n                        $rootScope.$broadcast('exportShortcode');\n\t                }\n                };\n\n                var getSize = function(percent) {\n\n                \tif (percent <= scope.sizes[0]['percent']) {\n                \t\treturn scope.sizes[0];\n                \t}\n\n                \tif (percent >= scope.sizes[scope.sizes.length-1]['percent']) {\n                \t\treturn scope.sizes[scope.sizes.length-1];\n                \t}\n\n                    scope.sizes.sort(function(a,b){\n                        return a['percent'] - b['percent'];\n                    });\n\n                    var newSizes = [];\n                    var size, a, b;\n                \tfor (var i = 0; i < scope.sizes.length; i++) {\n                        var row = scope.sizes[i];\n\n                        if (!size) {\n                            size = scope.sizes[i];\n                            continue;\n                        }\n\n                        a = Math.abs(percent - scope.sizes[i]['percent']);\n                        b = Math.abs(percent - size['percent']);\n\n                        if (a < b) {\n                            size = scope.sizes[i];\n                        }\n                \t}\n\n                    if (size) {\n                        return size;\n                    }\n\n                \treturn scope.currentSize;\n                }\n\n                var dragging = function(e) {\n                    var _width       = $(element).width();\n                    var _parentWidth = $(element).parents('.mgz-element-collection').eq(1).width() + 30;\n                    if (isNaN(_width) || !_width) return;\n                \tif (_width > _parentWidth) {\n\t\t\t\t\t\tpercent = 100;\n                \t} else {\n\t\t\t\t\t\tvar prop, offset = axis === 'x' ? start - e.clientX : start - e.clientY;\n\t\t\t\t\t\tvar percent      = (_width / _parentWidth) * 100;\n\t                }\n\t\t\t\t\tscope.currentSize = getSize(percent);\n                    switch(dragDir) {\n                        case 'right':\n                            prop = scope.rFlex ? flexBasis : 'width';\n                            element[0].style[prop] = (w - offset) + 'px';\n                            break;\n                        case 'left':\n                            prop = scope.rFlex ? flexBasis : 'width';\n                            element[0].style[prop] = w + (offset * vx) + 'px';\n                            break;\n                    }\n                    updateInfo(e);\n                };\n\n                var dragEnd = function(e) {\n                \telement.parent().removeClass('mgz-resizing');\n                \telement[0].style['width'] = '';\n                    updateInfo();\n                    document.removeEventListener('mouseup', dragEnd, false);\n                    document.removeEventListener('mousemove', dragging, false);\n                    element.removeClass('no-transition');\n                };\n                var dragStart = function(e, direction) {\n                    var width = element.closest('.mgz-element').outerWidth();\n\t\t\t\t\telement.parent().addClass('mgz-resizing');\n                    element.width(width);\n\t\t\t\t\tdragDir = direction;\n\t\t\t\t\taxis    = dragDir === 'left' || dragDir === 'right' ? 'x' : 'y';\n\t\t\t\t\tstart   = axis === 'x' ? e.clientX : e.clientY;\n                    w = parseInt(style.getPropertyValue('width'));\n                    h = parseInt(style.getPropertyValue('height'));\n\n                    //prevent transition while dragging\n                    element.addClass('no-transition');\n\n                    document.addEventListener('mouseup', dragEnd, false);\n                    document.addEventListener('mousemove', dragging, false);\n\n                    // Disable highlighting while dragging\n                    if(e.stopPropagation) e.stopPropagation();\n                    if(e.preventDefault) e.preventDefault();\n                    e.cancelBubble = true;\n                    e.returnValue = false;\n                    updateInfo(e);\n                };\n\n                dir.forEach(function (direction) {\n                    var grabber = document.createElement('div');\n\n                    // add class for styling purposes\n                    grabber.setAttribute('class', 'mgz-resize');\n                    grabber.innerHTML = inner;\n                    element[0].appendChild(grabber);\n                    grabber.ondragstart = function() { return false; };\n                    grabber.addEventListener('mousedown', function(e) {\n                        var disabled = (scope.rDisabled === 'true');\n                        if (!disabled && e.which === 1) {\n                            // left mouse click\n                            dragStart(e, direction);\n                        }\n                    }, false);\n\n                    if(!element.parent().children('.mgz-column-resize').length) {\n                    \telement.parent().append('<div class=\"mgz-column-resize\"></div>');\n                    }\n                });\n            }\n        };\n\t};\n\n\treturn resizableDir;\n});","Magezon_Builder/js/directives/modalElement.js":"define([\n\t'angular'\n], function (angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\tscope: {\n\t\t\t\telement: '=element'\n\t\t\t},\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/modal/elements_element.html')\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/directives/builderDirectiveList.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar directive = function(magezonBuilderService, $compile) {\n\t\treturn {\n\t\t\tscope: {\n\t\t\t\tgroup: '@',\n\t\t\t\ttag: '@',\n\t\t\t\thtmlTag: '@',\n\t\t\t\telement: '=?'\n\t\t\t},\n\t\t\tlink: function(scope, element, attrs) {\n\t\t\t\tvar parent    = scope.$parent;\n\t\t\t\tvar htmlTag   = scope.htmlTag ? scope.htmlTag : 'div';\n\t\t\t\tvar deferreds = [];\n\t\t\t\tvar items     = {};\n\t\t\t\tangular.forEach(magezonBuilderService.directives, function(directive, index) {\n\t\t\t\t\tvar tags = directive.tag ? directive.tag : '';\n\t\t\t\t\tvar groups  = directive.group ? directive.group : '';\n\t\t\t\t\tif (angular.isString(tags)) tags = tags.split(',');\n\t\t\t\t\tif (angular.isObject(tags)) tags = Object.values(tags);\n\t\t\t\t\tif (angular.isString(groups)) groups = groups.split(',');\n\t\t\t\t\tif (angular.isObject(groups)) groups = Object.values(groups);\n\t\t\t\t\tif ($.inArray(scope.tag, tags) !== -1 || $.inArray(scope.group, groups) !== -1) {\n\t\t\t\t\t\tif (!directive.hasOwnProperty('disabled') || !directive.disabled) {\n\t\t\t\t\t\t\tvar additionalClasses = directive.additionalClasses ? ' ' + directive.additionalClasses : '';\n\t\t\t\t\t\t\tadditionalClasses += ' magezon-builder-directive-' + directive.type;\n\t\t\t\t\t\t\tif (directive.group) additionalClasses += ' magezon-builder-directive-group-' + directive.group;\n\t\t\t\t\t\t\tif (directive['element']) {\n\t\t\t\t\t\t\t\tvar deferred;\n\t\t\t\t\t\t\t\tdeferred = $.Deferred();\n\t\t\t\t\t\t\t\tdeferreds.push(deferred);\n\t\t\t\t\t\t\t\trequire([directive['element']], function(Directive) {\n\t\t\t\t\t\t\t\t\tvar html = '<' + htmlTag + ' class=\"magezon-builder-directive' + additionalClasses + '\" ' + (directive.templateUrl ? 'templateUrl=\"' + directive.templateUrl + '\"' : '') + ' element=\"element\" dynamic-directive element-name=\"mgz-directive-' + directive.type + '\" sort-order=\"' + (directive['sortOrder'] ? directive['sortOrder'] : 0) + '\"></' + htmlTag + '>';\n\t\t\t\t\t\t\t\t\titems[index] = html;\n\t\t\t\t\t\t\t\t\tdeferred.resolve();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar html = '<' + htmlTag + ' class=\"magezon-builder-directive' + additionalClasses + '\" ' + (directive.templateUrl ? 'templateUrl=\"' + directive.templateUrl + '\"' : '') + ' element=\"element\" dynamic-directive element-name=\"mgz-directive-' + directive.type + '\" sort-order=\"' + (directive['sortOrder'] ? directive['sortOrder'] : 0) + '\"></' + htmlTag + '>';\n\t\t\t\t\t\t\t\titems[index] = html;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$.when.apply($, deferreds).done(function () {\n\t\t\t\t\tif (!Object.keys(items).length) element.remove();\n\t\t\t\t\tangular.forEach(items, function(item) {\n\t\t\t\t\t\tif (parent.$parent) {\n\t\t\t\t\t\t\tvar template = angular.element(item);\n\t\t\t\t\t\t\tvar newScope = parent.$parent.$new(true);\n\t\t\t\t\t\t\tnewScope.element = scope.element;\n\t\t\t\t\t\t\tvar html = $compile(template)(newScope);\n\t\t\t\t\t\t\telement.append(html);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\treturn directive;\n});","Magezon_Builder/js/directives/tooltip.js":"define([\n\t'jquery'\n\t], function ($) {\n\n\t\t// https://embed.plnkr.co/plunk/amkxZc\n\t\tvar directive = function($compile, $timeout) {\n\t\t\tvar template =  '<div class=\"mgz-tooltip tooltip {{placement}}\" ng-class=\"{ in: isOpen, fade: animation() }\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\" ng-bind=\"tooltipTitle\"></div></div>';\n\n\t\t\treturn {\n\t\t\t\tscope: { tooltipTitle: '@mgzTooltip', placement: '@tooltipPlacement', animation: '&tooltipAnimation' },\n\t\t\t\tlink: function ( scope, element, attr ) {\n\t\t\t\t\tvar tooltip = $compile( template )( scope ), \n\t\t\t\t\ttransitionTimeout;\n\t\t\t\t\tvar hoverd;\n\n      \t\t\t\t// Calculate the current position and size of the directive element.\n      \t\t\t\tfunction getPosition() {\n      \t\t\t\t\treturn {\n      \t\t\t\t\t\twidth: element.prop( 'offsetWidth' ),\n      \t\t\t\t\t\theight: element.prop( 'offsetHeight' ),\n      \t\t\t\t\t\ttop: element.prop( 'offsetTop' ),\n      \t\t\t\t\t\tleft: element.prop( 'offsetLeft' )\n      \t\t\t\t\t};\n      \t\t\t\t}\n\n      \t\t\t\t// Show the tooltip popup element.\n      \t\t\t\tfunction show() {\n      \t\t\t\t\tvar position,\n      \t\t\t\t\tttWidth,\n      \t\t\t\t\tttHeight,\n      \t\t\t\t\tttPosition;\n\n        \t\t\t\t// If no placement was provided, default to 'top'.\n        \t\t\t\tscope.placement = scope.placement || 'top';\n\n\t\t\t\t        // If there is a pending remove transition, we must cancel it, lest the\n\t\t\t\t        // toolip be mysteriously removed.\n\t\t\t\t        if ( transitionTimeout ) $timeout.cancel( transitionTimeout );\n\n\t\t\t\t        // Lazy compile the tooltip element\n\t\t\t\t        // FIXME: For some reason, this does *not* always work correctly on the \n\t\t\t\t        // *first* run, but does so on all subsequent runs.\n\t\t\t\t        //tooltip = tooltip ||  $compile( template )( scope );\n\n        \t\t\t\t// Set the initial positioning.\n        \t\t\t\ttooltip.css({ top: 0, left: 0, display: 'block' });\n\n\t\t\t\t        // Now we add it to the DOM because need some info about it. But it's not \n\t\t\t\t        // visible yet anyway.\n\t\t\t\t        element.after( tooltip );\n\n\t\t\t\t        // Get the position of the directive element.\n\t\t\t\t        position = getPosition();\n\t\t\t\t        \n\t\t\t\t        // Get the height and width of the tooltip so we can center it.\n\t\t\t\t        ttWidth = tooltip.prop( 'offsetWidth' );\n\t\t\t\t        ttHeight = tooltip.prop( 'offsetHeight' );\n\n\t\t\t\t        // Calculate the tooltip's top and left coordinates to center it with\n\t\t\t\t        // this directive.\n\t\t\t\t        switch ( scope.placement ) {\n\t\t\t\t        \tcase 'right':\n\t\t\t\t        \tttPosition = {\n\t\t\t\t        \t\ttop: (position.top + position.height / 2 - ttHeight / 2) + 'px',\n\t\t\t\t        \t\tleft: (position.left + position.width) + 'px'\n\t\t\t\t        \t};\n\t\t\t\t        \tbreak;\n\t\t\t\t        \tcase 'bottom':\n\t\t\t\t        \tttPosition = {\n\t\t\t\t        \t\ttop: (position.top + position.height) + 'px',\n\t\t\t\t        \t\tleft: (position.left + position.width / 2 - ttWidth / 2) + 'px'\n\t\t\t\t        \t};\n\t\t\t\t        \tbreak;\n\t\t\t\t        \tcase 'left':\n\t\t\t\t        \tttPosition = {\n\t\t\t\t        \t\ttop: (position.top + position.height / 2 - ttHeight / 2) + 'px',\n\t\t\t\t        \t\tleft: (position.left - ttWidth) + 'px'\n\t\t\t\t        \t};\n\t\t\t\t        \tbreak;\n\t\t\t\t        \tdefault:\n\t\t\t\t        \tttPosition = {\n\t\t\t\t        \t\ttop: (position.top - ttHeight) + 'px',\n\t\t\t\t        \t\tleft: (position.left + position.width / 2 - ttWidth / 2) + 'px'\n\t\t\t\t        \t};\n\t\t\t\t        \tbreak;\n\t\t\t\t        }\n\n\t\t\t\t        // Now set the calculated positioning.\n\t\t\t\t        tooltip.css( ttPosition );\n\n\t\t\t\t        if (scope.placement == 'top' || scope.placement == 'bottom') {\n\t\t\t\t        \tvar arrowSel = tooltip.find('.tooltip-arrow');\n\t\t\t\t        \tarrowSel.css('left', (tooltip.width() - arrowSel.outerWidth(true)) / 2);\n\t\t\t\t    \t}\n\n\t\t\t\t        // And show the tooltip.\n\t\t\t\t        scope.isOpen = true;\n\t\t\t\t    }\n\n      \t\t\t\t// Hide the tooltip popup element.\n      \t\t\t\tfunction hide() {\n\t\t\t\t        transitionTimeout = $timeout( function () {\n\t\t\t\t        \tif (!hoverd) {\n\t\t\t\t        \t\tscope.isOpen = false;\n\t\t\t\t        \t\t//tooltip.remove();\n\t\t\t\t        \t}\n\t\t\t\t        }, 500);\n\t\t\t\t    }\n\n\t\t\t\t    \n\t\t\t\t    tooltip.hover(function() {\n\t\t\t\t    \tscope.$apply( show );\n\t\t\t\t    \thoverd = true;\n\t\t\t\t    }, function() {\n\t\t\t\t    \thoverd = false;\n\t\t\t\t    \tscope.$apply( hide );\n\t\t\t\t    })\n\n\t\t\t      \t// Register the event listeners.\n\t\t\t      \telement.bind( 'mouseenter', function() {\n\t\t\t      \t\t$('.mgz-tooltip').remove();\n\t\t\t      \t\tscope.$apply( show );\n\t\t\t      \t\thoverd = true;\n\t\t\t      \t});\n\t\t\t      \telement.bind( 'mouseleave', function() {\n\t\t\t      \t\thoverd = false;\n\t\t\t      \t\tscope.$apply( hide );\n\t\t\t      \t});\n\t\t\t      }\n\t\t\t  };\n\t\t\t}\n\n\t\t\treturn directive;\n\t\t});","Magezon_Builder/js/directives/elementIcon.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\tscope: {\n\t\t\t\telement: '='\n\t\t\t},\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/element_icon.html');\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/modules/dynamicDirective.js":"// Source Blog: https://weblogs.thinktecture.com/pawel/2014/07/angularjs-dynamic-directives.html\n// https://jsfiddle.net/Pawel_Gerr/y22ZK/\n\n/**\n * Dynamic directive\n */\n(function(dynamicDirective) {\n    'use strict';\n\n    /**\n     * @param $scope\n     */\n    function Controller($scope) {\n\n    }\n\n    /**\n     * @constructor\n     * @param $compile\n     * @param {DynamicDirectiveManager} dynamicDirectiveManager\n     */\n    function Directive($compile, dynamicDirectiveManager) {\n\n        function safeApply(scope, fn) {\n            var phase = scope.$root.$$phase;\n\n            if (phase === '$apply' || phase === '$digest') {\n                if (fn && (typeof(fn) === 'function')) {\n                    fn();\n                }\n            } else {\n                scope.$apply(fn);\n            }\n        }\n\n        return {\n            restrict: 'AE',\n            require: 'dynamicDirective',\n            controller: Controller,\n            compile: function () {\n\n                var currentSuffix;\n                var ctx = new DummyDynamicDirectiveContext();\n\n                return {\n                    post: function (scope, element, attrs, controller) {\n\n                        controller.recompile = function (suffix) {\n                            if (currentSuffix === suffix) {\n                                return;\n                            }\n\n                            currentSuffix = suffix;\n\n                            // safeApply(scope, function () {\n                            //     ctx.recompileInnerElement(scope, element, currentSuffix, attrs);\n                            // });\n                        };\n\n                        ctx.register();\n                        //ctx.recompileInnerElement(scope, element, currentSuffix, attrs);\n\n                        scope.$on('$destroy', function () {\n                            ctx.unregister();\n                        });\n\n                        attrs.$observe('elementName', function (newName, oldName) {\n                            if (newName !== oldName) {\n                                ctx.unregister();\n                                ctx.destroyInnerElement(scope, element);\n\n                                if (newName) {\n                                    ctx = new DynamicDirectiveContext($compile, dynamicDirectiveManager, controller, newName, attrs);\n                                } else {\n                                    ctx = new DummyDynamicDirectiveContext();\n                                }\n\n                                ctx.register();\n                                ctx.recompileInnerElement(scope, element, currentSuffix, attrs);\n                            }\n                        });\n\n                    }\n                };\n            }\n        };\n    }\n\n    function DynamicDirectiveContext($compile, dynamicDirectiveManager, controller, elementName, attrs) {\n\n        if (!elementName) {\n            throw new Error('Element name must not null nor empty.');\n        }\n\n        var normalizedName = attrs.$normalize(elementName);\n        var currentInnerElement;\n\n        // taken from angular.js\n        var SNAKE_CASE_REGEXP = /[A-Z]/g;\n\n        function snakeCase(name, separator) {\n            separator = separator || '_';\n            return name.replace(SNAKE_CASE_REGEXP, function (letter, pos) {\n                return (pos ? separator : '') + letter.toLowerCase();\n            });\n        }\n\n        function createElement(currentSuffix) {\n\n            var name = elementName;\n\n            if (angular.isDefined(currentSuffix) && (currentSuffix !== null)) {\n                name = name + '-' + currentSuffix;\n            }\n\n            var directiveElem = angular.element(document.createElement(name));\n            var attrsToOmit = ['elementName', '$attr'];\n\n            angular.forEach(attrs, function (value, key) {\n                if (attrs.hasOwnProperty(key) && (attrsToOmit.indexOf(key) < 0) && (key.indexOf('$$') !== 0)) {\n                  if (snakeCase(key, '-')!='ng-repeat') {\n                    //directiveElem.attr(snakeCase(key, '-'), value);\n                  }\n                }\n            });\n            return directiveElem;\n        }\n\n        this.recompileInnerElement = function (scope, element, suffix, attrs) {\n            this.destroyInnerElement(scope, element);\n            currentInnerElement = createElement(suffix);\n            if (attrs.elementName == 'mgz-element-menu_item') {\n                element.replaceWith(currentInnerElement);\n            } else {\n                element.append(currentInnerElement);\n            }\n            $compile(currentInnerElement)(scope);\n        };\n\n        this.destroyInnerElement = function (scope, element) {\n            destroyInnerScope(scope);\n            //element.html(null);\n        };\n\n        function destroyInnerScope(scope) {\n            if (currentInnerElement) {\n                var innerScope = currentInnerElement.isolateScope() || currentInnerElement.scope();\n\n                if (innerScope && (innerScope !== scope)) {\n                  //innerScope.$destroy();\n                }\n            }\n        }\n\n        this.register = function () {\n            dynamicDirectiveManager.add(normalizedName, controller);\n        };\n\n        this.unregister = function () {\n            dynamicDirectiveManager.remove(normalizedName, controller);\n        };\n    }\n\n    function DummyDynamicDirectiveContext() {\n\n        this.register = function () {\n        };\n\n        this.unregister = function () {\n        };\n\n        this.recompileInnerElement = function () {\n        };\n\n        this.destroyInnerElement = function () {\n        };\n    }\n\n    /**\n     * @constructor\n     * @param $compileProvider\n     * @param {DynamicDirectiveSuffixGenerator} dynamicDirectiveSuffixGenerator\n     */\n    function DynamicDirectiveManager($compileProvider, dynamicDirectiveSuffixGenerator) {\n        if (!$compileProvider) {\n            throw new Error('Compile provider must not be null.');\n        }\n\n        var defaultSuffixGenerator = dynamicDirectiveSuffixGenerator;\n        var dynDirectives = {};\n        var registeredDirectives = {};\n        var regex = /^[a-z0-9]+$/;\n\n        /**\n         * Adds a dynamic directive controller instance to the manager.\n         * @param {string} normalizedElementName Pascal-cased name of the directive.\n         * @param {*} dynamicDirectiveController A dynamic directive controller.\n         */\n        this.add = function (normalizedElementName, dynamicDirectiveController) {\n            if (!normalizedElementName) {\n                throw new Error('Name must not be empty.');\n            }\n\n            if (!dynamicDirectiveController) {\n                throw new Error('Dynamic directive controller must not be null.');\n            }\n\n            var directives = dynDirectives[normalizedElementName];\n\n            if (!directives) {\n                directives = [];\n                dynDirectives[normalizedElementName] = directives;\n\n            } else if (directives.indexOf(dynamicDirectiveController) >= 0) {\n                return;\n            }\n\n            directives.push(dynamicDirectiveController);\n\n            var suffixes = registeredDirectives[normalizedElementName];\n            if (suffixes) {\n                dynamicDirectiveController.recompile(suffixes._last);\n            }\n        };\n\n        /**\n         * Removes a dynamic directive controller from the manager.\n         * @param {string} normalizedElementName Pascal-cased name of the directive.\n         * @param {*} dynamicDirectiveController A dynamic directive controller.\n         */\n        this.remove = function (normalizedElementName, dynamicDirectiveController) {\n            if (!normalizedElementName) {\n                throw new Error('Name must not be empty.');\n            }\n\n            if (!dynamicDirectiveController) {\n                throw new Error('Dynamic directive controller must not be null.');\n            }\n\n            var directives = dynDirectives[normalizedElementName];\n\n            if (directives) {\n                var index = directives.indexOf(dynamicDirectiveController);\n\n                if (index >= 0) {\n                    directives.splice(index, 1);\n                }\n            }\n\n        };\n\n        /**\n         * Registers a new directive.\n         * @param {string} normalizedName Pascal-cased directive name.\n         * @param {function} constructor Directive constructor\n         * @param {*} [suffix] If suffix equals false than no suffix is appended; if suffix is undefined than a random suffix is generated; otherwise the suffix is converted to string.\n         */\n        this.registerDirective = function (normalizedName, constructor, suffix) {\n            var nameWithSuffix = normalizedName;\n            suffix = prepareSuffix(normalizedName, suffix);\n\n            if (!angular.isUndefined(suffix)) {\n                nameWithSuffix = nameWithSuffix + suffix;\n            }\n\n            var registerDirective = true;\n            var suffixes = registeredDirectives[normalizedName];\n\n            if (!suffixes) {\n                suffixes = {};\n                registeredDirectives[normalizedName] = suffixes;\n            }\n\n            if (suffixes[suffix]) {\n                registerDirective = false;\n            } else {\n                suffixes[suffix] = true;\n            }\n\n            suffixes._last = suffix;\n\n            if (!$compileProvider) {\n                dynamicDirective.directive(nameWithSuffix, constructor);\n            } else {\n                if (registerDirective) {\n                    $compileProvider.directive.apply(null, [nameWithSuffix, constructor]);\n                }\n\n                recompile(normalizedName, suffix);\n            }\n        };\n\n        /**\n         * Changes the suffix generator.\n         * @param {{generateSuffix:Function}} suffixGenerator\n         */\n        this.changeSuffixGenerator = function (suffixGenerator) {\n            if (angular.isUndefined(suffixGenerator) || (suffixGenerator === null)) {\n                dynamicDirectiveSuffixGenerator = defaultSuffixGenerator;\n                return;\n            }\n\n            if (!angular.isFunction(suffixGenerator.generateSuffix)) {\n                throw new Error('Suffix generator must have a function \"generateSuffix\".');\n            }\n\n            dynamicDirectiveSuffixGenerator = suffixGenerator;\n        };\n\n        /**\n         * Changes the suffix of all dynamic directives.\n         * @param {*} [suffix] If suffix equals false than no suffix is appended; if suffix is undefined than a random suffix is generated; otherwise the suffix is converted to string.\n         */\n        this.changeSuffix = function (suffix) {\n\n            _.each(dynDirectives, function (directives, normalizedName) {\n\n                var preparedSuffix = prepareSuffix(normalizedName, suffix);\n                var suffixes = registeredDirectives[normalizedName];\n\n                if (suffixes) {\n                    suffixes._last = preparedSuffix;\n                }\n\n                angular.forEach(directives, function (dynamicDirective) {\n                    dynamicDirective.recompile(preparedSuffix);\n                });\n            });\n        };\n\n        function prepareSuffix(normalizedName, suffix) {\n            if (suffix === false) {\n                return undefined;\n            }\n\n            if (angular.isUndefined(suffix)) {\n                suffix = dynamicDirectiveSuffixGenerator.generateSuffix(normalizedName);\n            }\n\n            if (!regex.test(suffix)) {\n                throw new Error('Suffix must consist of lowercased characters (a-z) and number (0-9) only.');\n            } else {\n                suffix = suffix + '';\n                suffix = suffix.substr(0, 1).toUpperCase() + suffix.substr(1);\n            }\n\n            return suffix;\n        }\n\n        function recompile(normalizedElementName, suffix) {\n            var directives = dynDirectives[normalizedElementName];\n\n            if (directives) {\n                angular.forEach(directives, function (dynamicDirective) {\n                    dynamicDirective.recompile(suffix);\n                });\n            }\n        }\n    }\n\n    /**\n     * @constructor\n     */\n    function DynamicDirectiveManagerProvider() {\n        var $compileProvider;\n\n        this.setCompileProvider = function (compileProvider) {\n            if (!compileProvider) {\n                throw new Error('Compile provider must not be null.');\n            }\n\n            $compileProvider = compileProvider;\n        };\n\n        this.$get = function ($injector) {\n            return $injector.instantiate(DynamicDirectiveManager, { $compileProvider: $compileProvider });\n        };\n    }\n\n    /**\n     * @constructor\n     */\n    function DynamicDirectiveSuffixGenerator() {\n\n        /**\n         * @param {string} normalizedName\n         * @returns {string}\n         */\n        this.generateSuffix = function (normalizedName) {\n            return new Date().getTime() + '';\n        };\n\n    }\n\n    dynamicDirective.provider('dynamicDirectiveManager', DynamicDirectiveManagerProvider);\n    dynamicDirective.service('dynamicDirectiveSuffixGenerator', DynamicDirectiveSuffixGenerator);\n    dynamicDirective.directive('dynamicDirective', Directive);\n\n    /* grab the $compileProvider */\n    dynamicDirective\n        .config(function ($compileProvider, dynamicDirectiveManagerProvider) {\n            dynamicDirectiveManagerProvider.setCompileProvider($compileProvider);\n        })\n        .run(function (dynamicDirectiveManager) {\n            dynamicDirective.dynamicDirectiveManager = dynamicDirectiveManager;\n        });\n\n})(angular.module('dynamicDirective', []));\n","Magezon_Builder/js/modules/contentEditable.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar directive = function($document, $rootScope, $timeout) {\n\t\treturn {\n\t\t\trequire: \"ngModel\",\n\t\t\tlink: function(scope, element, attrs, ngModel) {\n\t\t\t\telement.addClass('mgz-contenteditable-element');\n\t\t\t\telement.attr('contenteditable', true);\n\n\t\t\t\tvar type = attrs.type ? attrs.type : 'inline';\n\n\t\t\t\tfunction read() {\n\t\t\t\t\tngModel.$setViewValue(element.html());\n\t\t\t\t}\n\n\t\t\t\tfunction updatePlaceHolder() {\n\t\t\t\t\tif (element.data('placeholder') && !ngModel.$viewValue) {\n\t\t\t\t\t\telement.addClass('placeholder-text');\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.removeClass('placeholder-text');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tngModel.$render = function() {\n\t\t\t\t\telement.html(ngModel.$viewValue || \"\");\n\t\t\t\t};\n\n\t\t\t\tscope.enableEditing = function() {\n\t\t\t\t\tif(scope.element) {\n\t\t\t\t\t\t$rootScope.$broadcast('disableEditing', scope.element);\n\t\t\t\t\t\t$timeout(function () {\n\t\t\t\t\t\t\tscope.element.builder.editing = true;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\telement.bind(\"click\", function(e) {\n\t\t\t\t\tvar draggableParent = element.closest('.ui-draggable');\n\t\t\t\t\tif (draggableParent.length) {\n\t\t\t\t\t\tdraggableParent.draggable({ disabled: true });\n\t\t\t\t\t}\n\t\t\t\t\tscope.enableEditing();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t});\n\n\t\t\t\telement.bind(\"focus\", function(e) {\n\t\t\t\t\telement.trigger('click');\n\t\t\t\t\telement.trigger('mouseenter');\n\t\t\t\t});\n\n\t\t\t\telement.bind(\"blur\", function(e) {\n\t\t\t\t\tvar draggableParent = element.closest('.ui-draggable');\n\t\t\t\t\tif (draggableParent.length) {\n\t\t\t\t\t\tdraggableParent.draggable({ disabled: false });\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\telement.bind(\"blur keyup keypress change\", function() {\n\t\t\t\t\tupdatePlaceHolder();\n\t\t\t\t\tscope.$apply(read);\n\t\t\t\t});\n\n\t\t\t\telement.bind(\"keydown keypress\", function (e) {\n\t\t\t\t\tif(e.which === 13 && type == 'inline') {\n\t                    element[0].blur();\n\t                    e.preventDefault();\n\t                }\n\t\t\t\t});\n\n\t\t\t\tscope.$on('disableEditing', function(e, elem) {\n\t\t\t\t\tif (scope.element) {\n\t\t\t\t\t\tif (elem.id !== scope.element.id) {\n\t\t\t\t\t\t\tscope.element.builder.editing = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/modules/outside-click.js":"require(['jquery'], function($) {\n\n// https://github.com/abrkt/ng-outside-click\n(function(){\n  'use strict';\n\n  var contains = function (parent, child) {\n    var node = child;\n    while ((node = node.parentNode) !== null && node !== parent);\n    return node !== null;\n  };\n\n  angular.module('ngOutsideClick', []).directive('outsideClick', ['$document', function ($document) {\n    return {\n      restrict: 'A',\n      link: function ($scope, $element, $attrs) {\n        var scopeExpression = $attrs.outsideClick;\n        var onDocumentClick = function (event) {\n          if ($element[0] !== event.target && !contains($element[0], event.target) && !$(event.target).parents('.mgz-element-controls').length) {\n            $scope.$apply(scopeExpression);\n          }\n        };\n        $document.on('click', onDocumentClick);\n        $element.on('$destroy', function () {\n          $document.off('click', onDocumentClick);\n        });\n      }\n    };\n  }]);\n\n})();\n\n});","Magezon_Builder/js/modules/inlineEditor.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar directive = function($rootScope, magezonBuilderEditor, magezonBuilderService, magezonBuilderFilter, $document, $timeout) {\n\t\treturn {\n\t\t\trequire: \"ngModel\",\n\t\t\tlink: function(scope, element, attrs, ngModel) {\n\t\t\t\telement.addClass('mgz-inline-editor');\n\t\t\t\telement.attr('contenteditable', true);\n\n\t\t\t\tscope.id = magezonBuilderService.uniqueid();\n\t\t\t\tscope.wysiwyg = Object.extend(angular.copy($rootScope.builderConfig.wysiwyg), scope.wysiwyg);\n\t\t\t\tscope.wysiwyg['inline'] = true;\n\t\t\t\tscope.wysiwyg['fixed_toolbar_container'] = '.' + scope.element.id + ' .mgz-element-inner';\n\t\t\t\telement.attr('id', scope.id);\n\n\t\t\t\tngModel.$render = function() {\n\t\t\t\t\telement.html(magezonBuilderFilter.encodeContent(ngModel.$viewValue) || \"\");\n\t\t\t\t};\n\n\t\t\t\telement.bind(\"click\", function(e) {\n\t\t\t\t\t$rootScope.$broadcast('disableEditing', scope.element);\n\t\t\t\t\t$timeout(function () {\n\t\t\t\t\t\tscope.element.builder.editing = true;\n\t\t\t\t\t}, 1000);\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t});\n\n\t\t\t\tif ($rootScope.builderConfig.wysiwyg.tinymce4) {\n\t\t\t\t\telement.on('mouseenter', function() {\n\t\t\t\t\t\tmagezonBuilderEditor.initTinymce(scope.id, scope.wysiwyg, function(value) {\n\t\t\t\t\t\t\tngModel.$setViewValue(magezonBuilderFilter.decodeContent(value));\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\telement.bind(\"blur\", function(e) {\n\t\t\t\t\tif (scope.element) {\n\t\t\t\t\t\t$timeout(function () {\n\t\t\t\t\t\t\tscope.element.builder.editing = false;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tscope.$on('disableEditing', function(e, elem) {\n\t\t\t\t\tif (scope.element) {\n\t\t\t\t\t\tif (elem.id !== scope.element.id) {\n\t\t\t\t\t\t\tscope.element.builder.editing = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/modules/afterRender.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar directive = function($timeout) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\trestrict: 'A',\n\t        terminal: true,\n\t        transclude: false,\n\t        link: function (scope, element, attrs) {\n\t            $timeout(function() {\n\t            \tscope.$eval(attrs.afterRender);\n\t            }, 100);\n\t        }\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/navigator/element/base.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/navigator/element/default.html');\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope, $controller) {\n\t\t\t\tvar parent = $controller('baseController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t\tvar self = this;\n\n\t\t\t\tthis.getWrapperClasses = function() {\n\t\t\t\t\tvar element = $scope.element;\n\t\t\t\t\tvar classes = [];\n\t\t\t\t\tclasses.push('mgz-navigator-element');\n\t\t\t\t\tclasses.push('mgz-navigator-element-' + element.id);\n\t\t\t\t\tif (element.disable_element) classes.push('mgz-element-disabled');\n\t\t\t\t\tif (element.builder.actived) classes.push('mgz-element-actived');\n\t\t\t\t\tif (element.hidden_default) classes.push('mgz-element-hide-default');\n\t\t\t\t\tif (element.disable_element) classes.push('mgz-element-disabled');\n\t\t\t\t\treturn classes;\n\t\t\t\t}\n\n\t\t\t\tthis.getStype = function() {\n\t\t\t\t\tvar level = self.getParents().length;\n\t\t\t\t\tvar paddingLeft = ((level + 1) * 1.6) + 'rem';\n\t\t\t\t\tif (!$scope.element.builder.is_collection) {\n\t\t\t\t\t\tpaddingLeft = ((level + 1) * 1.8) + 'rem';\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\t'padding-left': paddingLeft\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$scope.toggleElementList = function() {\n\t\t\t\t\t$scope.element.builder.navigator.listVisible = !$scope.element.builder.navigator.listVisible;\n\t\t\t\t}\n\n\t\t\t\t$scope.$on('addNewElment', function(event, item) {\n\t\t\t\t\tif ((item.action == 'before' || item.action == 'after' || item.action == 'replace')) {\n\t\t\t\t\t\tif ($scope.isChildren(item.elem)) {\n\t\t\t\t\t\t\t$scope.listVisible = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (item.action == 'append' && item.elem.id == $scope.element.id) {\n\t\t\t\t\t\t$scope.listVisible = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar loaded = false;\n\t\t\t\t$scope.$watch('element.builder.name', function(name) {\n\t\t\t\t\tif (loaded) {\n\t\t\t\t\t\t$rootScope.$broadcast('exportShortcode');\n\t\t\t\t\t}\n\t\t\t\t\tloaded = true;\n\t\t\t\t});\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/factories/FormlyUtils.js":"define([\n    'angular',\n    'underscore'\n], function(angular, _) {\n\n\tvar uniqueid = function (size) {\n        var code = Math.random() * 25 + 65 | 0,\n            idstr = String.fromCharCode(code);\n\n        size = size || 12;\n\n        while (idstr.length < size) {\n            code = Math.floor(Math.random() * 42 + 48);\n\n            if (code < 58 || code > 64) {\n                idstr += String.fromCharCode(code);\n            }\n        }\n\n        return idstr.toLowerCase();\n    };\n\n    var processFields = function(array, separator, level, key) {\n        if (level === undefined) {\n            level = 0;\n        }\n        var types = [];\n        var i = 0,length;\n        var children = [];\n        array  = _.compact(array);\n        length = array.length;\n        for (i; i < length; i++) {\n            var orgiKey = key;\n            var row  = array[i];\n            var elem = row['config'];\n            if (elem['templateOptions']['element']) {\n                if (!elem['data']) elem['data'] = {};\n                elem['data']['element'] = elem['templateOptions']['element'];\n            }\n            if (elem['key']) {\n                if (key) {\n                    key += '.' + elem['key'];\n                } else {\n                    key = elem['key'];\n                }\n                elem['key'] = key;\n            }\n            // Dynamic Rows\n            if (row.config.templateOptions.children) {\n                key = '';\n                row.config.templateOptions.children = this.processFields(row.config.templateOptions.children, separator, level, key);\n            }\n            if (row.hasOwnProperty(separator)) {\n                level++;\n                elem['wrapper']    = this.getUniqueId();\n                elem['fieldGroup'] = this.processFields(row[separator], separator, level, key);\n            } else {\n                elem['type'] = this.getUniqueId();\n                elem['id']   = this.getUniqueId();\n            }\n\n            if (!elem['className']) elem['className'] = '';\n            elem['className'] += ' mgz__field';\n            elem['className'] += ' mgz_field-' + elem.templateOptions.elementId;\n            elem['className'] += ' mgz_field-type-' + elem.templateOptions.builderType;\n\n            if (elem.templateOptions.required) {\n                elem['className'] += ' _required';\n            }\n\n            if (elem.templateOptions.templateUrl) {\n                elem.templateOptions.templateUrl = window.magezonBuilder.viewFileUrl + elem.templateOptions.templateUrl;\n            }\n\n            if (elem.templateOptions.wrapperTemplateUrl) {\n                elem.templateOptions.wrapperTemplateUrl = window.magezonBuilder.viewFileUrl + elem.templateOptions.wrapperTemplateUrl;\n            }\n\n            // overide wrapepr template url\n            if (elem.templateOptions.wrapperTemplateUrl) {\n                var wrapperId = this.getUniqueId();\n                if (!elem['data']) elem['data'] = {};\n                elem['data']['wrapperType'] = wrapperId;\n                elem['wrapper'] = wrapperId;\n            }\n            children.push(elem);\n            key = orgiKey;\n        }\n        return children;\n    }\n\n    var getComponentDefault = function() {\n        return {\n            visible: true,\n            control: true\n        };   \n    }\n\n    var getDefaultValues = function(element) {\n        var defaultValues        = angular.copy(processDefaultValues(element.tabs, {}));\n        defaultValues['type']    = element.type;\n        defaultValues['builder'] = getComponentDefault();\n        return defaultValues;\n    }\n\n    var processDefaultValues = function(fields) {\n        var defaultValues = {};\n        _.each(fields, function(field, k) {\n            if (field.fieldGroup) {\n                var _defaultValues = processDefaultValues(field.fieldGroup);\n                if (_defaultValues) {\n                    if (field.key) {\n                        defaultValues[field.key] = _defaultValues;\n                    } else {\n                        defaultValues = angular.merge(defaultValues, _defaultValues);\n                    }\n                }\n            } else if (field.hasOwnProperty('key') && field.hasOwnProperty('defaultValue')) {\n                defaultValues[field.key] = field['defaultValue'];\n            }\n        });\n        return defaultValues;\n    };\n\n    return {\n        getUniqueId: uniqueid,\n        processFields: processFields\n    }\n});","Magezon_Builder/js/factories/config.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar array_diff = function(arr1) {\n\t\tvar retArr = {}\n\t\tvar argl = arguments.length\n\t\tvar k1 = ''\n\t\tvar i = 1\n\t\tvar k = ''\n\t\tvar arr = {}\n\n\t\t  \tarr1keys: for (k1 in arr1) {\n\t\t  \t\tfor (i = 1; i < argl; i++) {\n\t\t  \t\t\tarr = arguments[i]\n\t\t  \t\t\tfor (k in arr) {\n\t\t  \t\t\t\tif (arr[k] === arr1[k1]) {\n\t\t          \t\t\tcontinue arr1keys;\n\t\t      \t\t\t}\n\t\t  \t\t\t}\n\t\t  \t\t\tretArr[k1] = arr1[k1]\n\t\t\t\t}\n\t\t\t}\n\t\treturn retArr\n\t}\n\n\tvar array_values = function (input) {\n\t\tvar tmpArr = []\n\t\tvar key = ''\n\n\t\tfor (key in input) {\n\t\t\ttmpArr[tmpArr.length] = input[key]\n\t\t}\n\n\t\treturn tmpArr\n\t}\n\n\treturn function(formlyConfigProvider) {\n\t\tvar elements      = {};\n\t\tvar groups        = {};\n\t\tvar $config       = {};\n\t\tvar $directives   = {};\n\n\t\treturn {\n\t\t\tregisterConfig: function(config) {\n\t\t\t\t$config = config;\n\t\t\t},\n\n\t\t\tregisterGroup: function(name, group) {\n\t\t\t\tif (!groups[name]) {\n\t\t\t\t\tgroups[name] = group;\n\t\t\t\t} else {\n\t\t\t\t\tangular.extend(groups[name], group);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tregisterElement: function(name, element) {\n\t\t\t\tif (!element['element']) {\n\t\t\t\t\tif (element['is_collection']) {\n\t\t\t\t\t\telement['element'] = 'Magezon_Builder/js/builder/element/list';\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement['element'] = 'Magezon_Builder/js/builder/element/base';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!element['navigator']) element['navigator'] = 'Magezon_Builder/js/navigator/element/base';\n\t\t\t\tif (element['is_collection']) {\n\t\t\t\t\tif (!element['templateUrl']) {\n\t\t\t\t\t\telement['templateUrl'] = 'Magezon_Builder/js/templates/builder/element/list.html'\n\t\t\t\t\t}\n\t\t\t\t\tif (!element['navigatorTemplateUrl']) {\n\t\t\t\t\t\telement['navigatorTemplateUrl'] = 'Magezon_Builder/js/templates/navigator/element/list.html'\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (element.hasOwnProperty('visible') && element.visible || !element.hasOwnProperty('visible')) {\n\t\t\t\t\tif (!elements[name]) {\n\t\t\t\t\t\telements[name] = element;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tangular.extend(elements[name], element);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tprocessAllowTypes: function() {\n\t\t\t\t$allTypes      = [];\n\t\t\t\tangular.forEach(elements, function(element, index) {\n\t\t\t\t\t$allTypes.push(element.type);\n\t\t\t\t});\n\n\t\t\t\t$childrenTypes = [];\n\t            angular.forEach(elements, function(element, index) {\n\t\t\t\t\t$allowedTypes  = element.allowed_types;\n\t\t\t\t\t$excludedTypes = element.excluded_types;\n\n\t                if (angular.isString($allowedTypes)) {\n\t                    element.allowed_types = $allowedTypes.split(',');\n\t                }\n\n\t                if (!element.allowed_types && $excludedTypes) {\n\t                    if (angular.isString($excludedTypes)) {\n\t                        $excludedTypes = $excludedTypes.split(',');\n\t                    }\n\t                    $allowedTypes = array_diff($allTypes, $excludedTypes);\n\t                    element.allowed_types = array_values($allowedTypes);\n\t                }\n\n\t                if (element.children) {\n\t                    $childrenTypes.push(element.children);\n\t                }\n\t            });\n\n\t            $validTypes = array_diff($allTypes, $childrenTypes);\n\t            angular.forEach(elements, function(element, index) {\n\t                $allowedTypes  = element.allowed_types;\n\t                if ($allowedTypes) {\n\t                    if ($.inArray( element.children, $allowedTypes) === -1) {\n\t\t\t\t\t\t\t$_allowedTypes        = array_diff($allowedTypes, $childrenTypes);\n\t\t\t\t\t\t\telement.allowed_types = array_values($_allowedTypes);\n\t                    }\n\t                } else {\n\t                    element.allowed_types = array_values($validTypes);\n\t                }\n\t            });\n\t\t\t},\n\n\t\t\tregisterDirectives: function(name, directive) {\n\t\t\t\t$directives[name] = directive;\n\t\t\t},\n\n\t\t\t$get: function() {\n\t\t\t\treturn {\n\t\t\t\t\telements: elements,\n\t\t\t\t\tgroups: groups,\n\t\t\t\t\tconfig: $config,\n\t\t\t\t\tdirectives: $directives\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/magento-widget.js":"define([\n\t'jquery'\n], function($) {\n\n\treturn {\n\t\tcontroller: function($rootScope, $scope, magezonBuilderService, magezonBuilderFilter, $sce) {\n\t\t\t$scope.ajax = true;\n\t\t\t$rootScope.$broadcast('disableSaveBtn');\n\t\t\tmagezonBuilderService.post('mgzbuilder/widget/index', {}, false, function(res) {\n\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t$scope.html = $sce.trustAsHtml(res);\n\t\t\t\t\t$rootScope.$broadcast('enableSaveBtn');\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t$scope.$watch('html', function(value) {\n\t\t\t\tif ($scope.model[$scope.options.key] && value) {\n\t\t\t\t\tvar widgetCode   = angular.copy($scope.model[$scope.options.key]);\n\t\t\t\t\tvar optionValues = new Hash({});\n\t\t\t\t\tvar widgetValue;\n\n\t\t\t\t\t// mage/adminhtml/wysiwyg/widget.js - line 287\n\t                widgetCode.gsub(/([a-z0-9\\_]+)\\s*\\=\\s*[\\\"]{1}([^\\\"]+)[\\\"]{1}/i, function (match) {\n\t                    if (match[1] == 'type') { //eslint-disable-line eqeqeq\n\t                        widgetValue = match[2];\n\t                    } else {\n\t                        optionValues.set(match[1], match[2]);\n\t                    }\n\t                });\n\n\t                if (widgetValue) {\n\t                \t$rootScope.$broadcast('disableSaveBtn');\n\t                \tvar params = {\n\t\t\t                'widget_type': widgetValue,\n\t\t\t                values: optionValues\n\t\t\t            };\n\t\t\t            magezonBuilderService.post('mgzbuilder/widget/loadOptions', {\n\t\t\t            \twidget: Object.toJSON(params)\n\t\t\t            }, false, function(res) {\n\t\t\t            \t$rootScope.$broadcast('enableSaveBtn');\n\t\t\t            \tvar widgetCode = widgetValue.gsub(/\\//, '_');\n\t\t\t            \t$('#select_widget_type').val(widgetCode);\n\t\t\t            \tvar optionsContainerId = 'widget_options_' + widgetCode;\n\t\t\t            \tvar optionsContainer   = $('#' + optionsContainerId);\n\t\t\t            \tif (optionsContainer.length) {\n\t\t\t            \t\toptionsContainer.html(res);\n\t\t\t            \t} else {\n\t\t\t            \t\tvar html = '<div id=\"' + optionsContainerId + '\">';\n\t\t\t            \t\thtml += res;\n\t\t\t            \t\thtml += '</div>';\n\t\t\t            \t\t$('#widget_options').append(html);\n\t\t\t            \t}\n\t\t\t            });\n\t                }\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$scope.updateValue = function() {\n\t\t\t\tvar form  = $('#widget_options_form');\n\t\t\t\tvar valid = true;\n\t\t\t\tform.find('.error').each(function(index, el) {\n\t\t\t\t\tif ($(this).is(':visible')) {\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (form.valid() && $scope.ajax) {\n\t\t\t\t\t$scope.ajax = false;\n\t\t\t\t\t$rootScope.$broadcast('disableSaveBtn');\n\t\t\t\t\tmagezonBuilderService.post('mgzbuilder/widget/buildWidget', form.serialize(), false, function(res) {\n\t\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t\t$scope.ajax = true;\n\t\t\t\t\t\t\t$rootScope.$broadcast('enableSaveBtn');\n\t\t\t\t\t\t\t$scope.model[$scope.options.key] = magezonBuilderFilter.decodeContent(res);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$(document).on('click', '.rule-param-apply,.rule-param-remove,.data-grid ._clickable,#select_widget_type,.x-tree-node-el', function() {\n\t\t\t\t$scope.updateValue();\n\t\t\t});\n\n\t\t\t$(document).on('change', \"#widget_options_form *[name^='parameters'],#select_widget_type\", function() {\n\t\t\t\tif ($(this).parents('.mgz-modal-form').length) {\n\t               $scope.updateValue();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/dynamic-rows.js":"define([\n\t'angular'\n], function(angular) {\n\n\treturn {\n\t\tcontroller: function($scope) {\n\t\t\t$scope.formOptions = {formState: $scope.formState};\n\t\t\t$scope.addNew = addNew;\n\n\t\t\tvar unique = 1;\n\n\t\t\tangular.forEach($scope.model[$scope.options.key], function(_item, index) {\n\t\t\t\t_item['position'] = index + 1;\n\t\t\t});\n\n\t\t\t$scope.copyFields = copyFields;\n\n\t\t\t$scope.$on('removeDynamicItem', function(event, item) {\n\t\t\t\tvar index = $scope.model[$scope.options.key].indexOf(item);\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\t$scope.model[$scope.options.key].splice(index, 1);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$scope.$on('radioDefaultDynamicItem', function(event, data) {\n\t\t\t\tvar index = $scope.model[$scope.options.key].indexOf(data.item);\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\tangular.forEach($scope.model[$scope.options.key], function(_item, index) {\n\t\t\t\t\t\tif (_item===data.item) {\n\t\t\t\t\t\t\t_item[data.key] = 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_item[data.key] = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$scope.$on('sortDynamicItems', function(event, data) {\n\t\t\t\t$scope.model[$scope.options.key] = _.sortBy($scope.model[$scope.options.key], data.key);\n\t\t\t});\n\n\t\t\tfunction copyFields(fields) {\n\t\t\t\tfields = angular.copy(fields);\n\t\t\t\taddRandomIds(fields);\n\t\t\t\treturn fields;\n\t\t\t}\n\n\t\t\tfunction addNew() {\n\t\t\t\t$scope.model[$scope.options.key] = $scope.model[$scope.options.key] || [];\n\t\t\t\tvar repeatsection = $scope.model[$scope.options.key];\n\t\t\t\tvar lastSection   = repeatsection[repeatsection.length - 1];\n\t\t\t\tvar newsection    = {};\n\t\t\t\tif (lastSection) {\n\t\t\t\t\tnewsection = angular.copy(lastSection);\n\t\t\t\t}\n\t\t\t\tvar newsection = {};\n\t\t\t\tnewsection['position'] = repeatsection.length + 1;\n\t\t\t\trepeatsection.push(newsection);\n\t\t\t}\n\n\t\t\tfunction addRandomIds(fields) {\n\t\t\t\tunique++;\n\t\t\t\tangular.forEach(fields, function(field, index) {\n\t\t\t\t\tif (field.fieldGroup) {\n\t\t\t\t\t\taddRandomIds(field.fieldGroup);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (field.children) {\n\t\t\t\t\t\taddRandomIds(field.children);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (field.templateOptions && field.templateOptions.children) {\n\t\t\t\t\t\taddRandomIds(field.templateOptions.children);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (field.key) {\n\t\t\t\t\t\tfield.id = field.key.replace(/\\./g,'_') + '_' + index + '_' + unique + getRandomInt(0, 9999);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction getRandomInt(min, max) {\n\t\t\t\treturn Math.floor(Math.random() * (max - min)) + min;\n\t\t\t}\n\t\t}\n\t}\n})","Magezon_Builder/js/form/element/editor.js":"define([\n    'jquery',\n    'angular'\n], function($, angular) {\n\n    return {\n        controller: function($rootScope, $scope, magezonBuilderService, magezonBuilderEditor, magezonBuilderFilter) {\n            $scope.to.loading = true;\n            var config = Object.extend(angular.copy($rootScope.builderConfig.wysiwyg), $scope.to.wysiwyg);\n            $scope.id = magezonBuilderService.uniqueid();\n            $scope.content = $scope.model[$scope.options.key];\n            magezonBuilderEditor.initTinymce($scope.id, config, function(value) {\n                $scope.content = $scope.model[$scope.options.key] = magezonBuilderFilter.decodeContent(value);\n            }, function() {\n                $scope.to.loading = false;\n            });\n        }\n    }\n})","Magezon_Builder/js/form/element/dependency.js":"define([\n\t'angular',\n\t'jquery'\n], function(angular, $) {\n\n\treturn {\n\t\tcontroller: function($scope, $rootScope, $timeout) {\n\t\t\tvar initializing = true;\n\n\t\t\t$scope.$watch('model.' + $scope.options.key, function(value) {\n\t\t\t\tif (initializing) {\n\t\t\t\t\t$timeout(function() { initializing = false; });\n\t\t\t\t} else {\n\t\t\t\t\tif ($scope.to.values && $scope.to.values.hasOwnProperty(value)) {\n\t\t\t\t\t\tangular.forEach($scope.to.values[value], function(value, key) {\n\t\t\t\t\t\t\t$scope.model[key] = value;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif ($scope.to.groupsConfig) {\n\t\t\t\t$scope.$watch('model.' + $scope.options.key, function(value) {\n\t\t\t\t\t$rootScope.$broadcast('showField', {\n\t\t\t\t\t\tvalue: $scope.model[$scope.options.key],\n\t\t\t\t\t\tgroupsConfig: $scope.to.groupsConfig\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif ($scope.to.target) {\n\t\t\t\tangular.forEach($scope.to.target, function(value, index) {\n\t\t\t\t\t$scope.$watch('model.' + value, function(value) {\n\t\t\t\t\t\t$rootScope.$broadcast('showField', {\n\t\t\t\t\t\t\tvalue: $scope.model[$scope.options.key],\n\t\t\t\t\t\t\tgroupsConfig: $scope.to.groupsConfig\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\t$scope.$watchCollection('model.' + value, function(value) {\n\t\t\t\t\t\t$rootScope.$broadcast('showField', {\n\t\t\t\t\t\t\tvalue: $scope.model[$scope.options.key],\n\t\t\t\t\t\t\tgroupsConfig: $scope.to.groupsConfig\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/condition.js":"define([\n\t'jquery'\n], function($) {\n\n\t$(document).on('click', '.rule-param-remove', function() {\n\t\t$('.rule-tree').trigger('change');\n\t});\n\n\treturn {\n\t\tcontroller: function($rootScope, $scope, $sce, magezonBuilderService) {\n\t\t\t$scope.to.loading = true;\n\t\t\t$scope.id         = magezonBuilderService.uniqueid();\n\t\t\t$scope.status     = true;\n\n\t\t\t$scope.loadConditionsValue = function() {\n\t\t\t\tif ($scope.status) {\n\t\t\t\t\t$scope.status = false;\n\t\t\t\t\t$rootScope.$broadcast('disableSaveBtn');\n\t\t\t\t\tmagezonBuilderService.post('mgzbuilder/ajax/conditionsValue', {\n\t\t\t\t\t\tvalues: $('.mgz-modal-form form').serialize(),\n\t\t\t\t\t\tfield: $scope.options.key\n\t\t\t\t\t}, true, function(res) {\n\t\t\t\t\t\tif (res.status) {\n\t\t\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t\t\t$scope.model[$scope.options.key] = res.value;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$rootScope.$broadcast('enableSaveBtn');\n\t\t\t\t\t\t$scope.status = true;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmagezonBuilderService.post('mgzbuilder/ajax/conditions', {\n\t\t\t\tconditions: $scope.model[$scope.options.key],\n\t\t\t\tid: $scope.id\n\t\t\t}, true, function(res) {\n\t\t\t\tif (res.message) {\n\t\t\t\t\talert(res.message);\n\t\t\t\t}\n\t\t\t\tif (res.status) {\n\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t$scope.html       = $sce.trustAsHtml(res.html);\n\t\t\t\t\t\t$scope.to.loading = false;\n\n\t\t\t\t\t\t$('#' + $scope.id).on('click', '.rule-param-remove,.rule-param-apply,.data-grid ._clickable,#select_widget_type', function() {\n\t\t\t\t\t\t\t$scope.loadConditionsValue();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$('#' + $scope.id).on('change', '.element-value-changer,.rule-tree', function() {\n\t\t\t\t\t\t\t$scope.loadConditionsValue();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/select.js":"define([\n\t'angular'\n], function(angular) {\n\n\treturn {\n\t\ttemplateOptions: {\n\t\t\tlabelProp: 'label',\n\t\t\tvalueProp: 'value'\n\t\t},\n\t\tcontroller: function($scope, $timeout, magezonBuilderService) {\n\t\t\t$scope.to.loading = false;\n\t\t\tif ($scope.to.lazyOptions) {\n\t\t\t\t$scope.to.options = eval($scope.to.lazyOptions);\n\t\t\t}\n\t\t\tif ($scope.to.builderConfig) {\n\t\t\t\t$scope.to.loading = true;\n\t\t\t\tmagezonBuilderService.getBuilderConfig($scope.to.builderConfig, function(options) {\n\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\t$scope.to.options = options;\n\t\t\t\t\t\t$scope.to.loading = false;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif ($scope.to.url) {\n\t\t\t\t$scope.to.loading = true;\n\t\t\t\tmagezonBuilderService.post($scope.to.url, {\n\t\t\t\t\tfield: $scope.options.key\n\t\t\t\t}, true, function(res) {\n\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t$scope.to.options = res;\n\t\t\t\t\t\t$scope.to.loading = false;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else if ($scope.to.source) {\n\t\t\t\t$scope.to.loading = true;\n\t\t\t\tmagezonBuilderService.post('mgzbuilder/ajax/itemList', {\n\t\t\t\t\ttype: $scope.to.source,\n\t\t\t\t\tfield: $scope.options.key\n\t\t\t\t}, true, function(res) {\n\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t$scope.to.options = res;\n\t\t\t\t\t\t$scope.to.loading = false;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n})","Magezon_Builder/js/form/element/animation-out.js":"define(function() {\n\n\treturn {\n\t\tcontroller: function($scope, $timeout, magezonBuilderService) {\n\t\t\t$scope.to.loading = true;\n\t\t\tmagezonBuilderService.getBuilderConfig('animationOut', function(options) {\n\t\t\t\t$scope.styles = angular.copy(options);\n\t\t\t\t$timeout(function() {\n\t\t\t\t\t$scope.to.loading = false;\n\t\t\t\t})\n\t\t\t});\n\t\t\t$scope.loadAnimate = function() {\n\t\t\t\t$scope.animateClass = $scope.fc.$viewValue + ' animated';\n\t\t\t\t$timeout(function() {\n\t\t\t\t\t$scope.animateClass = '';\n\t\t\t\t}, 1000);\n\t\t\t};\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/hide_on.js":"define([\n\t'jquery'\n], function($) {\n\n\treturn {\n\t\tcontroller: function($scope) {\n\t\t\t$scope.toggleHide = function(type) {\n\t\t\t\t$scope.model[type + '_hide'] = !$scope.model[type + '_hide'];\n\t\t\t}\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/color.js":"define([\n\t'jquery',\n\t'mgzspectrum',\n    'mgztinycolor',\n    'Magezon_Builder/js/ui/form/element/color-picker-palette'\n], function($, spectrum, tinycolor, palette) {\n\n\treturn {\n\t\tcontroller: function($scope, $timeout) {\n\n\t\t\t$scope.value = $scope.model[$scope.options.key];\n\t\t\tvar element = $('#' + $scope.id);\n\n\t\t\tvar getColor = function(color) {\n\t\t\t\tif (!color) color = $('#' + $scope.id).spectrum('get').toString();\n\t\t\t\treturn $scope.to.hex ? tinycolor(color).toHexString() : tinycolor(color).toString();\n\t\t\t}\n\n\t\t\tvar config = {\n\t\t\t\tcontainerClassName: 'mgz-spectrum',\n                chooseText: 'Apply',\n                cancelText: 'Cancel',\n                maxSelectionSize: 8,\n                clickoutFiresChange: true,\n                allowEmpty: true,\n                localStorageKey: 'magezon.spectrum',\n                palette: palette,\n                showInput: true,\n                showInitial: false,\n                showPalette: true,\n                showAlpha: $scope.to.hex ? false : true,\n                showSelectionPalette: true,\n                preferredFormat: 'hex',\n                color: $scope.value,\n                hide : function(c) {\n            \t\t$timeout(function() {\n                \t\tif ($('#' + $scope.id).spectrum('get')) {\n                \t\t\t$scope.model[$scope.options.key] = $scope.value = getColor();\n                \t\t\t$('#' + $scope.id).spectrum('set', $scope.value);\n                \t\t} else {\n                \t\t\t$scope.model[$scope.options.key] = $scope.value = '';\n                \t\t}\n                \t});\n                }\n            };\n            config = angular.extend(config, $scope.to.colorPickerConfig);\n\n\t\t\t$timeout(function() {\n\t\t\t\t$('#' + $scope.id).spectrum(config);\n\t\t\t\t$('#' + $scope.id + '-input').change(function(event) {\n\t\t\t\t\tvar value = $(this).val();\n\t\t\t\t\tif (value) {\n                        if (tinycolor(value).isValid()) {\n    \t\t\t\t\t\tvalue = getColor(value);\n    \t\t\t\t\t\t$('#' + $scope.id).spectrum('set', value);\n    \t\t\t\t\t\t$scope.model[$scope.options.key] = $scope.value = getColor();\n    \t\t\t\t\t\t$(this).val(value);\n                        }\n\t\t\t\t\t} else {\n                        $scope.model[$scope.options.key] = '';\n                    }\n\t\t\t\t});\n\t\t\t}, 200);\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/image.js":"define([\n\t'angular',\n\t'Magezon_Core/js/mage/browser'\n], function(angular) {\n\n\treturn {\n\t\tcontroller: function($scope, $rootScope) {\n\t\t\t$scope.openFileManager =  function() {\n\t            var fileManagerUrl = $rootScope.builderConfig.fileManagerUrl.replace('UID', $scope.id);\n\t            MgzMediabrowserUtility.openDialog(fileManagerUrl);\n\t        }\n\n\t        $scope.getSrc = function() {\n\t        \tif ($scope.model[$scope.options.key]) {\n\t\t\t\t\treturn $rootScope.builderConfig.mediaUrl + $scope.model[$scope.options.key];\n\t\t\t\t}\n\t        }\n\t\t}\n\t}\n})","Magezon_Builder/js/form/element/date.js":"define([\n\t'jquery',\n\t'mage/calendar'\n], function($) {\n\n\treturn {\n\t\tlink: function(scope, element) {\n\t\t\tsetTimeout(function() {\n\t\t\t\t$('#' + scope.id).calendar({\n\t\t\t\t\tdateFormat: \"mm/dd/yy\"\n\t\t\t\t});\n\t\t\t}, 100);\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/ui-select.js":"define([\n\t'angular',\n\t'jquery'\n], function(angular, $) {\n\n\treturn {\n\t\ttemplateOptions: {\n\t\t\tlabelProp: 'label',\n\t\t\tvalueProp: 'value'\n\t\t},\n\t\tcontroller: function($scope, $timeout, magezonBuilderService) {\n\t\t\t$scope.to.loading = false;\n\n\t\t\tif ($scope.to.builderConfig) {\n\t\t\t\t$scope.to.loading = true;\n\t\t\t\tmagezonBuilderService.getBuilderConfig($scope.to.builderConfig, function(options) {\n\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\t$scope.to.options = options;\n\t\t\t\t\t\t$scope.to.loading = false;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t$scope.refresh = function($select) {\n\t\t\t\tvar search = $select.search ? $select.search : $scope.model[$scope.options.key];\n\t\t\t\tif (search && (search.length >= 2 || !isNaN(search))) {\n\t\t\t\t\tif ($scope.to.url) {\n\t\t\t\t\t\t$scope.to.loading = true;\n\t\t\t\t\t\tmagezonBuilderService.post($scope.to.url, {\n\t\t\t\t\t\t\tfield: $scope.options.key,\n\t\t\t\t\t\t\tq: search\n\t\t\t\t\t\t}, true, function(res) {\n\t\t\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t\t\t$scope.to.options = res;\n\t\t\t\t\t\t\t\t$scope.to.loading = false;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if ($scope.to.source) {\n\t\t\t\t\t\t$scope.to.loading = true;\n\t\t\t\t\t\tmagezonBuilderService.post('mgzbuilder/ajax/itemList', {\n\t\t\t\t\t\t\ttype: $scope.to.source,\n\t\t\t\t\t\t\tfield: $scope.options.key,\n\t\t\t\t\t\t\tq: search\n\t\t\t\t\t\t}, true, function(res) {\n\t\t\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t\t\t$scope.to.options = res;\n\t\t\t\t\t\t\t\t$scope.to.loading = false;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n})","Magezon_Builder/js/form/element/simply.js":"define([\n\t'jquery'\n], function($) {\n\n\treturn {\n\t\texpressionProperties: {\n\t\t\t'templateOptions.disabled': function(viewValue, modelValue, scope) {\n\t\t\t\tif (viewValue) {\n\t\t\t\t\tvar prefix = scope.to.prefix;\n\t\t\t\t\t$('.mgz-design-layout').addClass('mgz-design-simply');\n\t\t\t\t\tscope.model[prefix + 'border_top_left_radius'] = scope.model[prefix + 'border_bottom_right_radius'] = scope.model[prefix + 'border_bottom_left_radius'] = scope.model[prefix + 'border_top_right_radius'];\n\t\t\t\t\tscope.model[prefix + 'margin_right'] = scope.model[prefix + 'margin_bottom'] = scope.model[prefix + 'margin_left'] = scope.model[prefix + 'margin_top'];\n\t\t\t\t\tscope.model[prefix + 'border_right_width'] = scope.model[prefix + 'border_bottom_width'] = scope.model[prefix + 'border_left_width'] = scope.model[prefix + 'border_top_width'];\n\t\t\t\t\tscope.model[prefix + 'padding_right'] = scope.model[prefix + 'padding_bottom'] = scope.model[prefix + 'padding_left'] = scope.model[prefix + 'padding_top'];\n\t\t\t\t} else {\n\t\t\t\t\t$('.mgz-design-layout').removeClass('mgz-design-simply');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n})","Magezon_Builder/js/form/element/icon.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\ttemplateOptions: {\n\t\t\tlabelProp: 'label',\n\t\t\tvalueProp: 'value'\n\t\t},\n\t\tcontroller: function($rootScope, $scope, magezonBuilderService) {\n\t\t\t$scope.font  = $scope.to.defaultFont ? $scope.to.defaultFont : 'awesome';\n\t\t\t$scope.fonts = [];\n\t\t\tangular.forEach($rootScope.builderConfig.fonts, function(font) {\n\t\t\t\t$scope.fonts.push(font);\n\t\t\t});\n\n\t\t\t$scope.onSuccess = function(data) {\n\t\t\t\t$scope.to.loading = false;\n\t\t\t\t$scope.to.options = data;\n\t\t\t};\n\n\t\t\t$scope.to.loading = true;\n\t\t\tmagezonBuilderService.getBuilderConfig('fonts.' + $scope.font, $scope.onSuccess);\n\t\t\t$scope.listVisible = false;\n\n\t\t\t$scope.$watch('model.' + $scope.options.key, function(value) {\n\t\t\t\t$scope.listVisible = false;\n\t\t\t});\n\n\t\t\t$scope.$watch('font', function(value) {\n\t\t\t\t$scope.to.loading = true;\n\t\t\t\tif (value) magezonBuilderService.getBuilderConfig('fonts.' + value, $scope.onSuccess);\n\t\t\t});\n\n\t\t\t$scope.tagHandler = function (tag) {\n\t\t\t    return null;\n\t\t\t}\n\n\t\t\t$scope.outsideClick = function() {\n\t\t\t\t$scope.listVisible = false;\n\t\t\t}\n\n\t\t\t$scope.removeIcon = function() {\n\t\t\t\t$scope.model[$scope.options.key] = '';\n\t\t\t}\n\t\t},\n\t\tlink: function(scope, element, attrs, $select) {\n            element.find('.mgz-selector-button').click(function(event) {\n            \tif (scope.listVisible) {\n            \t\tsetTimeout(function () {\n            \t\t\t$(element).find('.ui-select-toggle').first().trigger('click');\n            \t\t}, 300);\n            \t}\n            });        \n        }\n\t}\n});","Magezon_Builder/js/form/element/tab.js":"define([\n\t'angular',\n    'jquery'\n], function(angular, $) {\n\n    return {\n        controller: function($scope) {\n\n\t\t\t$scope.tabs   = $scope.to.children;\n\t\t\t$scope.length = $scope.tabs.length;\n\n\t\t\t// Copy from forly.js\n        \tfunction formlyEval(scope, expression, $modelValue, $viewValue, extraLocals) {\n        \t\tif (angular.isFunction(expression)) {\n        \t\t\treturn expression($viewValue, $modelValue, scope, extraLocals);\n        \t\t} else {\n        \t\t\treturn scope.$eval(expression, angular.extend({ $viewValue: $viewValue, $modelValue: $modelValue }, extraLocals));\n        \t\t}\n        \t}\n\n        \t// Copy from forly.js\n        \tfunction getFormlyFieldLikeLocals(field, index) {\n        \t\treturn {\n        \t\t\tmodel: field.model,\n        \t\t\toptions: field,\n        \t\t\tindex: index,\n        \t\t\tformState: $scope.options.formState,\n        \t\t\toriginalModel: $scope.model,\n        \t\t\tformOptions: $scope.options,\n        \t\t\tformId: $scope.formId\n        \t\t};\n        \t}\n\n        \t// Copy from forly.js\n        \tfunction evalCloseToFormlyExpression(expression, val, field, index) {\n        \t\tvar extraLocals = arguments.length <= 4 || arguments[4] === undefined ? {} : arguments[4];\n        \t\textraLocals = angular.extend(getFormlyFieldLikeLocals(field, index), extraLocals);\n        \t\treturn formlyEval($scope, expression, val, val, extraLocals);\n        \t}\n\n\t\t\t$scope.$watch('model', function() {\n\t\t\t\tvar length = $scope.tabs.length;\n\t\t\t\tangular.forEach($scope.tabs, function (field, index) {\n\t\t\t\t\t// Copy from forly.js\n\t\t\t\t\tvar model = field.model || $scope.model;\n\t\t\t\t\tvar promise = field.runExpressions && field.runExpressions();\n\t\t\t\t\tif (field.hideExpression) {\n\t\t\t\t\t\tvar val = model[field.key];\n\t\t\t\t\t\tfield.hide = evalCloseToFormlyExpression(field.hideExpression, val, field, index, { model: model });\n\t\t\t\t\t\tif (field.hide) {\n\t\t\t\t\t\t\tlength--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$scope.length = length;\n\t\t\t}, true);\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/templates.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\ttemplateOptions: {\n\t\t\tlabelProp: 'label',\n\t\t\tvalueProp: 'value'\n\t\t},\n\t\tcontroller: function($rootScope, $scope, magezonBuilderService, elementManager, magezonBuilderModal, profileManager) {\n\t\t\t$scope.loadTemplates = function() {\n\t\t\t\t$rootScope.$broadcast('enableModalSpinner');\n\t\t\t\t$scope.to.loading = true;\n\t\t\t\tif ($scope.to.url) {\n\t\t\t\t\t$scope.to.loading = true;\n\t\t\t\t\tmagezonBuilderService.post($scope.to.url, {\n\t\t\t\t\t\tfield: $scope.options.key,\n\t\t\t\t\t\turl: $rootScope.builderConfig.profile.templateUrl\n\t\t\t\t\t}, true, function(res) {\n\t\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t\tangular.forEach(res, function(item, key) {\n\t\t\t\t\t\t\t\tif (item.profile) {\n\t\t\t\t\t\t\t\t\tvar profile = profileManager.prepareProfile(item.profile, true);\n\t\t\t\t\t\t\t\t\titem.elements = profile.elements;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (item.label) item.name = item.label;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t$scope.to.options = res;\n\t\t\t\t\t\t\t$scope.to.loading = false;\n\t\t\t\t\t\t\t$rootScope.$broadcast('disableModalSpinner');\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t} else if ($scope.to.source) {\n\t\t\t\t\t$scope.to.loading = true;\n\t\t\t\t\tmagezonBuilderService.post('mgzbuilder/ajax/itemList', {\n\t\t\t\t\t\ttype: $scope.to.source,\n\t\t\t\t\t\turl: $rootScope.builderConfig.profile.templateUrl\n\t\t\t\t\t}, true, function(res) {\n\t\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t\tangular.forEach(res, function(item, key) {\n\t\t\t\t\t\t\t\tif (item.profile) {\n\t\t\t\t\t\t\t\t\tvar profile = profileManager.prepareProfile(item.profile, true);\n\t\t\t\t\t\t\t\t\titem.elements = profile.elements;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (item.label) item.name = item.label;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t$scope.to.options = res;\n\t\t\t\t\t\t\t$scope.to.loading = false;\n\t\t\t\t\t\t\t$rootScope.$broadcast('disableModalSpinner');\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\t$scope.loadTemplates();\n\n\t\t\t$scope.$on('loadTemplates', function() {\n\t\t\t\t$scope.loadTemplates();\n\t\t\t});\n\n\t\t\t$scope.openElements = function(item) {\n\t\t\t\titem['active'] = !item['active'];\n\t\t\t}\n\n\t\t    $scope.importItem = function(item) {\n\t\t    \tif (item.file || item.elements.length) {\n\t\t\t    \tvar elements;\n\t\t\t    \tif (item.elements && item.elements.length) {\n\t\t\t    \t\telements = angular.copy(elementManager.prepareElements(item.elements, true));\n\t\t\t\t\t\tangular.forEach(elements, function(elem, index) {\n\t\t\t\t\t\t\t$rootScope.profile.elements.push(angular.copy(elem));\n\t\t\t\t\t\t});\n\t\t\t\t\t\tmagezonBuilderModal.closeModal();\n\t\t\t\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\t\t\t\ttype: 'imported_template',\n\t\t\t\t\t\t\ttitle: item.name\n\t\t\t\t\t\t});\n\t\t\t\t\t\titem.importing = false;\n\t\t\t    \t}\n\t\t\t    \tif (item.file) {\n\t\t\t    \t\titem.importing = true;\n\t\t\t    \t\tmagezonBuilderService.post('mgzbuilder/ajax/template', {\n\t\t\t\t\t\t\titem: item\n\t\t\t\t\t\t}, true, function(res) {\n\t\t\t\t\t\t\telements = elementManager.prepareElements(res.elements, true);\n\t\t\t\t\t\t\tangular.forEach(elements, function(elem, index) {\n\t\t\t\t\t\t\t\t$rootScope.profile.elements.push(angular.copy(elem));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tmagezonBuilderModal.closeModal();\n\t\t\t\t\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\t\t\t\t\ttype: 'imported_template',\n\t\t\t\t\t\t\t\ttitle: item.name\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t\t\titem.importing = false;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t    \t}\n\t\t\t\t}\n\t\t    }\n\t\t}\n\t}\n})","Magezon_Builder/js/form/element/multicheckbox.js":"define([\n\t'underscore'\n\t], function(_) {\n\n\t\treturn {\n\t\t\ttemplateOptions: {\n\t\t\t\tlabelProp: 'label',\n\t\t\t\tvalueProp: 'value'\n\t\t\t},\n\t\t\tcontroller: function($scope) {\n\t\t\t\tconst to = $scope.to;\n\t\t\t\tconst opts = $scope.options;\n\t\t\t\t$scope.multiCheckbox = {\n\t\t\t\t\tchecked: [],\n\t\t\t\t\tchange: setModel\n\t\t\t\t};\n\n        // initialize the checkboxes check property\n        $scope.$watch('model', function modelWatcher(newModelValue) {\n        \tvar modelValue, valueProp;\n\n        \tif (Object.keys(newModelValue).length) {\n        \t\tmodelValue = newModelValue[opts.key];\n\n        \t\t$scope.$watch('to.options', function optionsWatcher(newOptionsValues) {\n        \t\t\tif (newOptionsValues && Array.isArray(newOptionsValues) && Array.isArray(modelValue)) {\n        \t\t\t\tvalueProp = to.valueProp || 'value';\n        \t\t\t\tfor (var index = 0; index < newOptionsValues.length; index++) {\n        \t\t\t\t\t$scope.multiCheckbox.checked[index] = modelValue.indexOf(newOptionsValues[index][valueProp]) !== -1;\n        \t\t\t\t}\n        \t\t\t}\n        \t\t});\n        \t}\n        }, true);\n\n        function checkValidity(expressionValue) {\n        \tvar valid;\n\n        \tif ($scope.to.required) {\n        \t\tvalid = angular.isArray($scope.model[opts.key]) &&\n        \t\t$scope.model[opts.key].length > 0 &&\n        \t\texpressionValue;\n\n        \t\t$scope.fc.$setValidity('required', valid);\n        \t}\n        }\n\n        function setModel() {\n        \t$scope.model[opts.key] = [];\n        \tangular.forEach($scope.multiCheckbox.checked, (checkbox, index) => {\n        \t\tif (checkbox) {\n        \t\t\t$scope.model[opts.key].push(to.options[index][to.valueProp || 'value']);\n        \t\t}\n        \t});\n\n          // Must make sure we mark as touched because only the last checkbox due to a bug in angular.\n          $scope.fc.$setTouched();\n          checkValidity(true);\n          \n          if ($scope.to.onChange) {\n          \t$scope.to.onChange();\n          }\n      }\n\n      if (opts.expressionProperties && opts.expressionProperties['templateOptions.required']) {\n      \t$scope.$watch(function() {\n      \t\treturn $scope.to.required;\n      \t}, function(newValue) {\n      \t\tcheckValidity(newValue);\n      \t});\n      }\n\n      if ($scope.to.required) {\n      \tvar unwatchFormControl = $scope.$watch('fc', function(newValue) {\n      \t\tif (!newValue) {\n      \t\t\treturn;\n      \t\t}\n      \t\tcheckValidity(true);\n      \t\tunwatchFormControl();\n      \t});\n      }\n  }\n}\n})","Magezon_Builder/js/form/element/save-templates.js":"define([\n\t'jquery'\n], function($) {\n\n\treturn {\n\t\tcontroller: function($rootScope, $scope, $timeout, magezonBuilderUrl, profileManager) {\n\t\t\t$scope.text     = 'Save Template';\n\t\t\t$scope.disabled = false;\n\n\t\t\t$scope.saveTemplate = function() {\n\t\t\t\tif ($scope.to.saveTemplateUrl) {\n\t\t\t\t\tvar name = $scope.model[$scope.options.key];\n\t\t\t\t\tif (name && !$scope.disabled) {\n\t\t\t\t\t\t$scope.disabled = true;\n\t\t\t\t\t\t$scope.text     = 'Saving';\n\n\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\tprofile: profileManager.getShortCode(),\n\t\t\t\t\t\t\tis_active: 1\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t$.ajax({\n\t\t\t                url: magezonBuilderUrl.getUrl($scope.to.saveTemplateUrl),\n\t\t\t                type:'POST',\n\t\t\t                data: data,\n\t\t\t                success: function(res) {\n\t\t\t\t\t\t\t\tif (res.message) {\n\t\t\t\t\t\t\t\t\talert(res.message);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t\t\t\t$scope.text = 'Saved';\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\t\t\t\t$scope.model[$scope.options.key] = '';\n\t\t\t\t\t\t\t\t\t$scope.text                      = 'Save Template';\n\t\t\t\t\t\t\t\t\t$scope.disabled                  = false;\n\t\t\t\t\t\t\t\t\t$rootScope.$broadcast('loadTemplates');\n\t\t\t\t\t\t\t\t}, 1000);\n\t\t\t                }\n\t\t\t            });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n})","Magezon_Builder/js/form/element/link_entity.js":"define([\n\t'angular',\n\t'underscore',\n], function(angular, _) {\n\n\treturn {\n\t\tcontroller: function($scope, magezonBuilderService, $timeout) {\n\t\t\tvar initializing = true;\n\t\t\t$scope.to.options = [];\n\n\t\t\t$scope.$watch('model.type', function(type) {\n\t\t\t\tif (type !== 'custom') {\n\t\t\t\t\t$scope.to.label = magezonBuilderService.capitalize(type);\n\t\t\t\t}\n\t\t\t\tif (initializing) {\n\t\t\t\t\t$timeout(function() { initializing = false; });\n\t\t\t\t} else {\n\t\t\t\t\t$scope.model.id = '';\n\t\t\t\t\t$scope.to.options = [];\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$scope.$watch('model.id', function(id) {\n\t\t\t\tif (id) {\n\t\t\t\t\tvar item = _.findWhere($scope.to.options, {value: id});\n\t\t\t\t\tif (!$scope.model.title) $scope.model.title = item.label;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$scope.refresh = function($select) {\n\t\t\t\tvar type = $scope.model.type;\n\t\t\t\tvar search = $select.search ? $select.search : $scope.model[$scope.options.key];\n\t\t\t\tif (search && ($select.search.length >= 2 || $scope.model[$scope.options.key])) {\n\t\t\t\t\t$scope.to.loading = true;\n\t\t\t\t\tmagezonBuilderService.post('mgzbuilder/ajax/itemList', {\n\t\t\t\t\t\ttype: $scope.model.type,\n\t\t\t\t\t\tq: search\n\t\t\t\t\t}, true, function(res) {\n\t\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t\t$scope.to.options = res;\n\t\t\t\t\t\t\t$scope.to.loading = false;\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n})","Magezon_Builder/js/form/element/link.js":"define([\n\t'jquery',\n\t'underscore',\n    'uiRegistry'\n], function($, _, registry) {\n\n\treturn {\n\t\tcontroller: function($scope, magezonBuilderModal, magezonBuilderService, magezonBuilderFilter) {\n\t\t\t$scope.type = 'Custom';\n\n            $scope.getLinkParams = function(link) {\n\t\t\t\tvar params = {\n\t\t\t\t\ttype: 'custom',\n\t\t\t\t\turl: '',\n\t\t\t\t\tid: 0,\n\t\t\t\t\ttitle: '',\n\t\t\t\t\textra: '',\n\t\t\t\t\tnofollow: 0,\n\t\t\t\t\tblank: 0\n\t\t    \t};\n\t\t    \tif (link) {\n\t\t\t\t\tif (link.indexOf('{{mgzlink') === -1) {\n\t\t\t\t\t\tparams['url']  = link;\n\t\t\t\t\t\tparams['type'] = 'custom';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlink.gsub(/\\{\\{mgzlink(.*?)\\}\\}/i, function (match) {\n\t\t\t\t\t\t\tparams = magezonBuilderFilter.parseAttributesString(match[1]);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (params['url']) params['url'] = magezonBuilderService.removeslashes(params['url']);\n\t\t\t\treturn params;\n            }\n\n\t\t\t$scope.selectUrl = function() {\n\t\t\t\tmagezonBuilderModal.open('link', {\n\t\t\t\t\tbackdrop: true,\n\t\t\t\t\tresolve: {\n\t\t\t\t\t\tform: {\n\t\t\t\t\t\t\tmodel: $scope.getLinkParams($scope.model[$scope.options.key])\t\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, function(model) {\n\t\t\t\t\tvar link = '{{mgzlink';\n\t\t\t\t\tangular.forEach(model, function (value, key) {\n\t\t\t\t\t\tif (angular.isString(value)) {\n\t\t\t\t\t\t\tlink += ' ' + key + '=\"' + magezonBuilderService.addslashes(value) + '\"';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlink += ' ' + key + '=' + value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tlink += '}}';\n\t\t\t\t\t$scope.model[$scope.options.key] = link;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t$scope.$watch('model.' + $scope.options.key, function(link) {\n\t\t\t\tvar params = $scope.getLinkParams(link);\n\t\t\t\tvar type = params.type;\n\t\t\t\tif (type == 'custom') {\n\t\t\t\t\t$scope.type = 'Custom Url';\n\t\t\t\t\t$scope.linkName = params.url;\n\t\t\t\t} else {\n\t\t\t\t\t$scope.to.loading = true;\n\t\t\t\t\tmagezonBuilderService.post('mgzbuilder/ajax/itemInfo', {\n\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\tq: params.id\n\t\t\t\t\t}, true, function(res) {\n\t\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t\t$scope.title      = params.title;\n\t\t\t\t\t\t\t$scope.type       = magezonBuilderService.capitalize(type);\n\t\t\t\t\t\t\t$scope.linkName   = res.label;\n\t\t\t\t\t\t\t$scope.to.loading = false;\n\t\t\t\t\t\t})\n\t\t\t\t\t});\t\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/animation-in.js":"define(['angular'], function(angular) {\n\n\treturn {\n\t\tcontroller: function($scope, magezonBuilderService, $timeout) {\n\t\t\t$scope.to.loading = true;\n\t\t\tmagezonBuilderService.getBuilderConfig('animationIn', function(options) {\n\t\t\t\t$scope.styles = angular.copy(options);\n\t\t\t\t$timeout(function() {\n\t\t\t\t\t$scope.to.loading = false;\n\t\t\t\t})\n\t\t\t});\n\n\t\t\t$scope.loadAnimate = function() {\n\t\t\t\t$scope.animateClass = $scope.fc.$viewValue + ' animated';\n\t\t\t\t$timeout(function() {\n\t\t\t\t\t$scope.animateClass = '';\n\t\t\t\t}, 1000);\n\t\t\t};\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/code.js":"define([\n\t'jquery'\n], function($) {\n\n\treturn {\n\t\tcontroller: function($scope, $timeout) {\n\t\t\t$timeout(function() {\n\t\t\t\t$scope.refreshEditor = true;\n\t\t\t}, 200);\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/dynamic-rows/position.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\tlink: function(scope, element, attrs, ctrl) {\n\t\t\t$(element).find('input').change(function(event) {\n\t\t\t\tscope.$emit('sortDynamicItems', {\n\t\t\t\t\tkey: scope.options.key\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/dynamic-rows/action-delete.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\tlink: function(scope, element, attrs) {\n\t\t\tscope.removeItem = function() {\n\t\t\t\tscope.$emit('removeDynamicItem', scope.model);\n\t\t\t}\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/dynamic-rows/radio.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\tlink: function(scope, element, attrs, ctrl) {\n\t\t\t$(element).find('input').click(function(event) {\n\t\t\t\tscope.$emit('radioDefaultDynamicItem', {\n\t\t\t\t\titem: scope.model,\n\t\t\t\t\tkey: scope.options.key\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n});","Magezon_Builder/js/builder/helper.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/helper.html')\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope) {\n\n\t\t\t\t$scope.addRowElement = function(columns) {\n\t\t\t\t\t$rootScope.$broadcast('addRootRowElement', columns);\n\t\t\t\t\t$rootScope.$broadcast('exportShortcode');\n\t\t\t\t}\n\n\t\t\t\t$scope.openModal = function() {\n\t\t\t\t\t$rootScope.$broadcast('openElementsModal', true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/control/updown.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/control/updown.html')\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope, elementManager) {\n\n\t\t\t\t$scope.upClass   = 'mgz-fa-chevron-up';\n\t\t\t\t$scope.upTitle   = 'Move up';\n\t\t\t\t$scope.downClass = 'mgz-fa-chevron-down';\n\t\t\t\t$scope.downTitle = 'Move down';\n\n\t\t\t\t$scope.isUpVisible = function() {\n\t\t\t\t\tvar el = elementManager.getEl($scope.element);\n\t\t\t\t\tif (!el.prev('.mgz-element').length || !el.prev('.mgz-element').is(':visible')) return false;\n\t\t\t\t\tvar elPosition   = el.position();\n\t\t\t\t\tvar nextPosition = el.prev('.mgz-element').position();\n\t\t\t\t\tif (elPosition.top == nextPosition.top) {\n\t\t\t\t\t\t$scope.upTitle = 'Move left';\n\t\t\t\t\t\t$scope.upClass = 'mgz-fa-chevron-left';\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\t$scope.moveUp = function() {\n\t\t\t\t\t$rootScope.$broadcast('moveUpElement', $scope.element);\n\t\t\t\t}\n\n\t\t\t\t$scope.isDownVisible = function() {\n\t\t\t\t\tvar el = elementManager.getEl($scope.element);\n\t\t\t\t\tif (!el.next('.mgz-element').length || !el.next('.mgz-element').is(':visible')) return false;\n\t\t\t\t\tvar elPosition   = el.position();\n\t\t\t\t\tvar prevPosition = el.next('.mgz-element').position();\n\t\t\t\t\tif (elPosition.top == prevPosition.top) {\n\t\t\t\t\t\t$scope.downTitle = 'Move right';\n\t\t\t\t\t\t$scope.downClass = 'mgz-fa-chevron-right';\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\t\n\t\t\t\t}\n\n\t\t\t\t$scope.moveDown = function() {\n\t\t\t\t\t$rootScope.$broadcast('moveDownElement', $scope.element);\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/element/column.js":"define([\n\t'jquery',\n\t'angular',\n], function($, angular) {\n\n\tvar text = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getViewFileUrl('Magezon_Builder/js/templates/builder/element/list.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\t\t\t\tvar loaded = false;\n\t\t\t\tvar parent = $controller('listController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t\tvar parentElement = $scope.$parent.$parent.element;\n\t\t\t\tthis.getWrapperClasses = function() {\n\t\t\t\t\tvar classes = parent.getWrapperClasses();\n\t\t\t\t\tvar gapType = parentElement.gap_type ? parentElement.gap_type : 'padding';\n\t\t\t\t\tif (gapType == 'margin') {\n\t\t\t\t\t\tclasses.push('mgz-row-gap-margin');\n\t\t\t\t\t}\n\t\t\t\t\treturn classes;\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn text;\n});","Magezon_Builder/js/builder/element/row.js":"define([\n\t'jquery',\n\t'angular',\n], function($, angular) {\n\n\tvar text = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getViewFileUrl('Magezon_Builder/js/templates/builder/element/row.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\t\t\t\tvar loaded = false;\n\t\t\t\tvar parent = $controller('listController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t\tthis.getWrapperClasses = function() {\n\t\t\t\t\tvar classes = parent.getWrapperClasses();\n\t\t\t\t\tif ($scope.element.row_type == 'contained') {\n\t\t\t\t\t\tclasses.push('mgz-container');\n\t\t\t\t\t}\n\t\t\t\t\tif ($scope.element.equal_height) {\n\t\t\t\t\t\tclasses.push('mgz-row-equal-height');\n\t\t\t\t\t\tif ($scope.element.content_position) classes.push('content-' + $scope.element.content_position);\n\t\t\t\t\t}\n\t\t\t\t\tif ($scope.element.full_height) classes.push('mgz-row-full-height');\n\t\t\t\t\treturn classes;\n\t\t\t\t}\n\t\t\t},\n\t\t\tlink: function(scope, element) {\n\t\t\t\tvar height;\n\t\t\t\tscope.$watch('element.full_height', function(fullHeight) {\n\t\t\t\t\tif (fullHeight) {\n\t\t\t\t\t\theight = $(window).height();\n\t\t\t\t\t} else {\n\t\t\t\t\t\theight = '';\n\t\t\t\t\t}\n\t\t\t\t\telement.parent().css('min-height', height);\n\t\t\t\t});\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn text;\n});","Magezon_Builder/js/builder/element/text.js":"define([\n\t'jquery',\n\t'angular',\n], function($, angular) {\n\n\tvar text = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/element/text.html');\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope, $controller) {\n\t\t\t\tvar loaded = false;\n\t\t\t\tvar parent = $controller('baseController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\n\t\t\t\t$scope.onChange = function(value) {\n\t\t\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\t\t\ttype: 'edited',\n\t\t\t\t\t\ttitle: $scope.element.builder.name,\n\t\t\t\t\t\tsubtitle: 'Content'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn text;\n});","Magezon_Builder/js/builder/element/gmaps.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar directive = function($rootScope, magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/element/gmaps.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\t\t\t\tvar parent = $controller('baseController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t},\n\t\t\tlink: function(scope, element) {\n\n\t\t\t\tscope.loadElement = function() {\n\t\t\t\t\tinitGoogleMap();\n\t\t\t\t}\n\n\t\t\t\tfunction getItems()\n\t\t\t\t{ \n\t\t\t\t\tvar $newItems = [];\n\t\t\t\t\t$items        = angular.copy(scope.element.items);\n\t\t\t\t\tif ($items) {\n\t\t\t\t\t\tangular.forEach($items, function($_item) {\n\t\t\t\t\t\t\tvar newItem = $_item;\n\t\t\t\t\t\t\tif (newItem['image']) {\n\t\t\t\t\t\t\t\tnewItem['image'] = magezonBuilderUrl.getImageUrl($_item['image']);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$newItems.push(newItem);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn $newItems;\n\t\t\t\t}\n\n\t\t\t\tfunction getCenterItem() {\n\t\t\t\t\tvar $result = '';\n\t\t\t\t\tangular.forEach(scope.element.items, function($_item) {\n\t\t\t\t\t\tif ($_item['center'] && $_item['lat'] && $_item['lng'] && !$result) {\n\t\t\t\t\t\t\t$result = $_item;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (!$result) {\n\t\t\t\t\t\tangular.forEach(scope.element.items, function($_item) {\n\t\t\t\t\t\t\tif ($_item['lat'] && $_item['lng'] && !$result) {\n\t\t\t\t\t\t\t\t$result = $_item;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn $result;\n\t\t\t\t}\n\n\t\t\t\tfunction initGoogleMap() {\n\t\t\t\t\tvar _element               = scope.element;\n\t\t\t\t\tvar uid                    = _element.id + '-map';\n\t\t\t\t\tvar google_map_zoom        = parseInt(_element.map_zoom);\n\t\t\t\t\tvar google_map_type        = _element.map_type;\n\t\t\t\t\tvar google_map_ui          = _element.map_ui;\n\t\t\t\t\tvar google_map_scrollwheel = _element.map_scrollwheel;\n\t\t\t\t\tvar google_map_draggable   = _element.map_draggable;\n\t\t\t\t\tvar items                  = getItems();\n\t\t\t\t\tvar centerItem             = getCenterItem();\n\t\t\t\t\tvar self      = this;\n\t\t\t\t\trequire([\n\t\t\t\t\t\t'https://maps.google.com/maps/api/js?key=' + $rootScope.builderConfig.googleApi + '&libraries=places'\n\t\t\t\t\t], function() {\n\t\t\t\t\t\tif (!$('#' + uid).length) return;\n\n\t\t\t\t\t\tvar config = {\n\t\t\t\t\t\t\tcenter: {\n\t\t\t\t\t\t\t\tlat: parseFloat(centerItem['lat']),\n\t\t\t\t\t\t\t\tlng: parseFloat(centerItem['lng'])\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tzoom: google_map_zoom,\n\t\t\t\t\t\t\tmapTypeId: google_map_type,\n\t\t\t\t\t\t\tdisableDefaultUI: google_map_ui,\n\t\t\t\t\t\t\tscrollwheel: google_map_scrollwheel,\n\t\t\t\t\t\t\tdraggable: google_map_draggable\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tvar map = new google.maps.Map(document.getElementById(uid), config);\n\n\t\t\t\t\t\tif (items && items.length) {\n\t\t\t\t\t\t\titems.each(function(option) {\n\t\t\t\t\t\t\t\tvar myLatLng = new google.maps.LatLng(option['lat'], option['lng']);\n\t\t\t\t\t\t\t\taddMarker(myLatLng, map, option);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction addMarker(location, map, option) {\n\t\t\t\t\t\t\tvar marker = new google.maps.Marker({\n\t\t\t\t\t\t\t\tposition: location,\n\t\t\t\t\t\t\t\tmap: map,\n\t\t\t\t\t\t\t\ticon: option['image']\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (option['info']) {\n\t\t\t\t\t\t\t\tvar infowindow = new google.maps.InfoWindow({\n\t\t\t\t\t\t\t\t\tcontent: option['info']\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tmarker.addListener('click', function() {\n\t\t\t\t\t\t\t\t\tinfowindow.open(map, marker);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (element.infobox_opened) {\n\t\t\t\t\t\t\t\t\tinfowindow.open(map, marker);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tinitGoogleMap();\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/element/single-image.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/element/single-image.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\t\t\t\tvar parent = $controller('baseController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\n\t\t\t\t$scope.getSrc = function() {\n\t\t\t\t\tvar src = magezonBuilderUrl.getImageUrl($scope.element.image);\n\n\t\t\t\t\tswitch($scope.element.source) {\n\t\t\t\t\t\tcase 'media_library':\n\t\t\t\t\t\t\tif ($scope.element.image)\n\t\t\t\t\t\t\tsrc = magezonBuilderUrl.getImageUrl($scope.element.image);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'external_link':\n\t\t\t\t\t\t\tif ($scope.element.custom_src)\n\t\t\t\t\t\t\tsrc = $scope.element.custom_src;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn src;\n\t\t\t\t}\n\t\t\t},\n\t\t\tlink: function(scope, element) {\n\t\t\t\telement.find('.mgz-single-image-inner').hover(function() {\n\t\t\t\t\tvar hoverImage = magezonBuilderUrl.getImageUrl(scope.element.hover_image);\n\t\t\t\t\tif (hoverImage) {\n\t\t\t\t\t\t$(this).find('img').attr('src', hoverImage);\n\t\t\t\t\t}\n\t\t\t\t}, function() {\n\t\t\t\t\tvar hoverImage = magezonBuilderUrl.getImageUrl(scope.element.hover_image);\n\t\t\t\t\tif (hoverImage && scope.getSrc()) {\n\t\t\t\t\t\t$(this).find('img').attr('src', scope.getSrc());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/element/base.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/element/default.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\t\t\t\tvar parent = $controller('baseController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/element/list.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/element/list.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\t\t\t\tvar parent = $controller('listController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/element/profile.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar directive = function(magezonBuilderService, magezonBuilderUrl) {\n\t\treturn {\n\t\t\tscope: {\n\t\t\t\telement: '='\n\t\t\t},\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/element/profile.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $rootScope, $controller, elementManager) {\n\t\t\t\t//$scope.element = $scope.profile;\n\t\t\t\t$scope.element.builder = elementManager.getBuilderConfig('profile');\n\t\t\t\t//$scope.element.elements = [];\n\t\t\t\tvar self = this;\n\t\t\t\tvar parent = $controller('listController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\n\t\t\t\tvar mainElement = $rootScope.builderConfig.mainElement;\n\n\t\t\t\t$scope.$on('addRootRowElement', function(event, columns) {\n\t\t\t\t\tvar row            = self.addElement(mainElement, null, false);\n\t\t\t\t\tvar builderElement = self.getBuilderElement(mainElement);\n\t\t\t\t\tvar viewMode       = magezonBuilderService.getViewMode();\n\t\t\t\t\tvar types          = columns.split('_');\n\t\t\t\t\tfor (var i = 0; i < types.length - 1; i++) {\n\t\t\t\t\t\tvar _type   = types[i].split('');\n\t\t\t\t\t\tvar element = self.addElement(builderElement.children, row);\n\t\t\t\t\t\tvar width;\n\t\t\t\t\t\tif (_type[1]==5) {\n\t\t\t\t\t\t\twidth = 15\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twidth = 12 * _type[0] / _type[1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telement['xl_size'] = '';\n\t\t\t\t\t\telement['lg_size'] = '';\n\t\t\t\t\t\telement['md_size'] = width;\n\t\t\t\t\t\telement['sm_size'] = '';\n\t\t\t\t\t\telement['xs_size'] = '';\n\t\t\t\t\t}\n\n\t\t\t\t\t// First Column\n\t\t\t\t\trow['elements'][0]['xl_size'] = '';\n\t\t\t\t\trow['elements'][0]['lg_size'] = '';\n\t\t\t\t\trow['elements'][0]['md_size'] = width;\n\t\t\t\t\trow['elements'][0]['sm_size'] = '';\n\t\t\t\t\trow['elements'][0]['xs_size'] = '';\n\n\t\t\t\t\tif (!$('.mgz-fullscreen').length) {\n\t\t\t\t\t\t$rootScope.$broadcast('setViewMode', 'xl');\t\n\t\t\t\t\t}\n\n\t\t\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\t\t\ttype: 'changed',\n\t\t\t\t\t\tsubtitle: 'Row Layout'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/element/countdown.js":"define([\n\t'angular',\n\t'moment',\n\t'Magezon_Builder/js/countdown',\n\t'moment-timezone-with-data'\n], function(angular, moment) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/element/countdown.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\t\t\t\tvar parent = $controller('baseController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t},\n\t\t\tlink: function(scope, element) {\n\t\t\t\tvar loadCountdown = function() {\n\t\t\t\t\tvar _element = scope.element;\n\t\t\t\t\tvar timeStr  = _element.year + '-' + _element.month + '-' + _element.day + ' ' + _element.hours + ':' + _element.minutes;\n\t\t\t\t\tvar time     = moment(timeStr, 'YYYY-MM-DD HH:mm').tz(_element.time_zone);\t\n\t\t\t\t\tif (element.data(\"countdown\")) {\n\t\t\t\t\t\telement.data(\"countdown\").clearInterval();\n\t\t\t\t\t\telement.find('.mgz-element-bar').css({\n\t\t\t\t\t\t\t'stroke-dashoffset': '',\n\t\t\t\t\t\t\t'width': ''\n\t\t\t\t\t\t});\n\t\t\t\t\t\telement.countdown('destroy');\n\t\t\t\t\t}\n\t\t\t\t\tvar time1 = time.isValid() ? time.format() : moment().format();\n\t\t\t\t\telement.countdown({\n\t\t\t\t\t\ttype:_element.layout,\n\t\t\t\t\t\ttime: time1\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tscope.loadElement = function() {\n\t\t\t\t\tloadCountdown();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/element/separator.js":"define([\n\t'jquery',\n\t'angular',\n], function($, angular) {\n\n\tvar heading = function(magezonBuilderUrl, $compile) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/element/separator.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\t\t\t\tvar parent = $controller('baseController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t\tvar self = this;\n\t\t\t},\n\t\t\tlink: function($scope, $element, $attr) {\n\t\t\t\tvar $parent = $element.parent();\n\t\t\t\t$scope.$watch('element.title_tag', function(newVal) {\n\t\t\t\t\tvar template = '<' + newVal + ' class=\"title mgz-inline-edit\">';\n\t\t\t\t\t\tif ($scope.element.add_icon && $scope.element.icon_position == 'left') {\n\t\t\t\t\t\t\ttemplate += '<i class=\"mgz-icon-element ' + $scope.element.icon + '\"></i>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttemplate += '<span content-editable=\"true\" ng-model=\"element.title\">' + $scope.element.title + '</span>';\n\t\t\t\t\t\tif ($scope.element.add_icon && $scope.element.icon_position == 'right') {\n\t\t\t\t\t\t\ttemplate += '<i class=\"mgz-icon-element ' + $scope.element.icon + '\"></i>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttemplate += '</' + newVal + '>';\n\t\t\t\t\t\tvar html = $compile(template)($scope);\n\t\t\t\t\t\t$parent.find('.mgz-inline-edit').replaceWith(html);\n\t\t\t\t});\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn heading;\n});","Magezon_Builder/js/builder/element/heading.js":"define([\n\t'jquery',\n\t'angular',\n], function($, angular) {\n\n\tvar heading = function(magezonBuilderUrl, $compile, $timeout) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/element/heading.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\t\t\t\tvar parent = $controller('baseController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t\tvar self = this;\n\t\t\t},\n\t\t\tlink: function($scope, $element, $attr) {\n\t\t\t\tvar $parent = $element.parent();\n\t\t\t\t$scope.$watch('element.heading_type', function(newVal) {\n\t\t\t\t\tvar template = '<' + newVal + ' class=\"mgz-element-heading-text\" content-editable=\"true\" type=\"multiple\" ng-model=\"element.text\" ng-model-options=\"{ debounce: 300 }\" data-placeholder=\"Edit Heading Text\">' + $scope.element.text + '</' + newVal + '>';\n\t\t\t\t\tvar html = $compile(template)($scope);\n                    $parent.html(html);\n                    if ($scope.loaded) {\n                    \t$parent.children('.mgz-contenteditable-element').trigger('focus');\t\n                    }\n\t\t\t\t});\n\t\t\t\t$timeout(function() {\n\t\t\t\t\t$scope.loaded = true;\n\t\t\t\t}, 500);\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn heading;\n});","Magezon_Builder/js/builder/element/tabs.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl, $timeout) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getViewFileUrl('Magezon_Builder/js/templates/builder/element/tabs.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\n\t\t\t\tvar parent = $controller('listController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t\tvar self = this;\n\n\t\t\t\t$scope.element.builder.dndDisabled = true;\n\n\t\t\t\tangular.forEach($scope.element.elements, function(element, index) {\n\t\t\t\t\tif (index == 0) {\n\t\t\t\t\t\telement.builder.visible = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.builder.visible = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$scope.$on('afterAddElement', function(e, elem) {\n\t\t\t\t\t$scope.activeEventElement(elem);\n\t\t\t\t});\n\n\t\t\t\t$scope.$on('afterCloneElement', function(e, elem) {\n\t\t\t\t\tif ($scope.isChildren(elem)) {\n\t\t\t\t\t\t$scope.activeEventElement(elem);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$scope.$on('afterDropElement', function(e, elem) {\n\t\t\t\t\tif ($scope.isChildren(elem)) {\n\t\t\t\t\t\t$scope.activeEventElement(elem);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$scope.activeEventElement = function(elem) {\n\t\t\t\t\tif ($scope.isChildren(elem)) {\n\t\t\t\t\t\t$scope.activeElement(elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$scope.$on('beforeRemoveElement', function(e, elem) {\n\t\t\t\t\tif ($scope.isChildren(elem)) {\n\t\t\t\t\t\tvar index = $scope.getElemIndex(elem);\n\t\t\t\t\t\tvar elem2 = $scope.element.elements[index+1] ? $scope.element.elements[index+1] : 0;\n\t\t\t\t\t\tif(elem2) $scope.activeElement(elem2);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$scope.activeElement = function(element) {\n\t\t\t\t\tif (!element) return;\n\t\t\t\t\telement.builder.additionalClasses.push('mgz-tabs-tab-content');\n\t\t\t\t\tangular.forEach($scope.element.elements, function(el, index) {\n\t\t\t\t\t\tif (el !== element) {\n\t\t\t\t\t\t\tel.builder.visible = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\telement.builder.visible = true;\n\t\t\t\t\telement.builder.additionalClasses.push('mgz-active');\n\t\t\t\t}\n\n\t\t\t\t$scope.activeFirstElement = function() {\n\t\t\t\t\tvar active = true;\n\t\t\t\t\tangular.forEach($scope.element.elements, function(element) {\n\t\t\t\t\t\tif (!element.builder.visible) {\n\t\t\t\t\t\t\tactive = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (!active) {\n\t\t\t\t\t\t$scope.activeElement($scope.element.elements[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$scope.activeFirstElement();\n\n\t\t\t\t$scope.getClassess = function() {\n\t\t\t\t\tvar _elem = $scope.element;\n\t\t\t\t\tvar clasess = [];\n\t\t\t\t\tclasess.push('mgz-tabs');\n\t\t\t\t\tclasess.push('mgz-tabs-' + _elem.id);\n\t\t\t\t\tclasess.push('mgz-element-tab-align-' + _elem.tab_align);\n\t\t\t\t\tclasess.push('mgz-element-tab-position-' + _elem.tab_position);\n\t\t\t\t\tif (_elem.no_fill_content_area) clasess.push('mgz-tabs-no-fill-content');\n\t\t\t\t\tif (_elem.mobile_accordion) clasess.push('tabs-mobile-accordion');\n\t\t\t\t\treturn clasess;\n\t\t\t\t}\n\n\t\t\t\t$scope.getSpacing = function() {\n\t\t\t\t\treturn $scope.element.spacing ? parseFloat($scope.element.spacing) : 0;\n\t\t\t\t}\n\n\t\t\t\t$scope.getGap = function() {\n\t\t\t\t\treturn $scope.element.gap ? parseFloat($scope.element.gap) : 0;\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/element/heading/toolbar.js":"define([\n\t'jquery',\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getViewFileUrl('Magezon_Builder/js/templates/builder/element/heading/toolbar.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\n\t\t\t\tvar parent = $controller('toolbarController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t\tvar self = this;\n\n\t\t\t\t$scope.fontSize = $scope.element.font_size;\n\n\t\t\t\t$scope.updatedkey = function(key, value) {\n\t\t\t\t\tswitch(key) {\n\t\t\t\t\t\tcase 'elemHeading':\n\t\t\t\t\t\t\t$scope.element.heading_type = value;\n\t\t\t\t\t\t\t$scope.addHistory('edited', 'Type');\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'elemAlign':\n\t\t\t\t\t\t\t$scope.element.align = value;\n\t\t\t\t\t\t\t$scope.addHistory('edited', 'Alignment');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$scope.$watch('element.text', function(text, old) {\n\t\t\t\t\tif ($scope.isLoaded() && (text !== old)) {\n\t\t\t\t\t\t$scope.addHistory('edited', 'Text');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$scope.$watch('element.color', function(color, old) {\n\t\t\t\t\tif ($scope.isLoaded() && (color !== old)) {\n\t\t\t\t\t\t$scope.addHistory('edited', 'Color');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$scope.changeFontSize = function(e) {\n\t\t\t\t\t$scope.element.font_size = $scope.fontSize;\n\t\t\t\t\t$scope.addHistory('edited', 'Font Size');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/element/separator/toolbar.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getViewFileUrl('Magezon_Builder/js/templates/builder/element/separator/toolbar.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\t\t\t\tvar parent = $controller('toolbarController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t\tvar self = this;\n\n\t\t\t\t$scope.updatedkey = function(key, value) {\n\t\t\t\t\tswitch(key) {\n\t\t\t\t\t\tcase 'elemHeading':\n\t\t\t\t\t\t\t$scope.element.title_tag = value;\n\t\t\t\t\t\t\t$scope.addHistory('edited', 'Tag');\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'elemAlign':\n\t\t\t\t\t\t\t$scope.element.title_align = value;\n\t\t\t\t\t\t\t$scope.addHistory('edited', 'Alignment');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$scope.$watch('element.text', function(text) {\n\t\t\t\t\tif ($scope.isLoaded()) {\n\t\t\t\t\t\t$scope.addHistory('edited', 'Text');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$scope.$watch('element.color', function(color) {\n\t\t\t\t\tif ($scope.isLoaded()) {\n\t\t\t\t\t\t$scope.addHistory('edited', 'Color');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/element/text/toolbar.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\tcontroller: function($scope, $controller) {\n\t\t\t\tvar parent = $controller('toolbarController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t\tvar self = this;\n\t\t\t\tvar loaded = false;\n\n\t\t\t\t$scope.$watch('element.content', function(content) {\n\t\t\t\t\tif (loaded) {\n\t\t\t\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\t\t\t\ttype: 'edited',\n\t\t\t\t\t\t\ttitle: $scope.element.builder.name,\n\t\t\t\t\t\t\tsubtitle: 'Content'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tloaded = true;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/navbar/fullscreen.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/navbar/fullscreen.html')\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope) {\n\t\t\t\t$scope.toggleFullscreen = function() {\n\t\t\t\t\t$rootScope.fullscreen = !$rootScope.fullscreen;\n\t\t\t\t\tif (!$rootScope.fullscreen) {\n\t\t\t\t\t\t$rootScope.$broadcast('setViewMode', 'xl');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/navbar/settings.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/navbar/settings.html')\n\t\t\t},\n\t\t\tcontroller: function($scope, magezonBuilderModal) {\n\t\t\t\t$scope.openModal = function () {\n\t\t\t\t\tmagezonBuilderModal.open('settings');\n\t\t        }\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/navbar/navigator.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/navbar/navigator.html')\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope, magezonBuilderModal) {\n\t\t\t\t$scope.$on('openNavigatorModal', function() {\n\t\t\t\t\t$scope.openModal();\n\t\t\t\t});\n\t\t\t\t$scope.openModal = function() {\n\t\t\t\t\tmagezonBuilderModal.open('navigator').result.then(function() {}, function() {\n\t\t\t\t\t\tif($rootScope.activedElement) $rootScope.activedElement.builder.actived = false;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/navbar/shortcode.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/navbar/shortcode.html')\n\t\t\t},\n\t\t\tcontroller: function($scope, magezonBuilderModal) {\n\t\t\t\t$scope.openProfileShortcodeModal = function() {\n\t\t\t\t\tmagezonBuilderModal.open('profileShortcode');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/navbar/clear.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/navbar/clear.html')\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope, magezonBuilderModal) {\n\t\t\t\t$scope.openModal = function(e) {\n\t\t\t\t\tmagezonBuilderModal.open('clear_layout');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/navbar/my-templates.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/navbar/my_templates.html')\n\t\t\t},\n\t\t\tcontroller: function($scope, magezonBuilderModal) {\n\t\t\t\t$scope.openTemplatesModal = function() {\n\t\t\t\t\tmagezonBuilderModal.open('templates');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/navbar/view_mode.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderService, magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/navbar/view_mode.html')\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope) {\n\n\t\t\t\t$scope.viewMode  = magezonBuilderService.getViewMode();\n\n\t\t\t\t$scope.viewModes = {\n\t\t\t\t\txl: {\n\t\t\t\t\t\ttitle: 'Desktop',\n\t\t\t\t\t\ticon: 'mgz-icon mgz-icon-desktop'\n\t\t\t\t\t},\n\t\t\t\t\tlg: {\n\t\t\t\t\t\ttitle: 'Tablet Landscape',\n\t\t\t\t\t\ticon: 'mgz-icon mgz-icon-tablet-landscape'\n\t\t\t\t\t},\n\t\t\t\t\tmd: {\n\t\t\t\t\t\ttitle: 'Tablet Portrait',\n\t\t\t\t\t\ticon: 'mgz-icon mgz-icon-tablet-portrait'\n\t\t\t\t\t},\n\t\t\t\t\tsm: {\n\t\t\t\t\t\ttitle: 'Mobile Landscape',\n\t\t\t\t\t\ticon: 'mgz-icon mgz-icon-mobile-landscape'\n\t\t\t\t\t},\n\t\t\t\t\txs: {\n\t\t\t\t\t\ttitle: 'Mobile Portrait',\n\t\t\t\t\t\ticon: 'mgz-icon mgz-icon-mobile-portrait'\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$scope.changeViewMode = function(viewMode) {\n\t\t\t\t\t$scope.viewMode = viewMode;\n\t\t\t\t\tmagezonBuilderService.setViewMode(viewMode);\n\t\t\t\t\t$rootScope.fullscreen = true;\n\t\t\t\t\t$rootScope.$broadcast('loadElements');\n\t\t\t\t}\n\n\t\t\t\t$scope.$watch('viewMode', function(viewMode) {\n\t\t\t\t\t$rootScope.$broadcast('changedViewMode', viewMode);\n\t\t\t\t});\n\n\t\t\t\t$scope.$on('setViewMode', function(event, viewMode) {\n\t\t\t\t\t$scope.viewMode = viewMode;\n\t\t\t\t\tmagezonBuilderService.setViewMode(viewMode);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/navbar/history.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/navbar/history.html')\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope, magezonBuilderModal) {\n\t\t\t\t$scope.$on('openHistoryModal', function() {\n\t\t\t\t\t$scope.openModal();\n\t\t\t\t});\n\t\t\t\t$scope.openModal = function() {\n\t\t\t\t\tmagezonBuilderModal.open('history');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/navbar/templates.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/navbar/add.html')\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope) {\n\t\t\t\t$scope.openModal = function() {\n\t\t\t\t\t$rootScope.$broadcast('openElementsModal', true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/navbar/add.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/navbar/add.html')\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope) {\n\t\t\t\t$scope.openElementsModal = function() {\n\t\t\t\t\t$rootScope.$broadcast('openElementsModal', true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/apply/main.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'underscore',\n    'jquery',\n    'mage/apply/scripts'\n], function (_, $, processScripts) {\n    'use strict';\n\n    var dataAttr = 'data-mage-init',\n        nodeSelector = '[' + dataAttr + ']';\n\n    /**\n     * Initializes components assigned to a specified element via data-* attribute.\n     *\n     * @param {HTMLElement} el - Element to initialize components with.\n     * @param {Object|String} config - Initial components' config.\n     * @param {String} component - Components' path.\n     */\n    function init(el, config, component) {\n        require([component], function (fn) {\n\n            if (typeof fn === 'object') {\n                fn = fn[component].bind(fn);\n            }\n\n            if (_.isFunction(fn)) {\n                fn(config, el);\n            } else if ($(el)[component]) {\n                $(el)[component](config);\n            }\n        }, function (error) {\n            if ('console' in window && typeof window.console.error === 'function') {\n                console.error(error);\n            }\n\n            return true;\n        });\n    }\n\n    /**\n     * Parses elements 'data-mage-init' attribute as a valid JSON data.\n     * Note: data-mage-init attribute will be removed.\n     *\n     * @param {HTMLElement} el - Element whose attribute should be parsed.\n     * @returns {Object}\n     */\n    function getData(el) {\n        var data = el.getAttribute(dataAttr);\n\n        el.removeAttribute(dataAttr);\n\n        return {\n            el: el,\n            data: JSON.parse(data)\n        };\n    }\n\n    return {\n        /**\n         * Initializes components assigned to HTML elements via [data-mage-init].\n         *\n         * @example Sample 'data-mage-init' declaration.\n         *      data-mage-init='{\"path/to/component\": {\"foo\": \"bar\"}}'\n         */\n        apply: function (context) {\n            var virtuals = processScripts(!context ? document : context),\n                nodes = document.querySelectorAll(nodeSelector);\n\n            _.toArray(nodes)\n                .map(getData)\n                .concat(virtuals)\n                .forEach(function (itemContainer) {\n                    var element = itemContainer.el;\n\n                    _.each(itemContainer.data, function (obj, key) {\n                            if(key.indexOf('Magezon_Builder') != -1 || key.indexOf('Magezon_PageBuilder') != -1) {\n                                if (obj.mixins) {\n                                    require(obj.mixins, function () { //eslint-disable-line max-nested-callbacks\n                                        var i, len;\n\n                                        for (i = 0, len = arguments.length; i < len; i++) {\n                                            $.extend(\n                                                true,\n                                                itemContainer.data[key],\n                                                arguments[i](itemContainer.data[key], element)\n                                            );\n                                        }\n\n                                        delete obj.mixins;\n                                        init.call(null, element, obj, key);\n                                    });\n                                } else {\n                                    init.call(null, element, obj, key);\n                                }\n                            }\n\n                        }\n                    );\n\n                });\n        },\n        applyFor: init\n    };\n});\n","Magezon_Builder/js/waypoints/waypoints.debug.js":"/*!\nWaypoints Debug - 4.0.1\nCopyright \u00a9 2011-2016 Caleb Troughton\nLicensed under the MIT license.\nhttps://github.com/imakewebthings/waypoints/blob/master/licenses.txt\n*/\n(function() {\n  'use strict'\n\n  var displayNoneMessage = [\n    'You have a Waypoint element with display none. For more information on ',\n    'why this is a bad idea read ',\n    'http://imakewebthings.com/waypoints/guides/debugging/#display-none'\n  ].join('')\n  var fixedMessage = [\n    'You have a Waypoint element with fixed positioning. For more ',\n    'information on why this is a bad idea read ',\n    'http://imakewebthings.com/waypoints/guides/debugging/#fixed-position'\n  ].join('')\n\n  function checkWaypointStyles() {\n    var originalRefresh = window.Waypoint.Context.prototype.refresh\n\n    window.Waypoint.Context.prototype.refresh = function() {\n      for (var axis in this.waypoints) {\n        for (var key in this.waypoints[axis]) {\n          var waypoint = this.waypoints[axis][key]\n          var style = window.getComputedStyle(waypoint.element)\n          if (!waypoint.enabled) {\n            continue\n          }\n          if (style && style.display === 'none') {\n            console.error(displayNoneMessage)\n          }\n          if (style && style.position === 'fixed') {\n            console.error(fixedMessage)\n          }\n        }\n      }\n      return originalRefresh.call(this)\n    }\n  }\n\n  checkWaypointStyles()\n}())\n;","Magezon_Builder/js/waypoints/zepto.waypoints.min.js":"/*!\nWaypoints - 4.0.1\nCopyright \u00a9 2011-2016 Caleb Troughton\nLicensed under the MIT license.\nhttps://github.com/imakewebthings/waypoints/blob/master/licenses.txt\n*/\n!function(){\"use strict\";function t(o){if(!o)throw new Error(\"No options passed to Waypoint constructor\");if(!o.element)throw new Error(\"No element option passed to Waypoint constructor\");if(!o.handler)throw new Error(\"No handler option passed to Waypoint constructor\");this.key=\"waypoint-\"+e,this.options=t.Adapter.extend({},t.defaults,o),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=o.handler,this.axis=this.options.horizontal?\"horizontal\":\"vertical\",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var o in i)e.push(i[o]);for(var n=0,r=e.length;r>n;n++)e[n][t]()},t.destroyAll=function(){t.invokeAll(\"destroy\")},t.disableAll=function(){t.invokeAll(\"disable\")},t.enableAll=function(){t.Context.refreshAll();for(var e in i)i[e].enabled=!0;return this},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:\"default\",horizontal:!1,offset:0},t.offsetAliases={\"bottom-in-view\":function(){return this.context.innerHeight()-this.adapter.outerHeight()},\"right-in-view\":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){\"use strict\";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=n.Adapter,this.adapter=new this.Adapter(t),this.key=\"waypoint-context-\"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,o[t.waypointContextKey]=this,i+=1,n.windowContext||(n.windowContext=!0,n.windowContext=new e(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,o={},n=window.Waypoint,r=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?\"horizontal\":\"vertical\";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical),i=this.element==this.element.window;t&&e&&!i&&(this.adapter.off(\".waypoints\"),delete o[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on(\"resize.waypoints\",function(){e.didResize||(e.didResize=!0,n.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on(\"scroll.waypoints\",function(){(!e.didScroll||n.isTouch)&&(e.didScroll=!0,n.requestAnimationFrame(t))})},e.prototype.handleResize=function(){n.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:\"right\",backward:\"left\"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:\"down\",backward:\"up\"}};for(var i in e){var o=e[i],n=o.newScroll>o.oldScroll,r=n?o.forward:o.backward;for(var s in this.waypoints[i]){var a=this.waypoints[i][s];if(null!==a.triggerPoint){var l=o.oldScroll<a.triggerPoint,h=o.newScroll>=a.triggerPoint,p=l&&h,u=!l&&!h;(p||u)&&(a.queueTrigger(r),t[a.group.id]=a.group)}}}for(var c in t)t[c].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?n.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?n.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var o=0,n=t.length;n>o;o++)t[o].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,i=e?void 0:this.adapter.offset(),o={};this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:\"right\",backward:\"left\",offsetProp:\"left\"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:\"down\",backward:\"up\",offsetProp:\"top\"}};for(var r in t){var s=t[r];for(var a in this.waypoints[r]){var l,h,p,u,c,d=this.waypoints[r][a],f=d.options.offset,w=d.triggerPoint,y=0,g=null==w;d.element!==d.element.window&&(y=d.adapter.offset()[s.offsetProp]),\"function\"==typeof f?f=f.apply(d):\"string\"==typeof f&&(f=parseFloat(f),d.options.offset.indexOf(\"%\")>-1&&(f=Math.ceil(s.contextDimension*f/100))),l=s.contextScroll-s.contextOffset,d.triggerPoint=Math.floor(y+l-f),h=w<s.oldScroll,p=d.triggerPoint>=s.oldScroll,u=h&&p,c=!h&&!p,!g&&u?(d.queueTrigger(s.backward),o[d.group.id]=d.group):!g&&c?(d.queueTrigger(s.forward),o[d.group.id]=d.group):g&&s.oldScroll>=d.triggerPoint&&(d.queueTrigger(s.forward),o[d.group.id]=d.group)}}return n.requestAnimationFrame(function(){for(var t in o)o[t].flushTriggers()}),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in o)o[t].refresh()},e.findByElement=function(t){return o[t.waypointContextKey]},window.onload=function(){r&&r(),e.refreshAll()},n.requestAnimationFrame=function(e){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;i.call(window,e)},n.Context=e}(),function(){\"use strict\";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+\"-\"+this.axis,this.waypoints=[],this.clearTriggerQueues(),o[this.axis][this.name]=this}var o={vertical:{},horizontal:{}},n=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var o=this.triggerQueues[i],n=\"up\"===i||\"left\"===i;o.sort(n?e:t);for(var r=0,s=o.length;s>r;r+=1){var a=o[r];(a.options.continuous||r===o.length-1)&&a.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints),o=i===this.waypoints.length-1;return o?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=n.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return o[t.axis][t.name]||new i(t)},n.Group=i}(),function(){\"use strict\";function t(t){this.element=t,this.$element=e(t)}var e=window.Zepto,i=window.Waypoint;e.each([\"off\",\"on\",\"scrollLeft\",\"scrollTop\"],function(e,i){t.prototype[i]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,t)}}),t.prototype.offset=function(){return this.element!==this.element.window?this.$element.offset():void 0},e.each([\"width\",\"height\"],function(i,o){function n(t,i){return function(t){var n=this.$element,r=n[o](),s={width:[\"left\",\"right\"],height:[\"top\",\"bottom\"]};return e.each(s[o],function(e,o){r+=parseInt(n.css(\"padding-\"+o),10),i&&(r+=parseInt(n.css(\"border-\"+o+\"-width\"),10)),t&&(r+=parseInt(n.css(\"margin-\"+o),10))}),r}}var r=e.camelCase(\"inner-\"+o),s=e.camelCase(\"outer-\"+o);t.prototype[r]=n(!1),t.prototype[s]=n(!0)}),e.each([\"extend\",\"inArray\"],function(i,o){t[o]=e[o]}),t.isEmptyObject=function(t){for(var e in t)return!1;return!0},i.adapters.push({name:\"zepto\",Adapter:t}),i.Adapter=t}(),function(){\"use strict\";function t(t){return function(){var i=[],o=arguments[0];return t.isFunction(arguments[0])&&(o=t.extend({},arguments[1]),o.handler=arguments[0]),this.each(function(){var n=t.extend({},o,{element:this});\"string\"==typeof n.context&&(n.context=t(this).closest(n.context)[0]),i.push(new e(n))}),i}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}();","Magezon_Builder/js/waypoints/jquery.waypoints.js":"/*!\nWaypoints - 4.0.1\nCopyright \u00a9 2011-2016 Caleb Troughton\nLicensed under the MIT license.\nhttps://github.com/imakewebthings/waypoints/blob/master/licenses.txt\n*/\ndefine(['jquery'], function($) {\n(function() {\n  'use strict'\n\n  var keyCounter = 0\n  var allWaypoints = {}\n\n  /* http://imakewebthings.com/waypoints/api/waypoint */\n  function Waypoint(options) {\n    if (!options) {\n      throw new Error('No options passed to Waypoint constructor')\n    }\n    if (!options.element) {\n      throw new Error('No element option passed to Waypoint constructor')\n    }\n    if (!options.handler) {\n      throw new Error('No handler option passed to Waypoint constructor')\n    }\n\n    this.key = 'waypoint-' + keyCounter\n    this.options = Waypoint.Adapter.extend({}, Waypoint.defaults, options)\n    this.element = this.options.element\n    this.adapter = new Waypoint.Adapter(this.element)\n    this.callback = options.handler\n    this.axis = this.options.horizontal ? 'horizontal' : 'vertical'\n    this.enabled = this.options.enabled\n    this.triggerPoint = null\n    this.group = Waypoint.Group.findOrCreate({\n      name: this.options.group,\n      axis: this.axis\n    })\n    this.context = Waypoint.Context.findOrCreateByElement(this.options.context)\n\n    if (Waypoint.offsetAliases[this.options.offset]) {\n      this.options.offset = Waypoint.offsetAliases[this.options.offset]\n    }\n    this.group.add(this)\n    this.context.add(this)\n    allWaypoints[this.key] = this\n    keyCounter += 1\n  }\n\n  /* Private */\n  Waypoint.prototype.queueTrigger = function(direction) {\n    this.group.queueTrigger(this, direction)\n  }\n\n  /* Private */\n  Waypoint.prototype.trigger = function(args) {\n    if (!this.enabled) {\n      return\n    }\n    if (this.callback) {\n      this.callback.apply(this, args)\n    }\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/destroy */\n  Waypoint.prototype.destroy = function() {\n    this.context.remove(this)\n    this.group.remove(this)\n    delete allWaypoints[this.key]\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/disable */\n  Waypoint.prototype.disable = function() {\n    this.enabled = false\n    return this\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/enable */\n  Waypoint.prototype.enable = function() {\n    this.context.refresh()\n    this.enabled = true\n    return this\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/next */\n  Waypoint.prototype.next = function() {\n    return this.group.next(this)\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/previous */\n  Waypoint.prototype.previous = function() {\n    return this.group.previous(this)\n  }\n\n  /* Private */\n  Waypoint.invokeAll = function(method) {\n    var allWaypointsArray = []\n    for (var waypointKey in allWaypoints) {\n      allWaypointsArray.push(allWaypoints[waypointKey])\n    }\n    for (var i = 0, end = allWaypointsArray.length; i < end; i++) {\n      allWaypointsArray[i][method]()\n    }\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/destroy-all */\n  Waypoint.destroyAll = function() {\n    Waypoint.invokeAll('destroy')\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/disable-all */\n  Waypoint.disableAll = function() {\n    Waypoint.invokeAll('disable')\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/enable-all */\n  Waypoint.enableAll = function() {\n    Waypoint.Context.refreshAll()\n    for (var waypointKey in allWaypoints) {\n      allWaypoints[waypointKey].enabled = true\n    }\n    return this\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/refresh-all */\n  Waypoint.refreshAll = function() {\n    Waypoint.Context.refreshAll()\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/viewport-height */\n  Waypoint.viewportHeight = function() {\n    return window.innerHeight || document.documentElement.clientHeight\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/viewport-width */\n  Waypoint.viewportWidth = function() {\n    return document.documentElement.clientWidth\n  }\n\n  Waypoint.adapters = []\n\n  Waypoint.defaults = {\n    context: window,\n    continuous: true,\n    enabled: true,\n    group: 'default',\n    horizontal: false,\n    offset: 0\n  }\n\n  Waypoint.offsetAliases = {\n    'bottom-in-view': function() {\n      return this.context.innerHeight() - this.adapter.outerHeight()\n    },\n    'right-in-view': function() {\n      return this.context.innerWidth() - this.adapter.outerWidth()\n    }\n  }\n\n  window.Waypoint = Waypoint\n}())\n;(function() {\n  'use strict'\n\n  function requestAnimationFrameShim(callback) {\n    window.setTimeout(callback, 1000 / 60)\n  }\n\n  var keyCounter = 0\n  var contexts = {}\n  var Waypoint = window.Waypoint\n  var oldWindowLoad = window.onload\n\n  /* http://imakewebthings.com/waypoints/api/context */\n  function Context(element) {\n    this.element = element\n    this.Adapter = Waypoint.Adapter\n    this.adapter = new this.Adapter(element)\n    this.key = 'waypoint-context-' + keyCounter\n    this.didScroll = false\n    this.didResize = false\n    this.oldScroll = {\n      x: this.adapter.scrollLeft(),\n      y: this.adapter.scrollTop()\n    }\n    this.waypoints = {\n      vertical: {},\n      horizontal: {}\n    }\n\n    element.waypointContextKey = this.key\n    contexts[element.waypointContextKey] = this\n    keyCounter += 1\n    if (!Waypoint.windowContext) {\n      Waypoint.windowContext = true\n      Waypoint.windowContext = new Context(window)\n    }\n\n    this.createThrottledScrollHandler()\n    this.createThrottledResizeHandler()\n  }\n\n  /* Private */\n  Context.prototype.add = function(waypoint) {\n    var axis = waypoint.options.horizontal ? 'horizontal' : 'vertical'\n    this.waypoints[axis][waypoint.key] = waypoint\n    this.refresh()\n  }\n\n  /* Private */\n  Context.prototype.checkEmpty = function() {\n    var horizontalEmpty = this.Adapter.isEmptyObject(this.waypoints.horizontal)\n    var verticalEmpty = this.Adapter.isEmptyObject(this.waypoints.vertical)\n    var isWindow = this.element == this.element.window\n    if (horizontalEmpty && verticalEmpty && !isWindow) {\n      this.adapter.off('.waypoints')\n      delete contexts[this.key]\n    }\n  }\n\n  /* Private */\n  Context.prototype.createThrottledResizeHandler = function() {\n    var self = this\n\n    function resizeHandler() {\n      self.handleResize()\n      self.didResize = false\n    }\n\n    this.adapter.on('resize.waypoints', function() {\n      if (!self.didResize) {\n        self.didResize = true\n        Waypoint.requestAnimationFrame(resizeHandler)\n      }\n    })\n  }\n\n  /* Private */\n  Context.prototype.createThrottledScrollHandler = function() {\n    var self = this\n    function scrollHandler() {\n      self.handleScroll()\n      self.didScroll = false\n    }\n\n    this.adapter.on('scroll.waypoints', function() {\n      if (!self.didScroll || Waypoint.isTouch) {\n        self.didScroll = true\n        Waypoint.requestAnimationFrame(scrollHandler)\n      }\n    })\n  }\n\n  /* Private */\n  Context.prototype.handleResize = function() {\n    Waypoint.Context.refreshAll()\n  }\n\n  /* Private */\n  Context.prototype.handleScroll = function() {\n    var triggeredGroups = {}\n    var axes = {\n      horizontal: {\n        newScroll: this.adapter.scrollLeft(),\n        oldScroll: this.oldScroll.x,\n        forward: 'right',\n        backward: 'left'\n      },\n      vertical: {\n        newScroll: this.adapter.scrollTop(),\n        oldScroll: this.oldScroll.y,\n        forward: 'down',\n        backward: 'up'\n      }\n    }\n\n    for (var axisKey in axes) {\n      var axis = axes[axisKey]\n      var isForward = axis.newScroll > axis.oldScroll\n      var direction = isForward ? axis.forward : axis.backward\n\n      for (var waypointKey in this.waypoints[axisKey]) {\n        var waypoint = this.waypoints[axisKey][waypointKey]\n        if (waypoint.triggerPoint === null) {\n          continue\n        }\n        var wasBeforeTriggerPoint = axis.oldScroll < waypoint.triggerPoint\n        var nowAfterTriggerPoint = axis.newScroll >= waypoint.triggerPoint\n        var crossedForward = wasBeforeTriggerPoint && nowAfterTriggerPoint\n        var crossedBackward = !wasBeforeTriggerPoint && !nowAfterTriggerPoint\n        if (crossedForward || crossedBackward) {\n          waypoint.queueTrigger(direction)\n          triggeredGroups[waypoint.group.id] = waypoint.group\n        }\n      }\n    }\n\n    for (var groupKey in triggeredGroups) {\n      triggeredGroups[groupKey].flushTriggers()\n    }\n\n    this.oldScroll = {\n      x: axes.horizontal.newScroll,\n      y: axes.vertical.newScroll\n    }\n  }\n\n  /* Private */\n  Context.prototype.innerHeight = function() {\n    /*eslint-disable eqeqeq */\n    if (this.element == this.element.window) {\n      return Waypoint.viewportHeight()\n    }\n    /*eslint-enable eqeqeq */\n    return this.adapter.innerHeight()\n  }\n\n  /* Private */\n  Context.prototype.remove = function(waypoint) {\n    delete this.waypoints[waypoint.axis][waypoint.key]\n    this.checkEmpty()\n  }\n\n  /* Private */\n  Context.prototype.innerWidth = function() {\n    /*eslint-disable eqeqeq */\n    if (this.element == this.element.window) {\n      return Waypoint.viewportWidth()\n    }\n    /*eslint-enable eqeqeq */\n    return this.adapter.innerWidth()\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/context-destroy */\n  Context.prototype.destroy = function() {\n    var allWaypoints = []\n    for (var axis in this.waypoints) {\n      for (var waypointKey in this.waypoints[axis]) {\n        allWaypoints.push(this.waypoints[axis][waypointKey])\n      }\n    }\n    for (var i = 0, end = allWaypoints.length; i < end; i++) {\n      allWaypoints[i].destroy()\n    }\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/context-refresh */\n  Context.prototype.refresh = function() {\n    /*eslint-disable eqeqeq */\n    var isWindow = this.element == this.element.window\n    /*eslint-enable eqeqeq */\n    var contextOffset = isWindow ? undefined : this.adapter.offset()\n    var triggeredGroups = {}\n    var axes\n\n    this.handleScroll()\n    axes = {\n      horizontal: {\n        contextOffset: isWindow ? 0 : contextOffset.left,\n        contextScroll: isWindow ? 0 : this.oldScroll.x,\n        contextDimension: this.innerWidth(),\n        oldScroll: this.oldScroll.x,\n        forward: 'right',\n        backward: 'left',\n        offsetProp: 'left'\n      },\n      vertical: {\n        contextOffset: isWindow ? 0 : contextOffset.top,\n        contextScroll: isWindow ? 0 : this.oldScroll.y,\n        contextDimension: this.innerHeight(),\n        oldScroll: this.oldScroll.y,\n        forward: 'down',\n        backward: 'up',\n        offsetProp: 'top'\n      }\n    }\n\n    for (var axisKey in axes) {\n      var axis = axes[axisKey]\n      for (var waypointKey in this.waypoints[axisKey]) {\n        var waypoint = this.waypoints[axisKey][waypointKey]\n        var adjustment = waypoint.options.offset\n        var oldTriggerPoint = waypoint.triggerPoint\n        var elementOffset = 0\n        var freshWaypoint = oldTriggerPoint == null\n        var contextModifier, wasBeforeScroll, nowAfterScroll\n        var triggeredBackward, triggeredForward\n\n        if (waypoint.element !== waypoint.element.window) {\n          elementOffset = waypoint.adapter.offset()[axis.offsetProp]\n        }\n\n        if (typeof adjustment === 'function') {\n          adjustment = adjustment.apply(waypoint)\n        }\n        else if (typeof adjustment === 'string') {\n          adjustment = parseFloat(adjustment)\n          if (waypoint.options.offset.indexOf('%') > - 1) {\n            adjustment = Math.ceil(axis.contextDimension * adjustment / 100)\n          }\n        }\n\n        contextModifier = axis.contextScroll - axis.contextOffset\n        waypoint.triggerPoint = Math.floor(elementOffset + contextModifier - adjustment)\n        wasBeforeScroll = oldTriggerPoint < axis.oldScroll\n        nowAfterScroll = waypoint.triggerPoint >= axis.oldScroll\n        triggeredBackward = wasBeforeScroll && nowAfterScroll\n        triggeredForward = !wasBeforeScroll && !nowAfterScroll\n\n        if (!freshWaypoint && triggeredBackward) {\n          waypoint.queueTrigger(axis.backward)\n          triggeredGroups[waypoint.group.id] = waypoint.group\n        }\n        else if (!freshWaypoint && triggeredForward) {\n          waypoint.queueTrigger(axis.forward)\n          triggeredGroups[waypoint.group.id] = waypoint.group\n        }\n        else if (freshWaypoint && axis.oldScroll >= waypoint.triggerPoint) {\n          waypoint.queueTrigger(axis.forward)\n          triggeredGroups[waypoint.group.id] = waypoint.group\n        }\n      }\n    }\n\n    Waypoint.requestAnimationFrame(function() {\n      for (var groupKey in triggeredGroups) {\n        triggeredGroups[groupKey].flushTriggers()\n      }\n    })\n\n    return this\n  }\n\n  /* Private */\n  Context.findOrCreateByElement = function(element) {\n    return Context.findByElement(element) || new Context(element)\n  }\n\n  /* Private */\n  Context.refreshAll = function() {\n    for (var contextId in contexts) {\n      contexts[contextId].refresh()\n    }\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/context-find-by-element */\n  Context.findByElement = function(element) {\n    return contexts[element.waypointContextKey]\n  }\n\n  window.onload = function() {\n    if (oldWindowLoad) {\n      oldWindowLoad()\n    }\n    Context.refreshAll()\n  }\n\n\n  Waypoint.requestAnimationFrame = function(callback) {\n    var requestFn = window.requestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      requestAnimationFrameShim\n    requestFn.call(window, callback)\n  }\n  Waypoint.Context = Context\n}())\n;(function() {\n  'use strict'\n\n  function byTriggerPoint(a, b) {\n    return a.triggerPoint - b.triggerPoint\n  }\n\n  function byReverseTriggerPoint(a, b) {\n    return b.triggerPoint - a.triggerPoint\n  }\n\n  var groups = {\n    vertical: {},\n    horizontal: {}\n  }\n  var Waypoint = window.Waypoint\n\n  /* http://imakewebthings.com/waypoints/api/group */\n  function Group(options) {\n    this.name = options.name\n    this.axis = options.axis\n    this.id = this.name + '-' + this.axis\n    this.waypoints = []\n    this.clearTriggerQueues()\n    groups[this.axis][this.name] = this\n  }\n\n  /* Private */\n  Group.prototype.add = function(waypoint) {\n    this.waypoints.push(waypoint)\n  }\n\n  /* Private */\n  Group.prototype.clearTriggerQueues = function() {\n    this.triggerQueues = {\n      up: [],\n      down: [],\n      left: [],\n      right: []\n    }\n  }\n\n  /* Private */\n  Group.prototype.flushTriggers = function() {\n    for (var direction in this.triggerQueues) {\n      var waypoints = this.triggerQueues[direction]\n      var reverse = direction === 'up' || direction === 'left'\n      waypoints.sort(reverse ? byReverseTriggerPoint : byTriggerPoint)\n      for (var i = 0, end = waypoints.length; i < end; i += 1) {\n        var waypoint = waypoints[i]\n        if (waypoint.options.continuous || i === waypoints.length - 1) {\n          waypoint.trigger([direction])\n        }\n      }\n    }\n    this.clearTriggerQueues()\n  }\n\n  /* Private */\n  Group.prototype.next = function(waypoint) {\n    this.waypoints.sort(byTriggerPoint)\n    var index = Waypoint.Adapter.inArray(waypoint, this.waypoints)\n    var isLast = index === this.waypoints.length - 1\n    return isLast ? null : this.waypoints[index + 1]\n  }\n\n  /* Private */\n  Group.prototype.previous = function(waypoint) {\n    this.waypoints.sort(byTriggerPoint)\n    var index = Waypoint.Adapter.inArray(waypoint, this.waypoints)\n    return index ? this.waypoints[index - 1] : null\n  }\n\n  /* Private */\n  Group.prototype.queueTrigger = function(waypoint, direction) {\n    this.triggerQueues[direction].push(waypoint)\n  }\n\n  /* Private */\n  Group.prototype.remove = function(waypoint) {\n    var index = Waypoint.Adapter.inArray(waypoint, this.waypoints)\n    if (index > -1) {\n      this.waypoints.splice(index, 1)\n    }\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/first */\n  Group.prototype.first = function() {\n    return this.waypoints[0]\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/last */\n  Group.prototype.last = function() {\n    return this.waypoints[this.waypoints.length - 1]\n  }\n\n  /* Private */\n  Group.findOrCreate = function(options) {\n    return groups[options.axis][options.name] || new Group(options)\n  }\n\n  Waypoint.Group = Group\n}())\n;(function() {\n  'use strict'\n\n  var $ = window.jQuery\n  var Waypoint = window.Waypoint\n\n  function JQueryAdapter(element) {\n    this.$element = $(element)\n  }\n\n  $.each([\n    'innerHeight',\n    'innerWidth',\n    'off',\n    'offset',\n    'on',\n    'outerHeight',\n    'outerWidth',\n    'scrollLeft',\n    'scrollTop'\n  ], function(i, method) {\n    JQueryAdapter.prototype[method] = function() {\n      var args = Array.prototype.slice.call(arguments)\n      return this.$element[method].apply(this.$element, args)\n    }\n  })\n\n  $.each([\n    'extend',\n    'inArray',\n    'isEmptyObject'\n  ], function(i, method) {\n    JQueryAdapter[method] = $[method]\n  })\n\n  Waypoint.adapters.push({\n    name: 'jquery',\n    Adapter: JQueryAdapter\n  })\n  Waypoint.Adapter = JQueryAdapter\n}())\n;(function() {\n  'use strict'\n\n  var Waypoint = window.Waypoint\n\n  function createExtension(framework) {\n    return function() {\n      var waypoints = []\n      var overrides = arguments[0]\n\n      if (framework.isFunction(arguments[0])) {\n        overrides = framework.extend({}, arguments[1])\n        overrides.handler = arguments[0]\n      }\n\n      this.each(function() {\n        var options = framework.extend({}, overrides, {\n          element: this\n        })\n        if (typeof options.context === 'string') {\n          options.context = framework(this).closest(options.context)[0]\n        }\n        waypoints.push(new Waypoint(options))\n      })\n\n      return waypoints\n    }\n  }\n\n  if (window.jQuery) {\n    window.jQuery.fn.waypoint = createExtension(window.jQuery)\n  }\n  if (window.Zepto) {\n    window.Zepto.fn.waypoint = createExtension(window.Zepto)\n  }\n}())\n;\n})","Magezon_Builder/js/waypoints/noframework.waypoints.min.js":"/*!\nWaypoints - 4.0.1\nCopyright \u00a9 2011-2016 Caleb Troughton\nLicensed under the MIT license.\nhttps://github.com/imakewebthings/waypoints/blob/master/licenses.txt\n*/\n!function(){\"use strict\";function t(n){if(!n)throw new Error(\"No options passed to Waypoint constructor\");if(!n.element)throw new Error(\"No element option passed to Waypoint constructor\");if(!n.handler)throw new Error(\"No handler option passed to Waypoint constructor\");this.key=\"waypoint-\"+e,this.options=t.Adapter.extend({},t.defaults,n),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=n.handler,this.axis=this.options.horizontal?\"horizontal\":\"vertical\",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var n in i)e.push(i[n]);for(var o=0,r=e.length;r>o;o++)e[o][t]()},t.destroyAll=function(){t.invokeAll(\"destroy\")},t.disableAll=function(){t.invokeAll(\"disable\")},t.enableAll=function(){t.Context.refreshAll();for(var e in i)i[e].enabled=!0;return this},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:\"default\",horizontal:!1,offset:0},t.offsetAliases={\"bottom-in-view\":function(){return this.context.innerHeight()-this.adapter.outerHeight()},\"right-in-view\":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){\"use strict\";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=o.Adapter,this.adapter=new this.Adapter(t),this.key=\"waypoint-context-\"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,n[t.waypointContextKey]=this,i+=1,o.windowContext||(o.windowContext=!0,o.windowContext=new e(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,n={},o=window.Waypoint,r=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?\"horizontal\":\"vertical\";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical),i=this.element==this.element.window;t&&e&&!i&&(this.adapter.off(\".waypoints\"),delete n[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on(\"resize.waypoints\",function(){e.didResize||(e.didResize=!0,o.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on(\"scroll.waypoints\",function(){(!e.didScroll||o.isTouch)&&(e.didScroll=!0,o.requestAnimationFrame(t))})},e.prototype.handleResize=function(){o.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:\"right\",backward:\"left\"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:\"down\",backward:\"up\"}};for(var i in e){var n=e[i],o=n.newScroll>n.oldScroll,r=o?n.forward:n.backward;for(var s in this.waypoints[i]){var l=this.waypoints[i][s];if(null!==l.triggerPoint){var a=n.oldScroll<l.triggerPoint,h=n.newScroll>=l.triggerPoint,p=a&&h,u=!a&&!h;(p||u)&&(l.queueTrigger(r),t[l.group.id]=l.group)}}}for(var d in t)t[d].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?o.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?o.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var n=0,o=t.length;o>n;n++)t[n].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,i=e?void 0:this.adapter.offset(),n={};this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:\"right\",backward:\"left\",offsetProp:\"left\"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:\"down\",backward:\"up\",offsetProp:\"top\"}};for(var r in t){var s=t[r];for(var l in this.waypoints[r]){var a,h,p,u,d,f=this.waypoints[r][l],c=f.options.offset,w=f.triggerPoint,y=0,g=null==w;f.element!==f.element.window&&(y=f.adapter.offset()[s.offsetProp]),\"function\"==typeof c?c=c.apply(f):\"string\"==typeof c&&(c=parseFloat(c),f.options.offset.indexOf(\"%\")>-1&&(c=Math.ceil(s.contextDimension*c/100))),a=s.contextScroll-s.contextOffset,f.triggerPoint=Math.floor(y+a-c),h=w<s.oldScroll,p=f.triggerPoint>=s.oldScroll,u=h&&p,d=!h&&!p,!g&&u?(f.queueTrigger(s.backward),n[f.group.id]=f.group):!g&&d?(f.queueTrigger(s.forward),n[f.group.id]=f.group):g&&s.oldScroll>=f.triggerPoint&&(f.queueTrigger(s.forward),n[f.group.id]=f.group)}}return o.requestAnimationFrame(function(){for(var t in n)n[t].flushTriggers()}),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in n)n[t].refresh()},e.findByElement=function(t){return n[t.waypointContextKey]},window.onload=function(){r&&r(),e.refreshAll()},o.requestAnimationFrame=function(e){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;i.call(window,e)},o.Context=e}(),function(){\"use strict\";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+\"-\"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}var n={vertical:{},horizontal:{}},o=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var n=this.triggerQueues[i],o=\"up\"===i||\"left\"===i;n.sort(o?e:t);for(var r=0,s=n.length;s>r;r+=1){var l=n[r];(l.options.continuous||r===n.length-1)&&l.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=o.Adapter.inArray(e,this.waypoints),n=i===this.waypoints.length-1;return n?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=o.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=o.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return n[t.axis][t.name]||new i(t)},o.Group=i}(),function(){\"use strict\";function t(t){return t===t.window}function e(e){return t(e)?e:e.defaultView}function i(t){this.element=t,this.handlers={}}var n=window.Waypoint;i.prototype.innerHeight=function(){var e=t(this.element);return e?this.element.innerHeight:this.element.clientHeight},i.prototype.innerWidth=function(){var e=t(this.element);return e?this.element.innerWidth:this.element.clientWidth},i.prototype.off=function(t,e){function i(t,e,i){for(var n=0,o=e.length-1;o>n;n++){var r=e[n];i&&i!==r||t.removeEventListener(r)}}var n=t.split(\".\"),o=n[0],r=n[1],s=this.element;if(r&&this.handlers[r]&&o)i(s,this.handlers[r][o],e),this.handlers[r][o]=[];else if(o)for(var l in this.handlers)i(s,this.handlers[l][o]||[],e),this.handlers[l][o]=[];else if(r&&this.handlers[r]){for(var a in this.handlers[r])i(s,this.handlers[r][a],e);this.handlers[r]={}}},i.prototype.offset=function(){if(!this.element.ownerDocument)return null;var t=this.element.ownerDocument.documentElement,i=e(this.element.ownerDocument),n={top:0,left:0};return this.element.getBoundingClientRect&&(n=this.element.getBoundingClientRect()),{top:n.top+i.pageYOffset-t.clientTop,left:n.left+i.pageXOffset-t.clientLeft}},i.prototype.on=function(t,e){var i=t.split(\".\"),n=i[0],o=i[1]||\"__default\",r=this.handlers[o]=this.handlers[o]||{},s=r[n]=r[n]||[];s.push(e),this.element.addEventListener(n,e)},i.prototype.outerHeight=function(e){var i,n=this.innerHeight();return e&&!t(this.element)&&(i=window.getComputedStyle(this.element),n+=parseInt(i.marginTop,10),n+=parseInt(i.marginBottom,10)),n},i.prototype.outerWidth=function(e){var i,n=this.innerWidth();return e&&!t(this.element)&&(i=window.getComputedStyle(this.element),n+=parseInt(i.marginLeft,10),n+=parseInt(i.marginRight,10)),n},i.prototype.scrollLeft=function(){var t=e(this.element);return t?t.pageXOffset:this.element.scrollLeft},i.prototype.scrollTop=function(){var t=e(this.element);return t?t.pageYOffset:this.element.scrollTop},i.extend=function(){function t(t,e){if(\"object\"==typeof t&&\"object\"==typeof e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}for(var e=Array.prototype.slice.call(arguments),i=1,n=e.length;n>i;i++)t(e[0],e[i]);return e[0]},i.inArray=function(t,e,i){return null==e?-1:e.indexOf(t,i)},i.isEmptyObject=function(t){for(var e in t)return!1;return!0},n.adapters.push({name:\"noframework\",Adapter:i}),n.Adapter=i}();","Magezon_Builder/js/waypoints/shortcuts/sticky.min.js":"/*!\nWaypoints Sticky Element Shortcut - 4.0.1\nCopyright \u00a9 2011-2016 Caleb Troughton\nLicensed under the MIT license.\nhttps://github.com/imakewebthings/waypoints/blob/master/licenses.txt\n*/\n!function(){\"use strict\";function t(s){this.options=e.extend({},i.defaults,t.defaults,s),this.element=this.options.element,this.$element=e(this.element),this.createWrapper(),this.createWaypoint()}var e=window.jQuery,i=window.Waypoint;t.prototype.createWaypoint=function(){var t=this.options.handler;this.waypoint=new i(e.extend({},this.options,{element:this.wrapper,handler:e.proxy(function(e){var i=this.options.direction.indexOf(e)>-1,s=i?this.$element.outerHeight(!0):\"\";this.$wrapper.height(s),this.$element.toggleClass(this.options.stuckClass,i),t&&t.call(this,e)},this)}))},t.prototype.createWrapper=function(){this.options.wrapper&&this.$element.wrap(this.options.wrapper),this.$wrapper=this.$element.parent(),this.wrapper=this.$wrapper[0]},t.prototype.destroy=function(){this.$element.parent()[0]===this.wrapper&&(this.waypoint.destroy(),this.$element.removeClass(this.options.stuckClass),this.options.wrapper&&this.$element.unwrap())},t.defaults={wrapper:'<div class=\"sticky-wrapper\" />',stuckClass:\"stuck\",direction:\"down right\"},i.Sticky=t}();","Magezon_Builder/js/waypoints/shortcuts/infinite.min.js":"/*!\nWaypoints Infinite Scroll Shortcut - 4.0.1\nCopyright \u00a9 2011-2016 Caleb Troughton\nLicensed under the MIT license.\nhttps://github.com/imakewebthings/waypoints/blob/master/licenses.txt\n*/\n!function(){\"use strict\";function t(n){this.options=i.extend({},t.defaults,n),this.container=this.options.element,\"auto\"!==this.options.container&&(this.container=this.options.container),this.$container=i(this.container),this.$more=i(this.options.more),this.$more.length&&(this.setupHandler(),this.waypoint=new o(this.options))}var i=window.jQuery,o=window.Waypoint;t.prototype.setupHandler=function(){this.options.handler=i.proxy(function(){this.options.onBeforePageLoad(),this.destroy(),this.$container.addClass(this.options.loadingClass),i.get(i(this.options.more).attr(\"href\"),i.proxy(function(t){var n=i(i.parseHTML(t)),e=n.find(this.options.more),s=n.find(this.options.items);s.length||(s=n.filter(this.options.items)),this.$container.append(s),this.$container.removeClass(this.options.loadingClass),e.length||(e=n.filter(this.options.more)),e.length?(this.$more.replaceWith(e),this.$more=e,this.waypoint=new o(this.options)):this.$more.remove(),this.options.onAfterPageLoad(s)},this))},this)},t.prototype.destroy=function(){this.waypoint&&this.waypoint.destroy()},t.defaults={container:\"auto\",items:\".infinite-item\",more:\".infinite-more-link\",offset:\"bottom-in-view\",loadingClass:\"infinite-loading\",onBeforePageLoad:i.noop,onAfterPageLoad:i.noop},o.Infinite=t}();","Magezon_Builder/js/waypoints/shortcuts/inview.min.js":"/*!\nWaypoints Inview Shortcut - 4.0.1\nCopyright \u00a9 2011-2016 Caleb Troughton\nLicensed under the MIT license.\nhttps://github.com/imakewebthings/waypoints/blob/master/licenses.txt\n*/\n!function(){\"use strict\";function t(){}function e(t){this.options=i.Adapter.extend({},e.defaults,t),this.axis=this.options.horizontal?\"horizontal\":\"vertical\",this.waypoints=[],this.element=this.options.element,this.createWaypoints()}var i=window.Waypoint;e.prototype.createWaypoints=function(){for(var t={vertical:[{down:\"enter\",up:\"exited\",offset:\"100%\"},{down:\"entered\",up:\"exit\",offset:\"bottom-in-view\"},{down:\"exit\",up:\"entered\",offset:0},{down:\"exited\",up:\"enter\",offset:function(){return-this.adapter.outerHeight()}}],horizontal:[{right:\"enter\",left:\"exited\",offset:\"100%\"},{right:\"entered\",left:\"exit\",offset:\"right-in-view\"},{right:\"exit\",left:\"entered\",offset:0},{right:\"exited\",left:\"enter\",offset:function(){return-this.adapter.outerWidth()}}]},e=0,i=t[this.axis].length;i>e;e++){var n=t[this.axis][e];this.createWaypoint(n)}},e.prototype.createWaypoint=function(t){var e=this;this.waypoints.push(new i({context:this.options.context,element:this.options.element,enabled:this.options.enabled,handler:function(t){return function(i){e.options[t[i]].call(e,i)}}(t),offset:t.offset,horizontal:this.options.horizontal}))},e.prototype.destroy=function(){for(var t=0,e=this.waypoints.length;e>t;t++)this.waypoints[t].destroy();this.waypoints=[]},e.prototype.disable=function(){for(var t=0,e=this.waypoints.length;e>t;t++)this.waypoints[t].disable()},e.prototype.enable=function(){for(var t=0,e=this.waypoints.length;e>t;t++)this.waypoints[t].enable()},e.defaults={context:window,enabled:!0,enter:t,entered:t,exit:t,exited:t},i.Inview=e}();","Magezon_Builder/js/controllers/modal.js":"define([\n\t'jquery',\n\t'angular',\n  \t'mgzcodemirror'\n], function($, angular, CodeMirror) {\n\twindow.mgzCodeMirror = CodeMirror;\n\n\tvar baseCtrl = function(\n\t\t$scope,\n\t\t$uibModalInstance,\n\t\tmagezonBuilderModal,\n\t\tmodal,\n\t\tmagezonBuilderService\n\t) {\n\t\tvar self = this;\n\t\tself.id  = '.' + magezonBuilderModal.getModalId(modal.key);\n\n\t\t$scope.modal    = modal;\n\t\t$scope.title    = modal.title ? modal.title : modal.name;\n\t\t$scope.subtitle = modal.subtitle;\n\t\tvar localStorageKey = 'modal.' + modal.key;\n\n\t\tif (magezonBuilderService.getFromLocalStorage(localStorageKey + '.sizes')) $scope.modal.sizes = magezonBuilderService.getFromLocalStorage(localStorageKey + '.sizes');\n\t\tif (magezonBuilderService.getFromLocalStorage(localStorageKey + '.position')) {\n\t\t\tvar position = magezonBuilderService.getFromLocalStorage(localStorageKey + '.position');\n\t\t\tif (position.top < 0) position.top = 0;\n\t\t\t$scope.modal.position = position;\n\t\t}\n\n\t\tself.cancel = function() {\n\t\t\t$uibModalInstance.dismiss('cancel');\n\t\t}\n\n\t\tself.getModalSelector = function() {\n\t\t\treturn $(self.id);\n\t\t}\n\n\t\tself.getModalWidth = function() {\n\t\t\tvar windowWidth = $(window).width();\n\t\t\tvar modalWidth  = '80%';\n\t\t\tif (modal.size.width) modalWidth = modal.size.width;\n\t\t\tif (angular.isString(modalWidth) && modalWidth.indexOf('%') !== -1) modalWidth = windowWidth / 100 * modalWidth.replace(\"%\", \"\");\n\t\t\treturn modalWidth;\n\t\t}\n\n\t\tself.getModalHeight = function() {\n\t\t\tvar windowHeight = $(window).height();\n\t\t\tvar modalHeight  = '90%';\n\t\t\tif (modal.size.height) modalHeight = modal.size.height;\n\t\t\tif (angular.isString(modalHeight) && modalHeight.indexOf('%') !== -1) modalHeight = windowHeight / 100 * modalHeight.replace(\"%\", \"\");\n\t\t\tif (modal.position.top && modal.position.bottom) {\n\t\t\t\tself.getModalSelector().css('max-height', '');\n\t\t\t\tself.getModalSelector().css('height', '');\n\t\t\t}\n\t\t\treturn modalHeight;\n\t\t}\n\n\t\tself.getMinHeight = function() {\n\t\t\treturn modal.size.minHeight ? modal.size.minHeight : '';\n\t\t}\n\n\t\tself.getModalTop = function() {\n\t\t\tvar top;\n\t\t\tif (modal.position.top) {\n\t\t\t\ttop = modal.position.top;\n\t\t\t} else {\n\t\t\t\ttop = ($(window).height() - self.getModalHeight()) / 2;\n\t\t\t}\n\t\t\treturn top;\n\t\t}\n\n\t\tself.getModalRight = function() {\n\t\t\tvar right = 'auto';\n\t\t\tif (modal.position.right) {\n\t\t\t\tright = modal.position.right;\n\t\t\t}\n\t\t\treturn right;\n\t\t}\n\n\t\tself.getModalBottom = function() {\n\t\t\tvar bottom;\n\t\t\tif (modal.position.bottom) {\n\t\t\t\tbottom = modal.position.bottom;\n\t\t\t}\n\t\t\treturn bottom;\n\t\t}\n\n\t\tself.getModalLeft = function() {\n\t\t\tvar left = 'auto';\n\t\t\tif (modal.position.left) {\n\t\t\t\tleft = modal.position.left;\n\t\t\t} else {\n\t\t\t\tif (!modal.position.right) {\n\t\t\t\t\tleft = ($(window).width() - self.getModalWidth()) / 2;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn left;\n\t\t}\n\n\t\tself.getModalMaxWidth = function() {\n\t\t\tvar maxWidth;\n\t\t\tif (modal.size.maxWidth) {\n\t\t\t\tmaxWidth = parseFloat(modal.size.maxWidth) + 'px';\n\t\t\t} else {\n\t\t\t\tmaxWidth = parseFloat(modal.size.maxWidth) + 'px';\n\t\t\t}\n\t\t\treturn maxWidth;\n\t\t}\n\n\t\tself.getHeaderSelector = function() {\n\t\t\treturn $(self.id + ' .mgz-modal-header');\n\t\t}\n\n\t\tself.getHeaderHeight = function() {\n\t\t\treturn self.getHeaderSelector().length ? self.getHeaderSelector().outerHeight() : 0;\n\t\t}\n\n\t\tself.getContentSelector = function() {\n\t\t\treturn $(self.id + ' .mgz-modal-content');\n\t\t}\n\n\t\tself.getFooterSelector = function() {\n\t\t\treturn $(self.id + ' .mgz-modal-footer');\n\t\t}\n\n\t\tself.getFooterHeight = function() {\n\t\t\treturn self.getFooterSelector().length ? self.getFooterSelector().outerHeight() : 0;\n\t\t}\n\n\t\tself.isTabsModal = function() {\n\t\t\treturn self.getModalSelector().find('.mgz-modal-tab > .tab-content').length ? true : false;\n\t\t}\n\n\t\tself.resizeInner = function() {\n\t\t\tvar headerHeight = self.getHeaderHeight();\n\t\t\tvar footerHeight = self.getFooterHeight();\n\t\t\tvar modalHeight  = self.getModalHeight();\n\t\t\tvar height       = modalHeight - headerHeight - footerHeight;\n\t\t\tif (self.isTabsModal()) {\n\t\t\t\theight -= self.getModalSelector().find('.mgz-modal-tab > .nav-tabs').outerHeight();\n\t\t\t\tself.getModalSelector().find('.mgz-modal-tab > .tab-content').css('max-height', height);\n\t\t\t\tself.getModalSelector().find('.mgz-modal-content').css('overflow', 'visible');\n\t\t\t\tself.getModalSelector().addClass('mgz-modal-form');\n\t\t\t} else {\n\t\t\t\tself.getModalSelector().css('height', modalHeight);\n\t\t\t\tself.getModalSelector().removeClass('mgz-modal-form');\n\t\t\t}\n\t\t}\n\n\t\t$scope.$on('afterLoadModalTabs', function() {\n\t\t\tself.resizeInner();\n\t\t\tsetTimeout(function() {\n\t\t\t\tself.resizeInner();\n\t\t\t}, 500);\n\t\t});\n\n\t\t$uibModalInstance.rendered.then(function() {\n\t\t\tif (modal.resizable) {\n\t\t\t\tvar minHeight = 150 + self.getHeaderSelector().outerHeight() + self.getFooterSelector().outerHeight();\n\t\t\t\tsetTimeout(function() {\n\t\t\t    \tself.getModalSelector().resizable({\n\t\t\t    \t\tminHeight: minHeight,\n\t\t\t    \t\tminWidth: 380,\n\t\t\t    \t\thandles: \"all\",\n\t\t\t    \t\tresize: function( event, ui ) {\n\t\t\t    \t\t\tmodal.size.width = ui.size.width;\n\t\t\t\t\t\t\tif (!self.getModalSelector().hasClass('mgz-minimized')) {\n\t\t\t    \t\t\t\tmodal.size.height = ui.size.height;\n\t\t\t    \t\t\t}\n\t\t\t    \t\t\tself.resizeInner();\n\t\t\t    \t\t\tmagezonBuilderService.saveToLocalStorage(localStorageKey + '.sizes', ui.size);\n\t\t\t    \t\t}\n\t\t\t    \t});\n\t\t\t\t}, 2000);\n\t    \t\tself.getModalSelector().draggable({\n\t    \t\t\tcontainment: \"window\",\n\t    \t\t\thandle: \".mgz-modal-header\",\n\t    \t\t\tscroll: false,\n\t    \t\t\tdrag: function( event, ui ) {\n\t    \t\t\t\tif (modal.position.top >= 0) {\n\t\t    \t\t\t\tmodal.position = ui.position;\n\t\t\t\t    \t\tmagezonBuilderService.saveToLocalStorage(localStorageKey + '.position', ui.position);\n\t\t\t\t    \t}\n\t    \t\t\t}\n\t    \t\t});\n\t    \t\tself.getHeaderSelector().addClass('mgz-draggable-handle');\n\t\t    }\n\t\t    self.resizeInner();\n\t\t    self.getModalSelector().find('.mgz-modal-tab > .nav.nav-tabs > li > a').click(function(e) {\n\t\t\t\tself.resizeInner();\n\t\t\t});\n\t\t\tsetTimeout(function() {\n\t\t\t\tself.getModalSelector().find('.mgz-modal-tab > .tab-content').scroll(function(e) {\n\t\t\t\t\t$('.sp-active').siblings('.colorpicker-spectrum').spectrum(\"hide\");\n\t\t\t\t});\n\t\t\t}, 2000);\n\t\t});\n\n\t\tself.getModalStyle = function($topModalIndex) {\n\t\t\tvar style = {\n\t\t\t\t'z-index': 800 + $topModalIndex * 10,\n\t\t\t\t'display': 'block'\n\t\t\t};\n\t\t\tstyle['width'] = self.getModalWidth();\n\t\t\tif ($scope.modal.form) {\n\t\t\t\tstyle['max-height'] = self.getModalHeight();\n\t\t\t} else {\n\t\t\t\tstyle['height'] = self.getModalHeight();\n\t\t\t}\n\t\t\tstyle['top']        = self.getModalTop();\n\t\t\tstyle['right']      = self.getModalRight();\n\t\t\tstyle['left']       = self.getModalLeft();\n\t\t\tstyle['max-width']  = self.getModalMaxWidth();\n\t\t\tstyle['min-height'] = self.getMinHeight();\n\t\t\treturn style;\n\t\t}\n\n\t\t$(window).resize(function(event) {\n\t    \tif (self.getModalSelector().is(':visible')) {\n\t    \t\tself.resizeInner();\n\t    \t}\n\t    });\n\n\t    $scope.$on('enableModalSpinner', function() {\n\t\t\t$scope.spinner = true;\n\t\t});\n\n\t    $scope.$on('disableModalSpinner', function() {\n\t\t\t$scope.spinner = false;\n\t\t});\n\n\t\treturn angular.copy(self);\n\t};\n\n\treturn baseCtrl;\n});","Magezon_Builder/js/controllers/base.js":"define([\n\t'jquery',\n\t'underscore',\n\t'angular',\n\t'Magezon_Builder/js/apply/main',\n\t'Magezon_Builder/js/parallax'\n], function($, _, angular, mage, parallax) {\n\n\tvar isMobile = /Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/g.test(navigator.userAgent || navigator.vendor || window.opera);\n\n\tvar baseCtrl = function(\n\t\t$scope,\n\t\t$rootScope,\n\t\t$timeout,\n\t\tmagezonBuilderService,\n\t\tmagezonBuilderUrl,\n\t\tmagezonBuilderFilter,\n\t\telementManager,\n\t\t$sce,\n\t\t$interpolate,\n\t\tmagezonBuilderModal,\n\t\t$compile\n\t) {\n\n\t\tvar self = this;\n\t\tvar element = $scope.element;\n\n\t\tself.getBuilderElement = function(type) {\n\t\t\treturn elementManager.getElement(type);\n\t\t}\n\n\t\t$scope.controls            = [];\n\t\t$scope.controlsTemplateUrl = magezonBuilderUrl.getViewFileUrl('Magezon_Builder/js/templates/builder/controls.html');\n\t\t$scope.headingTypes        = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n\t\t$scope.alignTypes          = ['left', 'center', 'right'];\n\t\t$scope.loaded              = false;\n\t\t$scope.toolbarLoaded       = false;\n\t\t$scope.toolbar             = true;\n\t\t$scope.resizableLoaded     = false;\n\t\t$scope.resizable           = true;\n\t\t$scope.addBlock            = true;\n\n\t\t$scope.$on('loadElements', function(event, elem) {\n\t\t\tself.afterRender();\n\t\t});\n\t\t$scope.loadElement = function() {}\n\n\t\t$scope.getEl = function() {\n\t\t\treturn elementManager.getEl(element);\n\t\t}\n\n\t\tself.isProfile = function() {\n\t\t\tif (!element.id || element.type == 'profile') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\t$scope.getElemIndex = function(elem) {\n\t\t\treturn _.findIndex(element.elements, function(_elem) {\n\t\t\t\treturn _elem.id == elem.id;\n\t\t\t});\n\t\t}\n\n\t\t$scope.isChildren = function(elem) {\n\t\t\tvar index = $scope.getElemIndex(elem);\n\t\t\treturn (index !== -1) ? true : false;\n\t\t}\n\n\t\tself.onDragstart = function(elem) {\n\t\t\t$rootScope.draggingElement = elem;\n\t\t\t$rootScope.$broadcast('onDragstart', elem);\n\t\t}\n\n\t\tself.onDragend = function(elem) {\n\t\t\t$rootScope.draggingElement = '';\n\t\t\t$scope.controls = [];\n\t\t\t$rootScope.$broadcast('onDragend', elem);\n\t\t\t$('.mgz-element-collection-dragover').removeClass('mgz-element-collection-dragover');\n\t\t}\n\n\t\tself.onCanceled = function(elem) {\n\t\t\t$rootScope.draggingElement = '';\n\t\t\t$scope.controls = [];\n\t\t\t$rootScope.$broadcast('onCanceled', elem);\n\t\t}\n\n\t\tself.onMoved = function(elem) {\n\t\t\t$rootScope.draggingElement = '';\n\t\t\t$scope.controls = [];\n\t\t\t$rootScope.$broadcast('onMoved', elem);\n\t\t}\n\n\t\tself.getWrapperClasses = function() {\n\t\t\tvar classes = [];\n\t\t\tif (element.animation_in) {\n\t\t\t\tclasses.push('mgz-animated');\n\t\t\t\tclasses.push(element.animation_in);\n\t\t\t\t// classes.push('mgz_start_animation');\n\t\t\t\t// classes.push('animated');\n\t\t\t\tif (element.animation_infinite) {\n\t\t\t\t\tclasses.push('mgz-animated-infinite');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (element.el_class) classes.push(element.el_class);\n\t\t\tif (element.hidden_default) classes.push('mgz-element-hide-default');\n\t\t\tif (element.title_align) classes.push('mgz-element-title-align-' + element.title_align);\n\t\t\tif (element.el_float) {\n\t\t\t\tvar _float = magezonBuilderService.getDesignValue(element, 'el_float');\n\t\t\t\tif (_float) classes.push('f-' + _float);\n\t\t\t}\n\t\t\tclasses.push(element.id);\n\t\t\tclasses.push('mgz-element');\n\t\t\tif (!element.builder.is_collection) classes.push('mgz-child');\n\t\t\tclasses.push('mgz-element-' + element.type);\n\t\t\tif (element.builder.is_collection) classes.push('mgz-element-collection');\n\t\t\tif (element.builder.is_collection && !element.elements.length) {\n\t\t\t\tclasses.push('mgz-element-empty');\n\t\t\t}\n\t\t\tif (element.disable_element) classes.push('mgz-element-disabled');\n\t\t\tif (element.builder.actived || ($rootScope.editingElement && element.id == $rootScope.editingElement.id)) classes.push('mgz-element-actived');\n\t\t\tif (element.builder.editing) classes.push('mgz-element-editing');\n\t\t\tif (element.builder.hovered) classes.push('mgz-element-hover');\n\t\t\tif (element.elements && element.elements.length) {\n\t\t\t\tclasses.push('has-children');\t\n\t\t\t}\n\t\t\tvar viewMode = magezonBuilderService.getViewMode();\n\t\t\tif (element[viewMode + '_hide']) classes.push('mgz-hidden');\n\t\t\tclasses = classes.concat(self.getViewModeClass(element));\n\t\t\tif (element.builder.additionalClasses) {\n\t\t\t\tclasses = classes.concat(element.builder.additionalClasses);\n\t\t\t}\n\t\t\treturn classes;\n\t\t}\n\n\t\tself.getInnerClasses = function() {\n\t\t\tvar classes = [];\n\t\t\tclasses.push('mgz-element-inner');\n\t\t\tclasses.push(self.getStyleHtmlId());\n\t\t\tif (element.el_inner_class) classes.push(element.el_inner_class);\n\t\t\treturn classes;\n\t\t}\n\n\t\tself.getViewModeClass = function(elem) {\n\t\t\tvar classes = [];\n\t\t\tif (elem.builder && elem.builder.resizable) {\n\t\t\t\tvar responsiveClass = magezonBuilderService.getResponiveValue(elem, 'size');\n\t\t\t\tif (responsiveClass) {\n\t\t\t\t\tclasses.push('mgz-col-xs-' + responsiveClass);\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push('mgz-col-xs-12');\n\t\t\t\t}\n\t\t\t\tvar modeOffset = magezonBuilderService.getResponiveValue(elem,'offset_size');\n\t\t\t\tif (modeOffset) classes.push('mgz-col-xs-offset-' +  modeOffset);\n\t\t\t}\n\t\t\treturn classes;\n\t\t}\n\n\t\t$scope.getTrustedHtml = function(html) {\n\t\t\treturn $sce.trustAsHtml(magezonBuilderFilter.encodeContent(html));\n\t\t}\n\n\t\t$scope.trustAsResourceUrl = function(url) {\n\t\t\treturn $sce.valueOf($sce.trustAsResourceUrl(url));\n\t\t}\n\n\t\t$scope.getBuilderElementDescription = function() {\n\t\t\tvar builderElement = element.builder;\n\t\t\treturn builderElement.builder_description ? $interpolate(builderElement.builder_description)($scope) : '';\n\t\t}\n\n\t\t$scope.getPlaceHolderClassess = function() {\n\t\t\tvar classes;\n\t\t\tif ($rootScope.draggingElement) {\n\t\t\t\tvar elem = $rootScope.draggingElement;\n\t\t\t\tvar classes = self.getViewModeClass(elem);\n\t\t\t\tif (elem.el_float) classes += ' f-' + elem.el_float;\n\t\t\t}\n\t\t\treturn classes;\n\t\t}\n\n\t\t$scope.getTitleHtml = function() {\n\t\t\tif (!element.title_tag) element.title_tag = 'h4';\n\t\t\t\tvar html = '<' + element.title_tag + ' class=\"title\">';\n\t\t\tif (element.add_icon && element.icon_position == 'left') {\n\t\t\t\thtml += '<i class=\"mgz-icon-element ' + element.icon + '\"></i>';\n\t\t\t}\n\t\t\tif (element.title) {\n\t\t\t\thtml += '<span>' + element.title + '</span>';\n\t\t\t}\n\t\t\tif (element.add_icon && element.icon_position == 'right') {\n\t\t\t\thtml += '<i class=\"mgz-icon-element ' + element.icon + '\"></i>';\n\t\t\t}\n\t\t\thtml += '</' + element.title_tag + '>';\n\t\t\treturn html;\n\t\t}\n\n\t\tself.getParallaxId = function() {\n\t\t\treturn element.id ? element.id + '-p' : '';\n\t\t}\n\n\t\tself.getStyleHtmlId = function() {\n\t\t\treturn element.id ? element.id + '-s' : '';\n\t\t}\n\n\t\tself.onMouseEnter = function(e) {\n\t\t\tif (!$rootScope.draggingElement || ($('.mgz-element-editing').length && $('.mgz-element-editing') !== $scope.getEl())) {\n\t\t\t\tif (!$scope.toolbarLoaded && $scope.toolbar) {\n\t\t\t\t\tvar html = $compile('<magezon-builder-element-actions></magezon-builder-element-actions>')($scope);\n\t\t\t\t\t$scope.getEl().prepend(html);\n\t\t\t\t\t$scope.toolbarLoaded = true;\n\t\t\t\t}\n\t\t\t\tif (!$scope.resizableLoaded && $scope.resizable && element.builder.resizable) {\n\t\t\t\t\tvar html = $compile('<magezon-builder-element-resizable></magezon-builder-element-resizable>')($scope);\n\t\t\t\t\t$scope.getEl().append(html);\n\t\t\t\t\t$scope.resizableLoaded = true;\n\t\t\t\t}\n\n\t\t\t\telement.builder.hovered = true;\n\t\t\t\tvar target = $(e.currentTarget);\n\t\t\t\t$scope.controls = self.getControls();\n\t\t\t\tangular.forEach($scope.controls, function(elem, index) {\n\t\t\t\t\telem.builder.controlsVisible = false;\n\t\t\t\t});\n\t\t\t\t$timeout(function() {\n\t\t\t\t\tconsole.log('Mouse Enter');\n\t\t\t\t\tvar controlSelector = target.children('.mgz-element-wrap-top').children('.mgz-element-controls');\n\t\t\t\t\tif (target.find('.mgz-element-hover').length) {\n\t\t\t\t\t\telement.builder.controlsVisible = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.builder.controlsVisible = true;\n\t\t\t\t\t}\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tif (controlSelector.length) {\n\t\t\t\t\t\t\tvar navSelector    = $('#' + $rootScope.builderConfig.htmlId + ' .mgz-navbar');\n\t\t\t\t\t\t\tif (navSelector.length) {\n\t\t\t\t\t\t\t\tvar navOffsetRight = navSelector.offset().left + navSelector.width();\n\t\t\t\t\t\t\t\tvar controlSelectorOffsetRight = controlSelector.offset().left + controlSelector.width() + 2;\n\t\t\t\t\t\t\t\tif (controlSelectorOffsetRight > navOffsetRight) {\n\t\t\t\t\t\t\t\t\tcontrolSelector.css('right', '0');\n\t\t\t\t\t\t\t\t\tcontrolSelector.css('left', 'auto');\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcontrolSelector.css('right', 'auto');\n\t\t\t\t\t\t\t\t\tif (target.css('position') == 'static') {\n\t\t\t\t\t\t\t\t\t\tcontrolSelector.css('left', target.position().left);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tcontrolSelector.css('left', '0');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}, 200);\n\t\t\t}\n\t\t}\n\n\t\tself.onMouseLeave = function(e) {\n\t\t\telement.builder.hovered = false;\n\t\t\tif (!$rootScope.draggingElement) {\n\t\t\t\tvar target = $(e.currentTarget);\n\t\t\t\t$scope.controls = [];\n\t\t\t\telement.builder.controlsVisible = false;\n\t\t\t}\n\t\t}\n\n\t\tself.getParents = function() {\n\t\t\tvar parents = {};\n\t\t\tvar prepareParents = function(_scope, _parents) {\n\t\t\t\tif (_scope.$parent) {\n\t\t\t\t\tvar _element = _scope.element;\n\t\t\t\t\tif (_element && _element.id && !_parents.hasOwnProperty(_element.id)) {\n\t\t\t\t\t\t_parents[_element.id] = _element;\n\t\t\t\t\t}\n\t\t\t\t\tprepareParents(_scope.$parent, _parents);\n\t\t\t\t}\n\t\t\t}\n\t\t\tprepareParents($scope.$parent, parents);\n\t\t\treturn _.values(parents).reverse();\n\t\t}\n\n\t\tself.getControls = function() {\n\t\t\tvar parents = self.getParents();\n\t\t\treturn parents;\n\t\t}\n\n\t\tself.getControlClasses = function(elem, $last) {\n\t\t\tvar classes = [];\n\t\t\tclasses.push('mgz-element-control');\n\t\t\tclasses.push('mgz-element-' + elem.type + '-control');\n\t\t\tif ($last) classes.push('mgz-element-control-last mgz-element-control-green');\n\t\t\treturn classes;\n\t\t}\n\n\t\t$scope.$on('editElement', function($e, elem, activeTab) {\n\t\t\tif (elem.id == element.id && !$rootScope.editingElement) {\n\t\t\t\tself.editElement(elem, activeTab);\n\t\t\t\t$rootScope.$broadcast('elementReloaded', element);\n\t\t\t}\n\t\t})\n\n\t\tself.editElement = function(elem, activeTab) {\n\t\t\telem.builder.editing = false;\n\t\t\telem.builder.hovered = false;\n\t\t\t$rootScope.editingElement = elem;\n\t\t\tvar modal = magezonBuilderModal.open('element', {\n\t\t\t\twindowClass: 'mgz-modal-' + elem.type,\n\t\t\t\tresolve: {\n\t\t\t\t\tform: {\n\t\t\t\t\t\telement: elem,\n\t\t\t\t\t\tactiveTab: activeTab\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, function() {\n\t\t\t\tself.deactiveElement(elem);\n\t\t\t\t$rootScope.editingElement = '';\n\t\t\t}, function() {\n\t\t\t\tself.deactiveElement(elem);\n\t\t\t\t$rootScope.editingElement = '';\n\t\t\t});\n\t\t}\n\n\t\tself.dropElement = function(elem, index, parent) {\n\t\t\t$rootScope.$broadcast('removeElement', elem, {history: false});\n\t\t\t$rootScope.$broadcast('beforeDropElement', elem);\n\t\t\t$scope.$apply(function() {\n\t\t\t\tparent.elements.splice(index, 0, elem);\n\t\t\t\tself.deactiveElement(elem);\n\t\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\t\ttype: 'moved',\n\t\t\t\t\ttitle: elem.builder.name\n\t\t\t\t});\n\t\t\t});\n\t\t\tself.onDragend();\n\t\t\t$rootScope.$broadcast('afterDropElement', elem);\n\t\t\treturn true;\n\t\t}\n\n\t\t$scope.$on('activeElement', function(event, elem) {\n\t\t\tif (elem.id == element.id) {\n\t\t\t\tself.activeElement(element);\n\t\t\t} else {\n\t\t\t\telement.builder.actived = false;\n\t\t\t}\n\t\t});\n\n\t\tself.activeElement = function(elem) {\n\t\t\telem.builder.actived = true;\n\t\t\t$rootScope.activedElement = elem;\n\t\t}\n\n\t\t$scope.$on('deactiveElement', function(event, elem) {\n\t\t\tself.deactiveElement(element);\n\t\t});\n\n\t\tself.deactiveElement = function(elem) {\n\t\t\telem.builder.actived = false;\n\t\t\t$rootScope.activedElement = '';\n\t\t}\n\n\t\t$scope.$on('gotoElement', function(event, elem) {\n\t\t\tif (elem.id == element.id) {\n\t\t\t\tvar height = $('.page-main-actions > .page-actions._fixed').outerHeight() + 5;\n\t\t\t\tvar _elem  = $(\".mgz-builder .mgz-element.\" + element.id);\n\t\t\t\tif (_elem.is(':visible')) {\n\t\t\t\t\t$('html, body').stop().animate({\n\t\t\t\t\t\tscrollTop: _elem.offset().top - height\n\t\t\t\t\t}, 1000);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t$scope.removeSpinner = function() {\n\t\t\t$scope.getEl().children('.mgz-spinner').remove();\n\t\t}\n\n\t\tvar addAddBlock = function() {\n\t\t\tif ($scope.addBlock && !self.isProfile()) {\n\t\t\t\tvar _elem = element;\n\t\t\t\tif (_elem.builder.is_collection) {\n\t\t\t\t\t$scope.removeSpinner();\n\t\t\t\t\tif (!_elem.elements.length) {\n\t\t\t\t\t\tvar html = $compile('<i class=\"mgz-icon mgz-icon-add\" ng-if=\"element.builder.is_collection&&!element.elements.length\" ng-click=\"$root.$broadcast(\\'addElement\\', {elem: element, action: \\'append\\' })\"></i>')($scope);\n\t\t\t\t\t\t$scope.getEl().prepend(html);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t$scope.addAddBlock = function() {\n\t\t\taddAddBlock();\n\t\t\tif ($scope.getEl().find('.mgz-icon-add')) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\taddAddBlock();\n\t\t\t\t}, 500);\n\t\t\t}\n\t\t}\n\n\t\tself.loadLiveElement = function(elem) {\n\t\t\tif (elem.builder.livePreview) {\n\t\t\t\tmagezonBuilderService.elemPost(elem, $rootScope.builderConfig.loadElementUrl, {\n\t\t\t\t\telement: angular.toJson(elem)\n\t\t\t\t}, false, function(res) {\n\t\t\t\t\tvar _elem = $('.' + elem.id);\n\t\t\t\t\tvar _inner = _elem.children('.mgz-element-inner');\n\t\t\t\t\tif (res) {\n\t\t\t\t\t\t_inner.html(res);\n\t\t\t\t\t\t$(mage.apply);\n\t\t\t\t\t\t_inner.on('click', '.action.tocart,.action.towishlist,.action.tocompare', function (e) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t});\n\t\t\t\t\t\t_inner.find('a').attr('target', '_blank');\n\t\t\t\t\t\t_inner.find('form[data-role=tocart-form]').removeAttr('action');\n\t\t\t\t\t\t_inner.find('form[data-role=tocart-form]').removeAttr('method');\n\t\t\t\t\t\t_inner.find('*').addClass('mgz-builder-dnd-disable');\n\t\t\t\t\t\t$('body').trigger('magezonPageBuilderUpdated');\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t_elem.find('.mgz-waypoint').trigger('mgz:animation:run');\n\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t$rootScope.$broadcast('loadElements');\n\t\t\t\t\t}\n\t\t\t\t}, function() {}, function() {\n\t\t\t\t\t$scope.removeSpinner();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tsetTimeout(function() {\n\t\t\tself.loadLiveElement(element);\t\n\t\t});\n\n\t\tself.getParallaxClasses = function() {\n\t\t\tvar parallax      = magezonBuilderService.getDesignValue(element, 'parallax_type');\n\t\t\tvar mouseParallax = magezonBuilderService.getDesignValue(element, 'mouse_parallax');\n\t\t\tvar classes  = [];\n\t\t\tclasses.push('mgz-parallax');\n\t\t\tclasses.push(self.getParallaxId());\n\t\t\tif (parallax && mouseParallax) classes.push('mgz-parallax-mouse-parallax');\n\t\t\treturn classes;\n\t\t}\n\n\t\tself.afterParallaxRender = function(e) {\n\t\t\tsetTimeout(function() {\n\t\t\t\tself.initParallax();\n\t\t\t}, 1000);\n\t\t}\n\n\t\tself.initParallax = function() {\n\t\t\tvar parallax   = magezonBuilderService.getDesignValue(element, 'parallax_type');\n\t\t\tvar elParallax = $scope.getEl().children('.mgz-element-inner').children('.mgz-parallax').children('.mgz-parallax-inner');\n\n\t\t\tjarallax(elParallax, 'destroy');\n\t\t\tif (parallax) {\n\t\t\t\telParallax.css('background-image', 'none');\t\n\t\t\t} else {\n\t\t\t\telParallax.css('background-image', '');\t\n\t\t\t}\n\t\t\tif (!self.isEnabledParallax()) return;\n\t\t\tvar _elem           = element;\n\t\t\tvar backgroundType  = magezonBuilderService.getDesignValue(_elem, 'background_type');\n\t\t\tvar imageBgSize     = '';\n\t\t\tvar imageBgPosition = magezonBuilderService.getDesignValue(_elem, 'background_position').replace(/-/g, ' ');\n\t\t\tvar video           = false;\n\t\t\tvar videoStartTime  = 0;\n\t\t\tvar videoEndTime    = 0;\n\t\t\tvar videoVolume     = 0;\n\t\t\tvar videoLoop       = true;\n\t\t\tvar videoAlwaysPlay = true;\n\t\t\tvar videoMobile     = false;\n\t\t\tvar parallax        = magezonBuilderService.getDesignValue(_elem, 'parallax_type');\n\t\t\tvar parallaxSpeed   = magezonBuilderService.getDesignValue(_elem, 'parallax_speed');\n\t\t\tvar parallaxMobile  = magezonBuilderService.getDesignValue(_elem, 'parallax_mobile');\n\n\t        // video type\n\t        if ( backgroundType === 'yt_vm_video' || backgroundType === 'video' ) {\n\t        \tvideo           = magezonBuilderService.getDesignValue(_elem, 'background_video');\n\t        \tvideoStartTime  = parseFloat( magezonBuilderService.getDesignValue(_elem, 'video_start_time') ) || 0;\n\t        \tvideoEndTime    = parseFloat( magezonBuilderService.getDesignValue(_elem, 'video_end_time') ) || 0;\n\t        \tvideoVolume     = parseFloat( magezonBuilderService.getDesignValue(_elem, 'video_volume') ) || 0;\n\t        \tvideoLoop       = true;\n\t        \tvideoAlwaysPlay = true;\n\t        \tvideoMobile     = magezonBuilderService.getDesignValue(_elem, 'video_mobile');\n\n\t        \tif ( video && ! parallax && ! parallaxSpeed ) {\n\t        \t\tparallax       = 'scroll';\n\t        \t\tparallaxSpeed  = 1;\n\t        \t\tparallaxMobile = videoMobile;\n\t        \t}\n\t        }\n\n\t        // prevent if no parallax and no video\n\t        if ( !parallax && !video ) return;\n\n\t        var jarallaxParams = {\n\t        \tautomaticResize: true,\n\t        \ttype: parallax,\n\t        \tspeed: parallaxSpeed,\n\t        \tdisableParallax() {\n\t        \t\treturn parallaxMobile ? false : isMobile;\n\t        \t},\n\t        \tdisableVideo() {\n\t        \t\treturn videoMobile ? false : isMobile;\n\t        \t},\n\t        \timgSize: imageBgSize || 'cover',\n\t        \timgPosition: imageBgPosition || '50% 50%',\n\t        };\n\n\t        if ( imageBgSize === 'pattern' ) {\n\t        \tjarallaxParams.imgSize   = 'auto';\n\t        \tjarallaxParams.imgRepeat = 'repeat';\n\t        }\n\n\t        if ( video ) {\n\t\t\t\tjarallaxParams.speed                = parallax ? parallaxSpeed : 1;\n\t\t\t\tjarallaxParams.videoSrc             = video;\n\t\t\t\tjarallaxParams.videoStartTime       = videoStartTime;\n\t\t\t\tjarallaxParams.videoEndTime         = videoEndTime;\n\t\t\t\tjarallaxParams.videoVolume          = videoVolume;\n\t\t\t\tjarallaxParams.videoLoop            = videoLoop;\n\t\t\t\tjarallaxParams.videoPlayOnlyVisible = !videoAlwaysPlay;\n\t        }\n\n\t        var backgroundImage = magezonBuilderService.getDesignValue(element, 'background_image');\n\t        if (backgroundImage) jarallaxParams.imgSrc = magezonBuilderUrl.getImageUrl(backgroundImage);\n\t        var elParallax = $scope.getEl().children('.mgz-element-inner').children('.mgz-parallax').children('.mgz-parallax-inner');\n\t        jarallax(elParallax, jarallaxParams);\n\t        window.mgzParallaxMouse(true);\n\t\t}\n\n\t\tself.processParallax = function() {\n\t\t\t$scope.getEl().children('.mgz-element-inner').children('.mgz-parallax').remove();\n\t\t\tif (self.isEnabledParallax()) {\n\t\t\t\tvar html = $compile(self.getParallaxHtml())($scope);\n\t\t\t\t$scope.getEl().children('.mgz-element-inner').prepend(html);\n\t\t\t}\n\t\t}\n\n\t\t$scope.$on('editedElement', function(event, elem) {\n\t\t\tif (element.id === elem.id) {\n\t\t\t\tself.afterRender();\n\t\t\t}\n\t\t});\n\n\t\t$scope.$on('resetElement', function(event) {\n\t\t\telement.builder.hovered = false;\n\t\t\telement.builder.editing = false;\n\t\t\telement.builder.actived = false;\n\t\t});\n\n\t\tself.isEnabledParallax = function() {\n\t\t\tvar _elem           = element;\n\t\t\tvar parallax        = magezonBuilderService.getDesignValue(_elem, 'parallax_type');\n\t\t\tvar backgroundType  = magezonBuilderService.getDesignValue(_elem, 'background_type');\n\t\t\tvar backgroundImage = magezonBuilderService.getDesignValue(_elem, 'background_image');\n\t\t\tvar backgroundColor = magezonBuilderService.getDesignValue(_elem, 'background_color');\n\t\t\tvar video           = magezonBuilderService.getDesignValue(_elem, 'background_video');\n\t\t\treturn (backgroundColor || backgroundImage || (backgroundType === 'yt_vm_video' && video));\n\t\t}\n\n\t\tself.processWaypoints = function() {\n\t\t\t$scope.getEl().waypoint(function() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar delayTime = 0;\n\t\t\t\tif ($(this.element).data('animation-delay')) {\n\t\t\t\t\tdelayTime = $(this.element).data('animation-delay');\n\t\t\t\t}\n\t\t\t\tvar durationTime = 0;\n\t\t\t\tif ($(this.element).data('animation-duration')) {\n\t\t\t\t\tdurationTime = $(this.element).data('animation-duration');\n\t\t\t\t}\n\t\t\t\tif (durationTime) $(self.element).css(\"animation-duration\", durationTime + 's');\n\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t$(self.element).addClass(\"mgz_start_animation animated\")\n\t\t\t\t}, delayTime * 1000);\n\t\t\t}, {\n\t\t\t\toffset: \"85%\"\n\t\t\t});\n\t\t}\n\n\t\tself.afterRender = function() {\n\t\t\t$scope.loadElement();\n\t\t\tself.processParallax();\n\t\t\tself.processWaypoints();\n\t\t\t$scope.loaded = true;\n\t\t\t$rootScope.$broadcast('elementReloaded', element);\n\t\t\tif (element.el_id) {\n\t\t\t\t$scope.getEl().attr('id', element.el_id);\n\t\t\t} else {\n\t\t\t\t$scope.getEl().removeAttr('id');\n\t\t\t}\n\t\t}\n\n\t\tself.getStyles = function() {\n\t\t\tvar _elem = element;\n\t\t\tvar styles = {};\n\t\t\tif (_elem.animation_in && _elem.animation_duration) {\n\t\t\t\tstyles['animation-duration'] = _elem.animation_duration + 's';\n\t\t\t}\n\t\t\treturn styles;\n\t\t}\n\n\t\tself.getParallaxHtml = function() {\n\t\t\treturn '<div ng-if=\"mgz.isEnabledParallax()\" ng-class=\"mgz.getParallaxClasses()\" data-parallax-mouse-parallax-size=\"{{ $root.magezonBuilderService.getDesignValue(element, \\'mouse_parallax_size\\') }}\" data-parallax-mouse-parallax-speed=\"{{ $root.magezonBuilderService.getDesignValue(element, \\'mouse_parallax_speed\\') }}\"><div class=\"mgz-parallax-inner\" after-render=\"mgz.afterParallaxRender()\"></div></div>';\n\t\t}\n\n\t\t$scope.addHistory = function(type, subtitle) {\n\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\ttype: type,\n\t\t\t\ttitle: element.builder.name,\n\t\t\t\tsubtitle: subtitle\n\t\t\t});\n\t\t}\n\n\t\t$scope.isLoaded = function() {\n\t\t\treturn $scope.loaded;\n\t\t}\n\n\t\t$scope.getDesignValue = function(key) {\n\t\t\treturn magezonBuilderService.getDesignValue(element, key);\t\n\t\t}\n\n\t\t$timeout(function() {\n\t\t\t$scope.loaded = true;\n\t\t\tself.afterRender();\n\t\t}, 500);\n\n\t\tsetTimeout(function() {\n\t\t\twindow.mgzParallaxMouse(true);\n\t\t}, 3000);\n\t\t\n\t\treturn angular.copy(this);\n\t};\n\n\treturn baseCtrl;\n});","Magezon_Builder/js/controllers/list.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar listCtrl = function(\n\t\t$scope,\n\t\t$rootScope,\n\t\tmagezonBuilderService,\n\t\telementManager,\n\t\t$sce,\n\t\t$controller,\n\t\t$timeout,\n\t\tmagezonBuilderUrl\n\t) {\n\n\tvar parent = $controller('baseController', {$scope: $scope});\n\tangular.extend(this, parent);\n\n\tvar self = this;\n\n\tself.getElemName = function(type) {\n        if (!$.isArray($scope.elementCache[type])) {\n            $scope.elementCache[type] = [];\n        }\n\n        var elemName = type + '-' + $scope.getRandomInt();\n        elemName = elemName.replace('bfb_', '');\n\n        while (($.inArray(elemName, $scope.elementCache[type]) !== -1)) {\n            elemName = type + '-' + $scope.getRandomInt();\n        }\n        $scope.elementCache[type].push(elemName);\n\n        return elemName;\n    }\n\n\t// ADD\n\tself.addElement = function(type, parent, openModal, data, index, replace) {\n\t\tvar builderElement = self.getBuilderElement(type);\n\t\tvar elem = elementManager.getNewElement(type);\n\t\tif (data) elem = angular.extend(elem, data);\n\n\t\tif (builderElement.children) {\n\t\t\tvar childrenCount = builderElement.childrenCount ? builderElement.childrenCount : 1;\n\t\t\tfor (var i = 0; i < childrenCount; i++) {\n\t\t\t\tvar newElement = self.addElement(builderElement.children, elem, false);\n\t\t\t\tif (newElement && newElement.hasOwnProperty('title')) {\n\t\t\t\t\tnewElement['title'] = newElement['title'] + ' ' + (i+1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (parent) {\n\t\t\tif (_.isNumber(index)) {\n\t\t\t\tif (replace) {\n\t\t\t\t\tparent.elements.splice(index, 1, elem);\n\t\t\t\t} else {\n\t\t\t\t\tparent.elements.splice(index, 0, elem);\t\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tparent.elements.push(elem);\t\n\t\t\t}\n\t\t} else {\n\t\t\tif (_.isNumber(index)) {\n\t\t\t\tif (replace) {\n\t\t\t\t\t$scope.element.elements.splice(index, 1, elem);\n\t\t\t\t} else {\n\t\t\t\t\t$scope.element.elements.splice(index, 0, elem);\t\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$scope.element.elements.push(elem);\t\n\t\t\t}\n\t\t}\n\n\t\tif (openModal && (builderElement.hasOwnProperty('newOpenModal') && builderElement.newOpenModal || !builderElement.hasOwnProperty('newOpenModal'))) {\n\t\t\tself.editElement(elem);\t\n\t\t}\n\n\t\t$scope.addAddBlock();\n\n\t\treturn elem;\n\t}\n\n\t$scope.$on('addNewElment', function(e, item) {\n\t\tvar type           = item.type;\n\t\tvar mainElement    = $rootScope.builderConfig.mainElement;\n\t\tvar builderElement = self.getBuilderElement(type);\n\t\tvar openModal      = builderElement.hasOwnProperty('openModal') ? builderElement.openModal : true;\n\t\tif (!_.isNull(item.openModal) && !_.isUndefined(item.openModal)) openModal = item.openModal;\n\t\tvar data = item.data ? item.data : {};\n\t\tvar elem, historyType;\n\t\tif (item.elem) {\n\t\t\tif ((item.action == 'before' || item.action == 'after' || item.action == 'replace')) {\n\t\t\t\tvar index = $scope.getElemIndex(item.elem);\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\tswitch(item.action) {\n\t\t\t\t\t\tcase 'before':\n\t\t\t\t\t\t\thistoryType = 'inserted_before';\n\t\t\t\t\t\t\tif (self.isProfile() && type != mainElement) {\n\t\t\t\t\t\t\t\tvar row = self.addElement(mainElement, null, false, {}, index);\n\t\t\t\t\t\t\t\telem = self.addElement(type, row['elements'][0], openModal, data);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\telem = self.addElement(type, null, openModal, data, index);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'after':\n\t\t\t\t\t\t\thistoryType = 'inserted_after';\n\t\t\t\t\t\t\tif (self.isProfile() && type != mainElement) {\n\t\t\t\t\t\t\t\tvar row = self.addElement(mainElement, null, false, {}, index + 1);\n\t\t\t\t\t\t\t\telem = self.addElement(type, row['elements'][0], openModal, data);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\telem = self.addElement(type, null, openModal, data, index + 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'replace':\n\t\t\t\t\t\t\thistoryType = 'replaced';\n\t\t\t\t\t\t\tif (self.isProfile() && type != mainElement) {\n\t\t\t\t\t\t\t\tvar row = self.addElement(mainElement, null, false, {}, index, true);\n\t\t\t\t\t\t\t\telem = self.addElement(type, row['elements'][0], openModal, data);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\telem = self.addElement(type, null, openModal, data, index, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (item.action == 'append' && item.elem.id == $scope.element.id) {\n\t\t\t\telem = self.addElement(type, null, openModal, data);\n\t\t\t\thistoryType = 'added';\n\t\t\t}\n\t\t} else {\n\t\t\tif (self.isProfile()) {\n\t\t\t\thistoryType = 'added';\n\t\t\t\tif (type === mainElement) {\n\t\t\t\t\telem = self.addElement(type, null, openModal, data);\t\n\t\t\t\t} else {\n\t\t\t\t\tvar row = self.addElement(mainElement, null, false, {}, index, true);\n\t\t\t\t\telem = self.addElement(type, row['elements'][0], openModal, data);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (elem && historyType && (!data.hasOwnProperty('history') || (data.hasOwnProperty('history') && data.history))) {\n\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\ttype: historyType,\n\t\t\t\ttitle: elem.builder.name\n\t\t\t});\n\t\t\t$rootScope.$broadcast('afterAddElement', elem);\n\t\t}\n\t});\n\n\t// REMOVE\n\t$scope.$on('removeElement', function(e, elem, data) {\n\t\tself.removeElement(elem, data);\n\t});\n\n\tself.removeElement = function(elem, data) {\n\t\tif ($scope.isChildren(elem)) {\n\t\t\tvar index = $scope.getElemIndex(elem);\n\t\t\t$rootScope.$broadcast('beforeRemoveElement', elem);\n\t\t\tvar _elem = $scope.element.elements.splice(index, 1)[0];\n\t\t\t$rootScope.$broadcast('removeParentElement', $scope.element);\n\t\t\tif (!data || (data && (data.hasOwnProperty('history') && data.history) || !data.hasOwnProperty('history'))) {\n\t\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\t\ttype: 'removed',\n\t\t\t\t\ttitle: _elem.builder.name\n\t\t\t\t});\n\t\t\t}\n\t\t\t$rootScope.$broadcast('afterRemoveElement', _elem);\n\t\t\t$scope.addAddBlock();\n\t\t}\n\t}\n\n\t$scope.$on('removeParentElement', function(e, elem) {\n\t\tself.removeParentElement(elem);\n\t});\n\n\tself.removeParentElement = function(parent) {\n\t\tif ($scope.isChildren(parent)) {\n\t\t\tvar index = $scope.getElemIndex(parent);\n\t\t\tif (parent.builder.children && !parent.elements.length) {\n\t\t\t\t$scope.element.elements.splice(index, 1);\n\t\t\t}\n\t\t}\n\t}\n\n\t// CLONE\n\t$scope.$on('cloneElement', function(e, elem) {\n\t\tself.cloneElement(elem);\n\t});\n\n\tself.cloneElement = function(elem) {\n\t\tif ($scope.isChildren(elem)) {\n\t\t\tvar index   = $scope.getElemIndex(elem);\n\t\t\tvar newElem = angular.copy(elem);\n\t\t\telementManager.prepareElement(newElem, true);\n\t\t\t$scope.element.elements.splice(index + 1, 0, newElem);\n\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\ttype: 'duplicated',\n\t\t\t\ttitle: newElem.builder.name\n\t\t\t});\n\t\t\t$rootScope.$broadcast('afterCloneElement', newElem);\n\t\t}\n\t}\n\n\t// CHANGE ELEMENT LAYOUT\n\t$scope.$on('changeElementLayout', function(e, data) {\n\t\tself.changeElementLayout(data);\n\t});\n\n\tself.changeElementLayout = function(data) {\n\t\tif ($scope.element.id === data.elem.id) {\n\t\t\tvar types = data.type.split('_');\n\t\t\tfor (var i = 0; i < types.length; i++) {\n\t\t\t\tvar _type = types[i].split('');\n\t\t\t\tvar elem  = $scope.element.elements[i];\n\t\t\t\tif (!elem) {\n\t\t\t\t\telem = self.addElement($scope.element.builder.children, $scope.element);\n\t\t\t\t}\n\t\t\t\tvar width;\n\t\t\t\tif (_type[1]==5) {\n\t\t\t\t\twidth = 15\n\t\t\t\t} else {\n\t\t\t\t\twidth = 12 * _type[0] / _type[1];\n\t\t\t\t}\n\t\t\t\tmagezonBuilderService.setResponiveValue(elem, 'size', width);\n\t\t\t}\n\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\ttype: 'changed',\n\t\t\t\ttitle: $scope.element.builder.name + ' Layout'\n\t\t\t});\n\t\t}\n\t}\n\n\t// Open Navigator Modal\n\t$scope.$on('openElementNavigator', function(e, elem) {\n\t\tif ($scope.isChildren(elem)) {\n\t\t\t$rootScope.activedElement = elem;\n\t\t\telem.builder.actived = true;\n\t\t\tvar parents = self.getParents();\n\t\t\tif ($scope.element.id) parents.push($scope.element);\n\t\t\tangular.forEach(parents, function(_elem) {\n\t\t\t\t_elem.builder.navigator.listVisible = true;\n\t\t\t});\n\t\t\t$rootScope.builderConfig.navigatorListVisible = true;\n\t\t\t$rootScope.$broadcast('openNavigatorModal');\n\t\t}\n\t});\n\n\t$scope.$on('editedElement', function(e, elem) {\n\t\tif ($scope.isChildren(elem)) {\n\t\t\tself.loadLiveElement(elem);\n\t\t}\n\t});\n\n\t// REMOVE\n\tvar move = function (origin, destination) {\n        var temp = $scope.element.elements[destination];\n        $scope.element.elements[destination] = $scope.element.elements[origin];\n        $scope.element.elements[origin] = temp;\n    };\n\n\t$scope.$on('moveUpElement', function(e, elem) {\n\t\tself.moveUpElement(elem);\n\t\t$rootScope.$broadcast('resetElement');\n\t});\n\n\tself.moveUpElement = function(elem) {\n\t\tif ($scope.isChildren(elem)) {\n\t\t\tvar index = $scope.getElemIndex(elem);\n\t\t\tif (index>0) {\n\t\t\t\tmove(index, index - 1);\n\t\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\t\ttype: 'move_up',\n\t\t\t\t\ttitle: elem.builder.name\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t$scope.$on('moveDownElement', function(e, elem) {\n\t\tself.moveDownElement(elem);\n\t});\n\n\tself.moveDownElement = function(elem) {\n\t\tif ($scope.isChildren(elem)) {\n\t\t\tvar index = $scope.getElemIndex(elem);\n\t\t\tif (index<$scope.element.elements.length-1) {\n\t\t\t\tmove(index, index + 1);\n\t\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\t\ttype: 'move_down',\n\t\t\t\t\ttitle: elem.builder.name\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t$timeout(function() {\n\t\t$scope.addAddBlock();\n\t}, 100);\n\n\treturn angular.copy(self);\n};\n\nreturn listCtrl;\n\n});","Magezon_Builder/js/controllers/toolbar.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar baseCtrl = function(\n\t\t$scope,\n\t\t$timeout\n\t) {\n\t\tvar self = this;\n\t\t$scope.headingTypes = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n\t\t$scope.alignTypes   = ['left', 'center', 'right'];\n\n\t\t$scope.colorPickerConfig = {\n\t\t\tappendTo: \"parent\"\n\t\t}\n\n\t\t$scope.changeToolbar = function(e, value, key) {\n\t\t\tif (angular.isFunction($scope.updatedkey)) {\n\t\t\t\t$scope.updatedkey(key, value);\n\t\t\t}\n\t\t\t$('.' + $scope.element.id).find('.mgz-contenteditable-element').trigger('focus');\n\t\t\te.stopPropagation();\n\t\t}\n\n\t\t$scope.outsideClick = function() {\n\t\t\t$scope.element.builder.editing = false;\n\t\t}\n\t\t\n\t\treturn angular.copy(this);\n\t};\n\n\treturn baseCtrl;\n});","Magezon_Builder/js/vimeo/player.js":"/*! @vimeo/player v2.8.1 | (c) 2019 Vimeo | MIT License | https://github.com/vimeo/player.js */\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):((e=e||self).Vimeo=e.Vimeo||{},e.Vimeo.Player=t())}(this,function(){\"use strict\";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var e=\"undefined\"!=typeof global&&\"[object global]\"==={}.toString.call(global);function i(e,t){return 0===e.indexOf(t.toLowerCase())?e:\"\".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function s(e){return/^(https?:)?\\/\\/((player|www)\\.)?vimeo\\.com(?=$|\\/)/.test(e)}function l(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=t.url,o=n||r;if(!o)throw new Error(\"An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.\");if(e=o,!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e)return\"https://vimeo.com/\".concat(o);if(s(o))return o.replace(\"http:\",\"https:\");if(n)throw new TypeError(\"\u201c\".concat(n,\"\u201d is not a valid video id.\"));throw new TypeError(\"\u201c\".concat(o,\"\u201d is not a vimeo.com url.\"))}var t=void 0!==Array.prototype.indexOf,n=\"undefined\"!=typeof window&&void 0!==window.postMessage;if(!(e||t&&n))throw new Error(\"Sorry, the Vimeo Player API is not available in this browser.\");var o=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};!function(e){if(!e.WeakMap){var n=Object.prototype.hasOwnProperty,o=function(e,t,n){Object.defineProperty?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n}):e[t]=n};e.WeakMap=function(){function e(){if(void 0===this)throw new TypeError(\"Constructor WeakMap requires 'new'\");if(o(this,\"_id\",\"_WeakMap\"+\"_\"+t()+\".\"+t()),0<arguments.length)throw new TypeError(\"WeakMap iterable is not supported\")}function r(e,t){if(!i(e)||!n.call(e,\"_id\"))throw new TypeError(t+\" method called on incompatible receiver \"+typeof e)}function t(){return Math.random().toString().substring(2)}return o(e.prototype,\"delete\",function(e){if(r(this,\"delete\"),!i(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)&&(delete e[this._id],!0)}),o(e.prototype,\"get\",function(e){if(r(this,\"get\"),i(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}}),o(e.prototype,\"has\",function(e){if(r(this,\"has\"),!i(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)}),o(e.prototype,\"set\",function(e,t){if(r(this,\"set\"),!i(e))throw new TypeError(\"Invalid value used as weak map key\");var n=e[this._id];return n&&n[0]===e?n[1]=t:o(e,this._id,[e,t]),this}),o(e,\"_polyfill\",!0),e}()}function i(e){return Object(e)===e}}(\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:o);var a,f=(function(e){var t,n,r;r=function(){var t,a,n,e=Object.prototype.toString,r=\"undefined\"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},\"x\",{}),t=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==r})}}catch(e){t=function(e,t,n){return e[t]=n,e}}function i(e,t){n.add(e,t),a||(a=r(n.drain))}function u(e){var t,n=typeof e;return null==e||\"object\"!=n&&\"function\"!=n||(t=e.then),\"function\"==typeof t&&t}function c(){for(var e=0;e<this.chain.length;e++)o(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function o(e,t,n){var r,o;try{!1===t?n.reject(e.msg):(r=!0===t?e.msg:t.call(void 0,e.msg))===n.promise?n.reject(TypeError(\"Promise-chain cycle\")):(o=u(r))?o.call(r,n.resolve,n.reject):n.resolve(r)}catch(e){n.reject(e)}}function s(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,0<t.chain.length&&i(c,t))}function l(e,n,r,o){for(var t=0;t<n.length;t++)!function(t){e.resolve(n[t]).then(function(e){r(t,e)},o)}(t)}function f(e){this.def=e,this.triggered=!1}function d(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function h(e){if(\"function\"!=typeof e)throw TypeError(\"Not a function\");if(0!==this.__NPO__)throw TypeError(\"Not a promise\");this.__NPO__=1;var r=new d(this);this.then=function(e,t){var n={success:\"function\"!=typeof e||e,failure:\"function\"==typeof t&&t};return n.promise=new this.constructor(function(e,t){if(\"function\"!=typeof e||\"function\"!=typeof t)throw TypeError(\"Not a function\");n.resolve=e,n.reject=t}),r.chain.push(n),0!==r.state&&i(c,r),n.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,function(e){(function e(n){var r,o=this;if(!o.triggered){o.triggered=!0,o.def&&(o=o.def);try{(r=u(n))?i(function(){var t=new f(o);try{r.call(n,function(){e.apply(t,arguments)},function(){s.apply(t,arguments)})}catch(e){s.call(t,e)}}):(o.msg=n,o.state=1,0<o.chain.length&&i(c,o))}catch(e){s.call(new f(o),e)}}}).call(r,e)},function(e){s.call(r,e)})}catch(e){s.call(r,e)}}n=function(){var n,r,o;function i(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(e,t){o=new i(e,t),r?r.next=o:n=o,r=o,o=void 0},drain:function(){var e=n;for(n=r=a=void 0;e;)e.fn.call(e.self),e=e.next}}}();var v=t({},\"constructor\",h,!1);return t(h.prototype=v,\"__NPO__\",0,!1),t(h,\"resolve\",function(n){return n&&\"object\"==typeof n&&1===n.__NPO__?n:new this(function(e,t){if(\"function\"!=typeof e||\"function\"!=typeof t)throw TypeError(\"Not a function\");e(n)})}),t(h,\"reject\",function(n){return new this(function(e,t){if(\"function\"!=typeof e||\"function\"!=typeof t)throw TypeError(\"Not a function\");t(n)})}),t(h,\"all\",function(t){var a=this;return\"[object Array]\"!=e.call(t)?a.reject(TypeError(\"Not an array\")):0===t.length?a.resolve([]):new a(function(n,e){if(\"function\"!=typeof n||\"function\"!=typeof e)throw TypeError(\"Not a function\");var r=t.length,o=Array(r),i=0;l(a,t,function(e,t){o[e]=t,++i===r&&n(o)},e)})}),t(h,\"race\",function(t){var r=this;return\"[object Array]\"!=e.call(t)?r.reject(TypeError(\"Not an array\")):new r(function(n,e){if(\"function\"!=typeof n||\"function\"!=typeof e)throw TypeError(\"Not a function\");l(r,t,function(e,t){n(t)},e)})}),h},(n=o)[t=\"Promise\"]=n[t]||r(),e.exports&&(e.exports=n[t])}(a={exports:{}},a.exports),a.exports),d=new WeakMap;function u(e,t,n){var r=d.get(e.element)||{};t in r||(r[t]=[]),r[t].push(n),d.set(e.element,r)}function c(e,t){return(d.get(e.element)||{})[t]||[]}function h(e,t,n){var r=d.get(e.element)||{};if(!r[t])return!0;if(!n)return r[t]=[],d.set(e.element,r),!0;var o=r[t].indexOf(n);return-1!==o&&r[t].splice(o,1),d.set(e.element,r),r[t]&&0===r[t].length}var v=[\"autopause\",\"autoplay\",\"background\",\"byline\",\"color\",\"height\",\"id\",\"loop\",\"maxheight\",\"maxwidth\",\"muted\",\"playsinline\",\"portrait\",\"responsive\",\"speed\",\"title\",\"transparent\",\"url\",\"width\"];function p(r){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return v.reduce(function(e,t){var n=r.getAttribute(\"data-vimeo-\".concat(t));return(n||\"\"===n)&&(e[t]=\"\"===n?1:n),e},e)}function y(e,t){var n=e.html;if(!t)throw new TypeError(\"An element must be provided\");if(null!==t.getAttribute(\"data-vimeo-initialized\"))return t.querySelector(\"iframe\");var r=document.createElement(\"div\");return r.innerHTML=n,t.appendChild(r.firstChild),t.setAttribute(\"data-vimeo-initialized\",\"true\"),t.querySelector(\"iframe\")}function m(i){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},u=2<arguments.length?arguments[2]:void 0;return new Promise(function(t,n){if(!s(i))throw new TypeError(\"\u201c\".concat(i,\"\u201d is not a vimeo.com url.\"));var e=\"https://vimeo.com/api/oembed.json?url=\".concat(encodeURIComponent(i),\"&domain=\").concat(window.location.hostname);for(var r in a)a.hasOwnProperty(r)&&(e+=\"&\".concat(r,\"=\").concat(encodeURIComponent(a[r])));var o=\"XDomainRequest\"in window?new XDomainRequest:new XMLHttpRequest;o.open(\"GET\",e,!0),o.onload=function(){if(404!==o.status)if(403!==o.status)try{var e=JSON.parse(o.responseText);if(403===e.domain_status_code)return y(e,u),void n(new Error(\"\u201c\".concat(i,\"\u201d is not embeddable.\")));t(e)}catch(e){n(e)}else n(new Error(\"\u201c\".concat(i,\"\u201d is not embeddable.\")));else n(new Error(\"\u201c\".concat(i,\"\u201d was not found.\")))},o.onerror=function(){var e=o.status?\" (\".concat(o.status,\")\"):\"\";n(new Error(\"There was an error fetching the embed code from Vimeo\".concat(e,\".\")))},o.send()})}function g(e){if(\"string\"==typeof e)try{e=JSON.parse(e)}catch(e){return console.warn(e),{}}return e}function w(e,t,n){if(e.element.contentWindow&&e.element.contentWindow.postMessage){var r={method:t};void 0!==n&&(r.value=n);var o=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\\d+).*$/,\"$1\"));8<=o&&o<10&&(r=JSON.stringify(r)),e.element.contentWindow.postMessage(r,e.origin)}}function b(n,r){var t,e=[];if((r=g(r)).event){if(\"error\"===r.event)c(n,r.data.method).forEach(function(e){var t=new Error(r.data.message);t.name=r.data.name,e.reject(t),h(n,r.data.method,e)});e=c(n,\"event:\".concat(r.event)),t=r.data}else if(r.method){var o=function(e,t){var n=c(e,t);if(n.length<1)return!1;var r=n.shift();return h(e,t,r),r}(n,r.method);o&&(e.push(o),t=r.value)}e.forEach(function(e){try{if(\"function\"==typeof e)return void e.call(n,t);e.resolve(t)}catch(e){}})}var k=new WeakMap,E=new WeakMap,Player=function(){function Player(u){var e,c=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,Player),window.jQuery&&u instanceof jQuery&&(1<u.length&&window.console&&console.warn&&console.warn(\"A jQuery object with multiple elements was passed, using the first element.\"),u=u[0]),\"undefined\"!=typeof document&&\"string\"==typeof u&&(u=document.getElementById(u)),e=u,!Boolean(e&&1===e.nodeType&&\"nodeName\"in e&&e.ownerDocument&&e.ownerDocument.defaultView))throw new TypeError(\"You must pass either a valid element or a valid id.\");var r=u.ownerDocument.defaultView;if(\"IFRAME\"!==u.nodeName){var t=u.querySelector(\"iframe\");t&&(u=t)}if(\"IFRAME\"===u.nodeName&&!s(u.getAttribute(\"src\")||\"\"))throw new Error(\"The player element passed isn\u2019t a Vimeo embed.\");if(k.has(u))return k.get(u);this.element=u,this.origin=\"*\";var o=new f(function(i,a){var e=function(e){if(s(e.origin)&&c.element.contentWindow===e.source){\"*\"===c.origin&&(c.origin=e.origin);var t=g(e.data);if(t&&\"error\"===t.event&&t.data&&\"ready\"===t.data.method){var n=new Error(t.data.message);return n.name=t.data.name,void a(n)}var r=t&&\"ready\"===t.event,o=t&&\"ping\"===t.method;if(r||o)return c.element.setAttribute(\"data-ready\",\"true\"),void i();b(c,t)}};if(r.addEventListener?r.addEventListener(\"message\",e,!1):r.attachEvent&&r.attachEvent(\"onmessage\",e),\"IFRAME\"!==c.element.nodeName){var t=p(u,n);m(l(t),t,u).then(function(e){var t,n,r,o=y(e,u);return c.element=o,c._originalElement=u,t=u,n=o,r=d.get(t),d.set(n,r),d.delete(t),k.set(c.element,c),e}).catch(a)}});return E.set(this,o),k.set(this.element,this),\"IFRAME\"===this.element.nodeName&&w(this,\"ping\"),this}var e,t,n;return e=Player,(t=[{key:\"callMethod\",value:function(n){var r=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new f(function(e,t){return r.ready().then(function(){u(r,n,{resolve:e,reject:t}),w(r,n,o)}).catch(t)})}},{key:\"get\",value:function(n){var r=this;return new f(function(e,t){return n=i(n,\"get\"),r.ready().then(function(){u(r,n,{resolve:e,reject:t}),w(r,n)}).catch(t)})}},{key:\"set\",value:function(n,r){var o=this;return new f(function(e,t){if(n=i(n,\"set\"),null==r)throw new TypeError(\"There must be a value to set.\");return o.ready().then(function(){u(o,n,{resolve:e,reject:t}),w(o,n,r)}).catch(t)})}},{key:\"on\",value:function(e,t){if(!e)throw new TypeError(\"You must pass an event name.\");if(!t)throw new TypeError(\"You must pass a callback function.\");if(\"function\"!=typeof t)throw new TypeError(\"The callback must be a function.\");0===c(this,\"event:\".concat(e)).length&&this.callMethod(\"addEventListener\",e).catch(function(){}),u(this,\"event:\".concat(e),t)}},{key:\"off\",value:function(e,t){if(!e)throw new TypeError(\"You must pass an event name.\");if(t&&\"function\"!=typeof t)throw new TypeError(\"The callback must be a function.\");h(this,\"event:\".concat(e),t)&&this.callMethod(\"removeEventListener\",e).catch(function(e){})}},{key:\"loadVideo\",value:function(e){return this.callMethod(\"loadVideo\",e)}},{key:\"ready\",value:function(){var e=E.get(this)||new f(function(e,t){t(new Error(\"Unknown player. Probably unloaded.\"))});return f.resolve(e)}},{key:\"addCuePoint\",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod(\"addCuePoint\",{time:e,data:t})}},{key:\"removeCuePoint\",value:function(e){return this.callMethod(\"removeCuePoint\",e)}},{key:\"enableTextTrack\",value:function(e,t){if(!e)throw new TypeError(\"You must pass a language.\");return this.callMethod(\"enableTextTrack\",{language:e,kind:t})}},{key:\"disableTextTrack\",value:function(){return this.callMethod(\"disableTextTrack\")}},{key:\"pause\",value:function(){return this.callMethod(\"pause\")}},{key:\"play\",value:function(){return this.callMethod(\"play\")}},{key:\"unload\",value:function(){return this.callMethod(\"unload\")}},{key:\"destroy\",value:function(){var t=this;return new f(function(e){E.delete(t),k.delete(t.element),t._originalElement&&(k.delete(t._originalElement),t._originalElement.removeAttribute(\"data-vimeo-initialized\")),t.element&&\"IFRAME\"===t.element.nodeName&&t.element.parentNode&&t.element.parentNode.removeChild(t.element),e()})}},{key:\"getAutopause\",value:function(){return this.get(\"autopause\")}},{key:\"setAutopause\",value:function(e){return this.set(\"autopause\",e)}},{key:\"getBuffered\",value:function(){return this.get(\"buffered\")}},{key:\"getColor\",value:function(){return this.get(\"color\")}},{key:\"setColor\",value:function(e){return this.set(\"color\",e)}},{key:\"getCuePoints\",value:function(){return this.get(\"cuePoints\")}},{key:\"getCurrentTime\",value:function(){return this.get(\"currentTime\")}},{key:\"setCurrentTime\",value:function(e){return this.set(\"currentTime\",e)}},{key:\"getDuration\",value:function(){return this.get(\"duration\")}},{key:\"getEnded\",value:function(){return this.get(\"ended\")}},{key:\"getLoop\",value:function(){return this.get(\"loop\")}},{key:\"setLoop\",value:function(e){return this.set(\"loop\",e)}},{key:\"getPaused\",value:function(){return this.get(\"paused\")}},{key:\"getPlaybackRate\",value:function(){return this.get(\"playbackRate\")}},{key:\"setPlaybackRate\",value:function(e){return this.set(\"playbackRate\",e)}},{key:\"getPlayed\",value:function(){return this.get(\"played\")}},{key:\"getSeekable\",value:function(){return this.get(\"seekable\")}},{key:\"getSeeking\",value:function(){return this.get(\"seeking\")}},{key:\"getTextTracks\",value:function(){return this.get(\"textTracks\")}},{key:\"getVideoEmbedCode\",value:function(){return this.get(\"videoEmbedCode\")}},{key:\"getVideoId\",value:function(){return this.get(\"videoId\")}},{key:\"getVideoTitle\",value:function(){return this.get(\"videoTitle\")}},{key:\"getVideoWidth\",value:function(){return this.get(\"videoWidth\")}},{key:\"getVideoHeight\",value:function(){return this.get(\"videoHeight\")}},{key:\"getVideoUrl\",value:function(){return this.get(\"videoUrl\")}},{key:\"getVolume\",value:function(){return this.get(\"volume\")}},{key:\"setVolume\",value:function(e){return this.set(\"volume\",e)}}])&&r(e.prototype,t),n&&r(e,n),Player}();return e||(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document,t=[].slice.call(e.querySelectorAll(\"[data-vimeo-id], [data-vimeo-url]\")),n=function(e){\"console\"in window&&console.error&&console.error(\"There was an error creating an embed: \".concat(e))};t.forEach(function(t){try{if(null!==t.getAttribute(\"data-vimeo-defer\"))return;var e=p(t);m(l(e),e,t).then(function(e){return y(e,t)}).catch(n)}catch(e){n(e)}})}(),function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var e=function(e){if(s(e.origin)&&e.data&&\"spacechange\"===e.data.event)for(var t=r.querySelectorAll(\"iframe\"),n=0;n<t.length;n++)if(t[n].contentWindow===e.source){t[n].parentElement.style.paddingBottom=\"\".concat(e.data.data[0].bottom,\"px\");break}};window.addEventListener?window.addEventListener(\"message\",e,!1):window.attachEvent&&window.attachEvent(\"onmessage\",e)}}()),Player});","Magezon_Builder/js/modal/settings.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\ttemplateUrl: 'Magezon_Builder/js/templates/modal/form.html',\n\t\tcontroller: function(\n\t\t\t$rootScope, \n\t\t\t$scope, \n\t\t\t$uibModalInstance, \n\t\t\t$controller, \n\t\t\tform,\n\t\t\tmodal,\n\t\t\tmagezonBuilderForm\n\t\t) {\n\t\t\tvar parent = $controller('modalBaseController', {$scope: $scope, $uibModalInstance: $uibModalInstance, modal: modal, form: form});\n\t\t\tangular.extend(this, parent);\n\n\t\t\tvar self = this;\n\n\t\t\t$scope.$emit('enableModalSpinner');\n\t\t\tmagezonBuilderForm.getForm('modals.settings', function(tabs) {\n\t\t\t\tself.tabs = tabs;\n\t\t\t\tself.model = angular.copy($rootScope.profile);\n\t\t\t\t$scope.$emit('disableModalSpinner');\n\t\t\t});\n\n\t\t\tself.onSubmit = function() {\n\t\t\t\tangular.merge($rootScope.profile, self.model);\n\t\t\t\t$rootScope.$broadcast('exportShortcode');\n\t\t\t\t$uibModalInstance.close(self.model);\n\t\t\t}\n\t\t}\n\t}\n});","Magezon_Builder/js/modal/elements.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\ttemplateUrl: 'Magezon_Builder/js/templates/modal/elements.html',\n\t\tcontroller: function(\n\t\t\t$rootScope, \n\t\t\t$scope, \n\t\t\t$uibModalInstance, \n\t\t\t$controller, \n\t\t\tform,\n\t\t\tmodal,\n\t\t\telementManager,\n\t\t\tmagezonBuilderModal\n\t\t) {\n\t\t\tvar parent = $controller('modalBaseController', {$scope: $scope, $uibModalInstance: $uibModalInstance, modal: modal, form: form});\n\t\t\tangular.extend(this, parent);\n\n\t\t\tvar self = this;\n\t\t\tself.allTab = {\n\t\t\t\tname: 'All',\n\t\t\t\ttype: 'all',\n\t\t\t\telements: _.filter(elementManager.elements, function(element) {\n\t\t\t\t\treturn elementManager.isVisibleElement(element);\n\t\t\t\t})\n\t\t\t};\n\n\t\t\tself.search         = '';\n\t\t\tself.searchElements = [];\n\t\t\tself.model          = {};\n\t\t\tself.tabs           = {};\n\t\t\tself.tabs['all']    = angular.copy(self.allTab);\n\n\t\t\t_.each(elementManager.groups, function(group) {\n\t\t\t\tgroup['elements'] = _.filter(self.allTab.elements, function(element) {\n\t\t\t\t\treturn element.group == group.type;\n\t\t\t\t});\n\t\t\t\tif (group.elements.length) self.tabs[group.type] = group;\n\t\t\t});\n\n\t\t\tself.clearSearch = function() {\n\t\t\t\tself.search         = '';\n\t\t\t\tself.searchElements = [];\n\t\t\t\tself.tabs['all']    = angular.copy(self.allTab);\n\t\t\t}\n\n\t\t\tself.activeTab = function(tab) {\n\t\t\t\tself.clearSearch();\n\t\t\t}\n\n\t\t\tself.addElement = function(element) {\n\t\t\t\t$uibModalInstance.dismiss('cancel');\n\t\t\t\t$rootScope.$broadcast('addNewElment', {\n\t\t\t\t\telem: magezonBuilderModal.getElement(),\n\t\t\t\t\ttype: element.type,\n\t\t\t\t\taction: magezonBuilderModal.getAction(),\n\t\t\t\t\topenModal: magezonBuilderModal.getOpenModal(),\n\t\t\t\t\tdata: magezonBuilderModal.getData()\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n});","Magezon_Builder/js/modal/profileShortcode.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\ttemplateUrl: 'Magezon_Builder/js/templates/modal/form.html',\n\t\tcontroller: function(\n\t\t\t$rootScope, \n\t\t\t$scope, \n\t\t\t$uibModalInstance, \n\t\t\t$controller, \n\t\t\t$timeout,\n\t\t\tform,\n\t\t\tmodal,\n\t\t\tprofileManager,\n\t\t\tmagezonBuilderForm,\n\t\t\telementManager\n\t\t) {\n\t\t\tvar parent = $controller('modalBaseController', {$scope: $scope, $uibModalInstance: $uibModalInstance, modal: modal, form: form});\n\t\t\tangular.extend(this, parent);\n\n\t\t\tvar self = this;\n\t\t\tvar elements = angular.toJson(profileManager.getJsonElements());\n\t\t\tself.model = {\n\t\t\t\tshortcode: elements == '[]' ? '' : elements\n\t\t\t};\n\n\t\t\t$scope.$emit('enableModalSpinner');\n\t\t\tmagezonBuilderForm.getForm('modals.profileShortcode', function(tabs) {\n\t\t\t\tself.tabs = tabs;\n\t\t\t\t$scope.$emit('disableModalSpinner');\n\t\t\t});\n\n\t\t\tself.onSubmit = function() {\n\t\t\t\ttry {\n\t\t\t\t\tvar shortcode = self.model.shortcode ? self.model.shortcode : [];\n\t\t\t\t\tvar elements = elementManager.prepareElements(angular.fromJson(shortcode));\n\t\t\t\t\tprofileManager.updateElements(elements);\n\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\t$uibModalInstance.dismiss('cancel');\n\t\t\t\t\t}, 100);\n\t\t\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\t\t\ttype: 'edited',\n\t\t\t\t\t\ttitle: 'Profile Shortcode'\n\t\t\t\t\t});\n\t\t\t\t} catch (e) {\n\t\t\t\t\talert('Invalid JSON string');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});","Magezon_Builder/js/modal/navigator.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\ttemplateUrl: 'Magezon_Builder/js/templates/modal/navigator.html',\n\t\tcontroller: function(\n\t\t\t$rootScope, \n\t\t\t$scope, \n\t\t\t$uibModalInstance, \n\t\t\t$controller,\n\t\t\tform, \n\t\t\tmodal\n\t\t) {\n\t\t\tvar parent = $controller('modalBaseController', {$scope: $scope, $uibModalInstance: $uibModalInstance, modal: modal, form: form});\n\t\t\tangular.extend(this, parent);\n\n\t\t\t$scope.listVisible = $rootScope.builderConfig.navigatorListVisible;\n\t\t\t$scope.expandAll = function() {\n\t\t\t\t$scope.listVisible = !$scope.listVisible;\n\t\t\t\t$rootScope.builderConfig.navigatorListVisible = $scope.listVisible;\n\t\t\t\tvar parents = {};\n\t\t\t\tvar activeListControl = function(elements, status) {\n\t\t\t\t\tangular.forEach(elements, function(element) {\n\t\t\t\t\t\telement.builder.navigator.listVisible = status;\n\t\t\t\t\t\tif (element.elements) {\n\t\t\t\t\t\t\tactiveListControl(element.elements, status);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tactiveListControl($scope.profile.elements, $scope.listVisible);\n\t\t\t}\n\t\t}\n\t}\n});","Magezon_Builder/js/modal/form.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\ttemplateUrl: 'Magezon_Builder/js/templates/modal/form.html',\n\t\tcontroller: function(\n\t\t\t$rootScope, \n\t\t\t$scope, \n\t\t\t$uibModalInstance, \n\t\t\t$controller,\n\t\t\tform,\n\t\t\tmodal,\n\t\t\tmagezonBuilderForm\n\t\t) {\n\t\t\tvar parent = $controller('modalBaseController', {$scope: $scope, $uibModalInstance: $uibModalInstance, modal: modal, form: form});\n\t\t\tangular.extend(this, parent);\n\n\t\t\tthis.model = form.model;\n\t\t\tvar self = this;\n\n\t\t\t$scope.$emit('enableModalSpinner');\n\t\t\tmagezonBuilderForm.getForm('modals.' + modal.key, function(tabs) {\n\t\t\t\tself.tabs = tabs;\n\t\t\t\t$scope.$emit('disableModalSpinner');\n\t\t\t});\n\n\t\t\tself.onSubmit = function() {\n\t\t\t\t$rootScope.$broadcast('modal_' + modal.key + '_saved');\n\t\t\t\t$uibModalInstance.close(self.model);\n\t\t\t}\n\t\t}\n\t}\n});","Magezon_Builder/js/modal/history.js":"define([\n\t'jquery',\n\t'angular',\n\t'moment'\n], function($, angular, moment) {\n\n\treturn {\n\t\ttemplateUrl: 'Magezon_Builder/js/templates/modal/history.html',\n\t\tcontroller: function(\n\t\t\t$scope, \n\t\t\t$uibModalInstance,\n\t\t\t$controller, \n\t\t\tform,\n\t\t\tmodal,\n\t\t\thistoryManager\n\t\t) {\n\t\t\tvar parent = $controller('modalBaseController', {$scope: $scope, $uibModalInstance: $uibModalInstance, modal: modal, form: form});\n\t\t\tangular.extend(this, parent);\n\n\t\t\t$scope.previewItem = function(item) {\n\t\t\t\thistoryManager.previewItem(item);\n\t\t\t}\n\n\t\t\t$scope.applyItem = function(item) {\n\t\t\t\thistoryManager.applyItem(item);\n\t\t\t}\n\n\t\t\t$scope.getDateTime = function(item) {\n\t\t\t\treturn moment(item.time).fromNow();\n\t\t\t}\n\n\t\t\t$scope.getDateTimeTitle = function(item) {\n\t\t\t\treturn moment(item.time).format('MM/DD/YYYY HH:mm:s');\n\t\t\t}\n\n\t\t\tvar timer;\n\t\t\tsetTimeout(function() {\n\t\t\t\ttimer = setInterval(function() {\n\t\t\t\t\t$scope.$apply();\n\t\t\t\t}, 1000);\n\t\t\t}, 10000);\n\n\t\t\t$scope.$on('$destroy', function() {\n\t\t\t\tif (timer) {\n\t\t\t\t\tclearInterval(timer);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n});","Magezon_Builder/js/modal/templates.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\ttemplateUrl: 'Magezon_Builder/js/templates/modal/form.html',\n\t\tcontroller: function(\n\t\t\t$scope, \n\t\t\t$uibModalInstance, \n\t\t\t$controller,\n\t\t\tform, \n\t\t\tmodal,\n\t\t\tmagezonBuilderForm\n\t\t) {\n\t\t\tvar parent = $controller('modalBaseController', {$scope: $scope, $uibModalInstance: $uibModalInstance, modal: modal, form: form});\n\t\t\tangular.extend(this, parent);\n\t\t\t\n\t\t\tvar self = this;\n\n\t\t\t$scope.$emit('enableModalSpinner');\n\t\t\tmagezonBuilderForm.getForm('modals.templates', function(tabs) {\n\t\t\t\tself.tabs = tabs;\n\t\t\t\t$scope.$emit('disableModalSpinner');\n\t\t\t});\n\t\t}\n\t}\n});","Magezon_Builder/js/modal/clearLayout.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\ttemplateUrl: 'Magezon_Builder/js/templates/modal/clear-layout.html',\n\t\tcontroller: function(\n\t\t\t$rootScope, \n\t\t\t$scope, \n\t\t\t$uibModalInstance, \n\t\t\t$controller,\n\t\t\tform, \n\t\t\tmodal\n\t\t) {\n\t\t\tvar parent = $controller('modalBaseController', {$scope: $scope, $uibModalInstance: $uibModalInstance, modal: modal, form: form});\n\t\t\tangular.extend(this, parent);\n\n\t\t\tvar self = this;\n\n\t\t\tself.onSubmit = function() {\n\t\t\t\t$rootScope.profile.elements = [];\n\t\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\t\ttype: 'cleared_layout'\n\t\t\t\t});\n\t\t\t\t$uibModalInstance.close(self.model);\n\t\t\t}\n\t\t}\n\t}\n});","Magezon_Builder/js/modal/element.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\ttemplateUrl: 'Magezon_Builder/js/templates/modal/form.html',\n\t\tcontroller: function(\n\t\t\t$rootScope, \n\t\t\t$scope, \n\t\t\t$uibModalInstance, \n\t\t\t$controller, \n\t\t\tmodal,\n\t\t\tform,\n\t\t\tmagezonBuilderForm,\n\t\t\tmagezonBuilderFilter\n\t\t) {\n\t\t\tvar parent = $controller('modalBaseController', {$scope: $scope, $uibModalInstance: $uibModalInstance, modal: modal, form: form});\n\t\t\tangular.extend(this, parent);\n\n\t\t\tvar self     = this;\n\t\t\tvar element  = form.element;\n\t\t\tvar builder  = form.element.builder;\n\t\t\t$scope.title = element.builder.name;\n\t\t\tself.model   = angular.copy(form.element);\n\t\t\tself.element = form.element;\n\n\t\t\t$scope.$emit('enableModalSpinner');\n\t\t\tmagezonBuilderForm.getForm('elements.' + element.type, function(tabs, result) {\n\t\t\t\tangular.forEach(tabs[0]['templateOptions']['children'], function(tab, index) {\n\t\t\t\t\tif (!tab.fieldGroup) {\n\t\t\t\t\t\tdelete tabs[0]['templateOptions']['children'][index];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\ttabs[0]['templateOptions']['children'] = tabs[0]['templateOptions']['children'].filter(function(){return true;});\n\t\t\t\tself.tabs = tabs;\n\t\t\t\t$scope.activeTab();\n\t\t\t\tbuilder.fields = result.fields;\n\t\t\t\t$scope.spinner = false;\n\t\t\t\t$scope.$emit('disableModalSpinner');\n\t\t\t});\n\n\t\t\t$scope.activeTab = function() {\n\t\t\t\tvar activeIndex = 0;\n\t\t\t\tif (form.activeTab) {\n\t\t\t\t\tangular.forEach(self.tabs[0]['templateOptions']['children'], function(tab, index) {\n\t\t\t\t\t\tif (tab.templateOptions.elementId == form.activeTab) {\n\t\t\t\t\t\t\tactiveIndex = index;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tself.tabs[0]['templateOptions']['activeTab'] = activeIndex;\n\t\t\t\t} else {\n\t\t\t\t\tself.tabs[0]['templateOptions']['activeTab'] = activeIndex;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tself.onSubmit = function() {\n\t\t\t\tvar excludeFields = ['builder', 'elements'];\n\t\t\t\tvar newData = self.model;\n\t\t\t\tangular.forEach(newData, function(value, key) {\n\t\t\t\t\tif ($.inArray(key, excludeFields)===-1) {\n\t\t\t\t\t\tif (angular.isString(value)) {\n\t\t\t\t\t\t\tvalue = magezonBuilderFilter.processContent(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telement[key] = value;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$uibModalInstance.close(element);\n\t\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\t\ttype: 'edited',\n\t\t\t\t\ttitle: element.builder.name\n\t\t\t\t});\n\t\t\t\t$rootScope.$broadcast('editedElement', element);\n\t\t    }\n\n\t\t\tself.findField = function(fieldGroup, value) {\n\t\t\t\tvar result;\n\t\t\t\tangular.forEach(fieldGroup, function(field, index) {\n\t\t\t\t\tif ((field.className.indexOf('mgz_field-' + value + ' ') !== -1)) {\n\t\t\t\t\t\tresult = field;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (field.fieldGroup && !result) {\n\t\t\t\t\t\tresult = self.findField(field.fieldGroup, value);\n\t\t\t\t\t}\n\t\t\t\t\tif (field.templateOptions.children && !result) {\n\t\t\t\t\t\tresult = self.findField(field.templateOptions.children, value);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t    $rootScope.$on('showField', function(event, data) {\n\t\t\t\tvar indexesMap = {};\n\t\t\t\tvar valuesMap = {};\n\n\t\t\t\tangular.forEach(data.groupsConfig, function (fields, group) {\n\t                angular.forEach(fields, function (index) {\n\t                    if (!indexesMap[index]) {\n\t                        indexesMap[index] = [];\n\t                    }\n\t                    indexesMap[index].push(group);\n\t                });\n\t            });\n\n\t            angular.forEach(indexesMap, function (groups, field) {\n\t\t\t\t\tvar visible   = (groups.indexOf(data.value) !== -1);\n\t\t\t\t\tvar field     = self.findField(self.tabs, field);\n\t\t\t\t\tif (field) {\n\t\t\t\t\t\tvar hide = !visible;\n\t\t\t\t\t\tfield['status'] = !hide;\n\t\t\t\t\t\tif (hide) {\n\t\t\t\t\t\t\t$('.mgz_field-' + field.key).hide();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('.mgz_field-' + field.key).show();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tif (hide) {\n\t\t\t\t\t\t\t\t$('.mgz_field-' + field.key).hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$('.mgz_field-' + field.key).show();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 200);\n\t\t\t\t\t}\n\t            });\n\t\t\t});\n\t\t}\n\t}\n});","Magezon_Builder/js/modal/block/elements_search.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/modal/block/elements_search.html');\n\t\t\t},\n\t\t\tcontroller: function($scope) {\n\t\t\t\tvar $parent = $scope.$parent;\n\n\t\t\t\t$scope.filterElements = function() {\n\t\t\t\t\tvar q = $parent.mgz.search;\n\t\t\t\t\t$parent.mgz.active = 0;\n\t\t\t\t\t$parent.mgz.tabs['all']['elements'] = _.filter(angular.copy($parent.mgz.allTab.elements), function(element) {\n\t\t\t\t\t\tvar description = element.description;\n\t\t\t\t\t\tvar search = element.search;\n\t\t\t\t\t\tvar group = element.group;\n\t\t\t\t\t\treturn (element.name.toLowerCase().indexOf(q.toLowerCase()) !== -1) \n\t\t\t\t\t\t|| (description && description.toLowerCase().indexOf(q.toLowerCase()) !== -1) \n\t\t\t\t\t\t|| (search && search.toLowerCase().indexOf(q.toLowerCase()) !== -1\n\t\t\t\t\t\t|| (group && group.toLowerCase().indexOf(q.toLowerCase()) !== -1))\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t$scope.clearSearch = function() {\n\t\t\t\t\t$('.mgz-elements-filter').trigger('focus');\n\t\t\t\t\t$parent.mgz.clearSearch();\n\t\t\t\t}\n\t\t\t\t$('.mgz-elements-filter').trigger('focus');\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/modal/block/title.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/modal/block/title.html');\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope) {\n\t\t\t\tvar loaded = false;\n\t\t\t\t$scope.title    = $scope.$parent.title;\n\t\t\t\t$scope.subtitle = $scope.$parent.subtitle;\n\t\t\t\t$scope.$watch('title', function(title) {\n\t\t\t\t\tif (loaded) {\n\t\t\t\t\t\t$scope.$parent.mgz.element.builder.name = title;\n\t\t\t\t\t\t$rootScope.$broadcast('exportShortcode');\n\t\t\t\t\t}\n\t\t\t\t\tloaded = true;\n\t\t\t\t});\n\t\t\t},\n\t\t\tlink: function(scope, element) {\n\t\t\t\tif (scope.$parent.mgz.element) {\n\t\t\t\t\telement.find('.mgz-icon-edit').click(function(event) {\n\t\t\t\t\t\tvar span = element.find('.mgz-modal-title-inner');\n\t\t\t\t\t\tvar t = document.createRange();\n\t\t\t\t\t\tvar i = window.getSelection();\n\t\t\t\t\t\tt.selectNodeContents(span[0]);\n\t\t\t\t\t\ti.removeAllRanges();\n\t\t\t\t\t\ti.addRange(t);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\telement.find('span').eq(0).removeAttr('contenteditable').removeClass('mgz-contenteditable-element');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/modal/button/navigator_toggle.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/modal/button/navigator_toggle.html');\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope) {\n\t\t\t\t$scope.listVisible = $rootScope.builderConfig.navigatorListVisible;\n\t\t\t\t$scope.toggle = function() {\n\t\t\t\t\t$scope.listVisible = !$scope.listVisible;\n\t\t\t\t\t$rootScope.builderConfig.navigatorListVisible = $scope.listVisible;\n\t\t\t\t\tvar parents = {};\n\t\t\t\t\tvar activeListControl = function(elements, status) {\n\t\t\t\t\t\tangular.forEach(elements, function(element) {\n\t\t\t\t\t\t\telement.builder.navigator.listVisible = status;\n\t\t\t\t\t\t\tif (element.elements) {\n\t\t\t\t\t\t\t\tactiveListControl(element.elements, status);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tactiveListControl($rootScope.profile.elements, $scope.listVisible);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/modal/button/replace.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/modal/button/replace.html');\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope, elementManager) {\n\n\t\t\t\t$scope.replace = function() {\n\t\t\t\t\t$rootScope.$broadcast('addElement', {elem: $scope.$parent.mgz.element, action: 'replace' });\n\t\t\t\t}\n\n\t\t\t\t$scope.canReplace = function() {\n\t\t\t\t\treturn elementManager.canReplace($scope.$parent.mgz.element);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/modal/button/save.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/modal/button/save.html');\n\t\t\t},\n\t\t\tcontroller: function($scope) {\n\t\t\t\t$scope.disabled = false;\n\n\t\t\t\t$scope.$on('disableSaveBtn', function() {\n\t\t\t\t\t$scope.disabled = true;\n\t\t\t\t});\n\n\t\t\t\t$scope.$on('enableSaveBtn', function() {\n\t\t\t\t\t$scope.disabled = false;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/modal/button/minimize.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/modal/button/minimize.html');\n\t\t\t},\n\t\t\tcontroller: function($scope) {\n\t\t\t\t$scope.minimized = false;\n\t\t\t\t$scope.minimize = function() {\n\t\t\t\t\tvar modalSelector = $scope.$parent.mgz.getModalSelector();\n\t\t\t\t\tvar headerHeight  = $scope.$parent.mgz.getHeaderHeight();\n\t\t\t\t\tmodalSelector.stop();\n\t\t\t\t\tif ($scope.minimized) {\n\t\t\t\t\t\tvar height = parseFloat(modalSelector.css('max-height'));\n\t\t\t\t\t\tif (height) {\n\t\t\t\t\t\t\tmodalSelector.animate({\"height\": height}, \"medium\", function() {\n\t\t\t\t\t\t\t\tmodalSelector.css('height', '');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmodalSelector.css('height', '');\n\t\t\t\t\t\t\t$scope.$parent.mgz.resizeInner();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmodalSelector.removeClass('mgz-minimized');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmodalSelector.animate({\"height\": headerHeight}, \"medium\");\n\t\t\t\t\t\tmodalSelector.addClass('mgz-minimized');\n\t\t\t\t\t}\n\t\t\t\t\t$scope.minimized = !$scope.minimized;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/js/builder/element/row.js":"","Magezon_Builder/js/ui/form/element/wysiwyg.js":"define([\n    'jquery',\n    'underscore',\n    'Magento_Ui/js/form/element/textarea'\n], function ($, _, Textarea) {\n    'use strict';\n\n    return Textarea.extend({\n\n        defaults: {\n            elementTmpl: 'Magezon_Builder/ui/form/element/builder'\n        },\n\n        initialize: function () {\n            this._super();\n\n            return this;\n        }\n    })\n});","Magezon_Builder/js/ui/form/element/color-picker-palette.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/**\n * @api\n */\ndefine([], function () {\n    'use strict';\n\n    return [\n        [\n            'rgb(0,0,0)', 'rgb(52,52,52)', 'rgb(83,83,83)', 'rgb(135,135,135)', 'rgb(193,193,193)',\n            'rgb(234,234,234)', 'rgb(240,240,240)', 'rgb(255,255,255)'\n        ],\n        [\n            'rgb(252,0,9)', 'rgb(253,135,10)', 'rgb(255,255,13)', 'rgb(35,255,9)', 'rgb(33,255,255)',\n            'rgb(0,0,254)', 'rgb(132,0,254)', 'rgb(251,0,255)'\n        ],\n        [\n            'rgb(240,192,194)', 'rgb(251,223,194)', 'rgb(255,241,193)', 'rgb(210,230,201)',\n            'rgb(199,217,220)', 'rgb(197,219,240)', 'rgb(208,200,227)', 'rgb(229,199,212)'\n        ],\n        [\n            'rgb(228,133,135)', 'rgb(246,193,139)', 'rgb(254,225,136)', 'rgb(168,208,152)',\n            'rgb(146,184,190)', 'rgb(143,184,227)', 'rgb(165,148,204)', 'rgb(202,147,175)'\n        ],\n        [\n            'rgb(214,78,83)', 'rgb(243,163,88)', 'rgb(254,211,83)', 'rgb(130,187,106)',\n            'rgb(99,149,159)', 'rgb(93,150,211)', 'rgb(123,100,182)', 'rgb(180,100,142)'\n        ],\n        [\n            'rgb(190,0,5)', 'rgb(222,126,44)', 'rgb(236,183,39)', 'rgb(89,155,61)', 'rgb(55,110,123)',\n            'rgb(49,112,185)', 'rgb(83,55,150)', 'rgb(147,55,101)'\n        ],\n        [\n            'rgb(133,0,3)', 'rgb(163,74,10)', 'rgb(177,127,7)', 'rgb(45,101,23)', 'rgb(18,62,74)',\n            'rgb(14,62,129)', 'rgb(40,15,97)', 'rgb(95,16,55)'\n        ],\n        [\n            'rgb(81,0,1)', 'rgb(100,48,7)', 'rgb(107,78,3)', 'rgb(31,63,16)',\n            'rgb(13,39,46)', 'rgb(10,40,79)', 'rgb(24,12,59)', 'rgb(59,10,36)'\n        ]\n    ];\n});\n","Magezon_Builder/js/ui/form/element/builder.js":"define([\n    'jquery',\n    'underscore',\n    'Magento_Ui/js/form/element/textarea'\n], function ($, _, Textarea) {\n    'use strict';\n\n    return Textarea.extend({\n\n        defaults: {\n            elementTmpl: 'Magezon_Builder/ui/form/element/builder'\n        },\n\n        initialize: function () {\n            this._super();\n\n            return this;\n        }\n    })\n});","Magezon_Builder/js/jarallax/jarallax.min.js":"/*!\n * Name    : Just Another Parallax [Jarallax]\n * Version : 1.10.7\n * Author  : nK <https://nkdev.info>\n * GitHub  : https://github.com/nk-o/jarallax\n */!function(o){var n={};function i(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=o,i.c=n,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"\",i(i.s=11)}([,,function(e,t,o){\"use strict\";e.exports=function(e){\"complete\"===document.readyState||\"interactive\"===document.readyState?e.call():document.attachEvent?document.attachEvent(\"onreadystatechange\",function(){\"interactive\"===document.readyState&&e.call()}):document.addEventListener&&document.addEventListener(\"DOMContentLoaded\",e)}},,function(o,e,t){\"use strict\";(function(e){var t;t=\"undefined\"!=typeof window?window:void 0!==e?e:\"undefined\"!=typeof self?self:{},o.exports=t}).call(this,t(5))},function(e,t,o){\"use strict\";var n,i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};n=function(){return this}();try{n=n||Function(\"return this\")()||(0,eval)(\"this\")}catch(e){\"object\"===(\"undefined\"==typeof window?\"undefined\":i(window))&&(n=window)}e.exports=n},,,,,,function(e,t,o){e.exports=o(12)},function(e,t,o){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},i=l(o(2)),a=o(4),r=l(o(13));function l(e){return e&&e.__esModule?e:{default:e}}var s=a.window.jarallax;if(a.window.jarallax=r.default,a.window.jarallax.noConflict=function(){return a.window.jarallax=s,this},void 0!==a.jQuery){var c=function(){var e=arguments||[];Array.prototype.unshift.call(e,this);var t=r.default.apply(a.window,e);return\"object\"!==(void 0===t?\"undefined\":n(t))?t:this};c.constructor=r.default.constructor;var u=a.jQuery.fn.jarallax;a.jQuery.fn.jarallax=c,a.jQuery.fn.jarallax.noConflict=function(){return a.jQuery.fn.jarallax=u,this}}(0,i.default)(function(){(0,r.default)(document.querySelectorAll(\"[data-jarallax]\"))})},function(e,j,S){\"use strict\";(function(e){Object.defineProperty(j,\"__esModule\",{value:!0});var d=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],n=!0,i=!1,a=void 0;try{for(var r,l=e[Symbol.iterator]();!(n=(r=l.next()).done)&&(o.push(r.value),!t||o.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw a}}return o}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},t=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}(),p=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=a(S(2)),n=a(S(14)),i=S(4);function a(e){return e&&e.__esModule?e:{default:e}}var s=-1<navigator.userAgent.indexOf(\"MSIE \")||-1<navigator.userAgent.indexOf(\"Trident/\")||-1<navigator.userAgent.indexOf(\"Edge/\"),r=function(){for(var e=\"transform WebkitTransform MozTransform\".split(\" \"),t=document.createElement(\"div\"),o=0;o<e.length;o++)if(t&&void 0!==t.style[e[o]])return e[o];return!1}(),b=void 0,v=void 0,l=void 0,c=!1,u=!1;function m(e){b=i.window.innerWidth||document.documentElement.clientWidth,v=i.window.innerHeight||document.documentElement.clientHeight,\"object\"!==(void 0===e?\"undefined\":p(e))||\"load\"!==e.type&&\"dom-loaded\"!==e.type||(c=!0)}m(),i.window.addEventListener(\"resize\",m),i.window.addEventListener(\"orientationchange\",m),i.window.addEventListener(\"load\",m),(0,o.default)(function(){m({type:\"dom-loaded\"})});var f=[],y=!1;function g(){if(f.length){l=void 0!==i.window.pageYOffset?i.window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;var t=c||!y||y.width!==b||y.height!==v,o=u||t||!y||y.y!==l;u=c=!1,(t||o)&&(f.forEach(function(e){t&&e.onResize(),o&&e.onScroll()}),y={width:b,height:v,y:l}),(0,n.default)(g)}}var h=!!e.ResizeObserver&&new e.ResizeObserver(function(e){e&&e.length&&(0,n.default)(function(){e.forEach(function(e){e.target&&e.target.jarallax&&(c||e.target.jarallax.onResize(),u=!0)})})}),x=0,w=function(){function u(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,u);var o=this;o.instanceID=x++,o.$item=e,o.defaults={type:\"scroll\",speed:.5,imgSrc:null,imgElement:\".jarallax-img\",imgSize:\"cover\",imgPosition:\"50% 50%\",imgRepeat:\"no-repeat\",keepImg:!1,elementInViewport:null,zIndex:-100,disableParallax:!1,disableVideo:!1,automaticResize:!0,videoSrc:null,videoStartTime:0,videoEndTime:0,videoVolume:0,videoLoop:!0,videoPlayOnlyVisible:!0,onScroll:null,onInit:null,onDestroy:null,onCoverImage:null};var n=o.$item.getAttribute(\"data-jarallax\"),i=JSON.parse(n||\"{}\");n&&console.warn(\"Detected usage of deprecated data-jarallax JSON options, you should use pure data-attribute options. See info here - https://github.com/nk-o/jarallax/issues/53\");var a=o.$item.dataset||{},r={};if(Object.keys(a).forEach(function(e){var t=e.substr(0,1).toLowerCase()+e.substr(1);t&&void 0!==o.defaults[t]&&(r[t]=a[e])}),o.options=o.extend({},o.defaults,i,r,t),o.pureOptions=o.extend({},o.options),Object.keys(o.options).forEach(function(e){\"true\"===o.options[e]?o.options[e]=!0:\"false\"===o.options[e]&&(o.options[e]=!1)}),o.options.speed=Math.min(2,Math.max(-1,parseFloat(o.options.speed))),(o.options.noAndroid||o.options.noIos)&&(console.warn(\"Detected usage of deprecated noAndroid or noIos options, you should use disableParallax option. See info here - https://github.com/nk-o/jarallax/#disable-on-mobile-devices\"),o.options.disableParallax||(o.options.noIos&&o.options.noAndroid?o.options.disableParallax=/iPad|iPhone|iPod|Android/:o.options.noIos?o.options.disableParallax=/iPad|iPhone|iPod/:o.options.noAndroid&&(o.options.disableParallax=/Android/))),\"string\"==typeof o.options.disableParallax&&(o.options.disableParallax=new RegExp(o.options.disableParallax)),o.options.disableParallax instanceof RegExp){var l=o.options.disableParallax;o.options.disableParallax=function(){return l.test(navigator.userAgent)}}if(\"function\"!=typeof o.options.disableParallax&&(o.options.disableParallax=function(){return!1}),\"string\"==typeof o.options.disableVideo&&(o.options.disableVideo=new RegExp(o.options.disableVideo)),o.options.disableVideo instanceof RegExp){var s=o.options.disableVideo;o.options.disableVideo=function(){return s.test(navigator.userAgent)}}\"function\"!=typeof o.options.disableVideo&&(o.options.disableVideo=function(){return!1});var c=o.options.elementInViewport;c&&\"object\"===(void 0===c?\"undefined\":p(c))&&void 0!==c.length&&(c=d(c,1)[0]);c instanceof Element||(c=null),o.options.elementInViewport=c,o.image={src:o.options.imgSrc||null,$container:null,useImgTag:!1,position:/iPad|iPhone|iPod|Android/.test(navigator.userAgent)?\"absolute\":\"fixed\"},o.initImg()&&o.canInitParallax()&&o.init()}return t(u,[{key:\"css\",value:function(t,o){return\"string\"==typeof o?i.window.getComputedStyle(t).getPropertyValue(o):(o.transform&&r&&(o[r]=o.transform),Object.keys(o).forEach(function(e){t.style[e]=o[e]}),t)}},{key:\"extend\",value:function(o){var n=arguments;return o=o||{},Object.keys(arguments).forEach(function(t){n[t]&&Object.keys(n[t]).forEach(function(e){o[e]=n[t][e]})}),o}},{key:\"getWindowData\",value:function(){return{width:b,height:v,y:l}}},{key:\"initImg\",value:function(){var e=this,t=e.options.imgElement;return t&&\"string\"==typeof t&&(t=e.$item.querySelector(t)),t instanceof Element||(t=null),t&&(e.options.keepImg?e.image.$item=t.cloneNode(!0):(e.image.$item=t,e.image.$itemParent=t.parentNode),e.image.useImgTag=!0),!!e.image.$item||(null===e.image.src&&(e.image.src=e.css(e.$item,\"background-image\").replace(/^url\\(['\"]?/g,\"\").replace(/['\"]?\\)$/g,\"\")),!(!e.image.src||\"none\"===e.image.src))}},{key:\"canInitParallax\",value:function(){return r&&!this.options.disableParallax()}},{key:\"init\",value:function(){var e=this,t={position:\"absolute\",top:0,left:0,width:\"100%\",height:\"100%\",overflow:\"hidden\",pointerEvents:\"none\"},o={};if(!e.options.keepImg){var n=e.$item.getAttribute(\"style\");if(n&&e.$item.setAttribute(\"data-jarallax-original-styles\",n),e.image.useImgTag){var i=e.image.$item.getAttribute(\"style\");i&&e.image.$item.setAttribute(\"data-jarallax-original-styles\",i)}}if(\"static\"===e.css(e.$item,\"position\")&&e.css(e.$item,{position:\"relative\"}),\"auto\"===e.css(e.$item,\"z-index\")&&e.css(e.$item,{zIndex:0}),e.image.$container=document.createElement(\"div\"),e.css(e.image.$container,t),e.css(e.image.$container,{\"z-index\":e.options.zIndex}),s&&e.css(e.image.$container,{opacity:.9999}),e.image.$container.setAttribute(\"id\",\"jarallax-container-\"+e.instanceID),e.$item.appendChild(e.image.$container),e.image.useImgTag?o=e.extend({\"object-fit\":e.options.imgSize,\"object-position\":e.options.imgPosition,\"font-family\":\"object-fit: \"+e.options.imgSize+\"; object-position: \"+e.options.imgPosition+\";\",\"max-width\":\"none\"},t,o):(e.image.$item=document.createElement(\"div\"),e.image.src&&(o=e.extend({\"background-position\":e.options.imgPosition,\"background-size\":e.options.imgSize,\"background-repeat\":e.options.imgRepeat,\"background-image\":'url(\"'+e.image.src+'\")'},t,o))),\"opacity\"!==e.options.type&&\"scale\"!==e.options.type&&\"scale-opacity\"!==e.options.type&&1!==e.options.speed||(e.image.position=\"absolute\"),\"fixed\"===e.image.position)for(var a=0,r=e.$item;null!==r&&r!==document&&0===a;){var l=e.css(r,\"-webkit-transform\")||e.css(r,\"-moz-transform\")||e.css(r,\"transform\");l&&\"none\"!==l&&(a=1,e.image.position=\"absolute\"),r=r.parentNode}o.position=e.image.position,e.css(e.image.$item,o),e.image.$container.appendChild(e.image.$item),e.onResize(),e.onScroll(!0),e.options.automaticResize&&h&&h.observe(e.$item),e.options.onInit&&e.options.onInit.call(e),\"none\"!==e.css(e.$item,\"background-image\")&&e.css(e.$item,{\"background-image\":\"none\"}),e.addToParallaxList()}},{key:\"addToParallaxList\",value:function(){f.push(this),1===f.length&&g()}},{key:\"removeFromParallaxList\",value:function(){var o=this;f.forEach(function(e,t){e.instanceID===o.instanceID&&f.splice(t,1)})}},{key:\"destroy\",value:function(){var e=this;e.removeFromParallaxList();var t=e.$item.getAttribute(\"data-jarallax-original-styles\");if(e.$item.removeAttribute(\"data-jarallax-original-styles\"),t?e.$item.setAttribute(\"style\",t):e.$item.removeAttribute(\"style\"),e.image.useImgTag){var o=e.image.$item.getAttribute(\"data-jarallax-original-styles\");e.image.$item.removeAttribute(\"data-jarallax-original-styles\"),o?e.image.$item.setAttribute(\"style\",t):e.image.$item.removeAttribute(\"style\"),e.image.$itemParent&&e.image.$itemParent.appendChild(e.image.$item)}e.$clipStyles&&e.$clipStyles.parentNode.removeChild(e.$clipStyles),e.image.$container&&e.image.$container.parentNode.removeChild(e.image.$container),e.options.onDestroy&&e.options.onDestroy.call(e),delete e.$item.jarallax}},{key:\"clipContainer\",value:function(){if(\"fixed\"===this.image.position){var e=this,t=e.image.$container.getBoundingClientRect(),o=t.width,n=t.height;if(!e.$clipStyles)e.$clipStyles=document.createElement(\"style\"),e.$clipStyles.setAttribute(\"type\",\"text/css\"),e.$clipStyles.setAttribute(\"id\",\"jarallax-clip-\"+e.instanceID),(document.head||document.getElementsByTagName(\"head\")[0]).appendChild(e.$clipStyles);var i=\"#jarallax-container-\"+e.instanceID+\" {\\n           clip: rect(0 \"+o+\"px \"+n+\"px 0);\\n           clip: rect(0, \"+o+\"px, \"+n+\"px, 0);\\n        }\";e.$clipStyles.styleSheet?e.$clipStyles.styleSheet.cssText=i:e.$clipStyles.innerHTML=i}}},{key:\"coverImage\",value:function(){var e=this,t=e.image.$container.getBoundingClientRect(),o=t.height,n=e.options.speed,i=\"scroll\"===e.options.type||\"scroll-opacity\"===e.options.type,a=0,r=o,l=0;return i&&(n<0?(a=n*Math.max(o,v),v<o&&(a-=n*(o-v))):a=n*(o+v),1<n?r=Math.abs(a-v):n<0?r=a/n+Math.abs(a):r+=(v-o)*(1-n),a/=2),e.parallaxScrollDistance=a,l=i?(v-r)/2:(o-r)/2,e.css(e.image.$item,{height:r+\"px\",marginTop:l+\"px\",left:\"fixed\"===e.image.position?t.left+\"px\":\"0\",width:t.width+\"px\"}),e.options.onCoverImage&&e.options.onCoverImage.call(e),{image:{height:r,marginTop:l},container:t}}},{key:\"isVisible\",value:function(){return this.isElementInViewport||!1}},{key:\"onScroll\",value:function(e){var t=this,o=t.$item.getBoundingClientRect(),n=o.top,i=o.height,a={},r=o;if(t.options.elementInViewport&&(r=t.options.elementInViewport.getBoundingClientRect()),t.isElementInViewport=0<=r.bottom&&0<=r.right&&r.top<=v&&r.left<=b,e||t.isElementInViewport){var l=Math.max(0,n),s=Math.max(0,i+n),c=Math.max(0,-n),u=Math.max(0,n+i-v),d=Math.max(0,i-(n+i-v)),p=Math.max(0,-n+v-i),m=1-2*(v-n)/(v+i),f=1;if(i<v?f=1-(c||u)/i:s<=v?f=s/v:d<=v&&(f=d/v),\"opacity\"!==t.options.type&&\"scale-opacity\"!==t.options.type&&\"scroll-opacity\"!==t.options.type||(a.transform=\"translate3d(0,0,0)\",a.opacity=f),\"scale\"===t.options.type||\"scale-opacity\"===t.options.type){var y=1;t.options.speed<0?y-=t.options.speed*f:y+=t.options.speed*(1-f),a.transform=\"scale(\"+y+\") translate3d(0,0,0)\"}if(\"scroll\"===t.options.type||\"scroll-opacity\"===t.options.type){var g=t.parallaxScrollDistance*m;\"absolute\"===t.image.position&&(g-=n),a.transform=\"translate3d(0,\"+g+\"px,0)\"}t.css(t.image.$item,a),t.options.onScroll&&t.options.onScroll.call(t,{section:o,beforeTop:l,beforeTopEnd:s,afterTop:c,beforeBottom:u,beforeBottomEnd:d,afterBottom:p,visiblePercent:f,fromViewportCenter:m})}}},{key:\"onResize\",value:function(){this.coverImage(),this.clipContainer()}}]),u}(),$=function(e){(\"object\"===(\"undefined\"==typeof HTMLElement?\"undefined\":p(HTMLElement))?e instanceof HTMLElement:e&&\"object\"===(void 0===e?\"undefined\":p(e))&&null!==e&&1===e.nodeType&&\"string\"==typeof e.nodeName)&&(e=[e]);for(var t=arguments[1],o=Array.prototype.slice.call(arguments,2),n=e.length,i=0,a=void 0;i<n;i++)if(\"object\"===(void 0===t?\"undefined\":p(t))||void 0===t?e[i].jarallax||(e[i].jarallax=new w(e[i],t)):e[i].jarallax&&(a=e[i].jarallax[t].apply(e[i].jarallax,o)),void 0!==a)return a;return e};$.constructor=w,j.default=$}).call(this,S(5))},function(e,t,o){\"use strict\";var n=o(4),i=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||function(e){var t=+new Date,o=Math.max(0,16-(t-a)),n=setTimeout(e,o);return a=t,n},a=+new Date;var r=n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.mozCancelAnimationFrame||clearTimeout;Function.prototype.bind&&(i=i.bind(n),r=r.bind(n)),(e.exports=i).cancel=r}]);","Magezon_Builder/js/jarallax/jarallax-video.js":"/*!\n * Name    : Video Background Extension for Jarallax\n * Version : 1.0.1\n * Author  : nK <https://nkdev.info>\n * GitHub  : https://github.com/nk-o/jarallax\n */\n!function(o) {\n    var i = {};\n    function n(e) {\n        if (i[e])\n            return i[e].exports;\n        var t = i[e] = {\n            i: e,\n            l: !1,\n            exports: {}\n        };\n        return o[e].call(t.exports, t, t.exports, n),\n        t.l = !0,\n        t.exports\n    }\n    n.m = o,\n    n.c = i,\n    n.d = function(e, t, o) {\n        n.o(e, t) || Object.defineProperty(e, t, {\n            enumerable: !0,\n            get: o\n        })\n    }\n    ,\n    n.r = function(e) {\n        \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n            value: \"Module\"\n        }),\n        Object.defineProperty(e, \"__esModule\", {\n            value: !0\n        })\n    }\n    ,\n    n.t = function(t, e) {\n        if (1 & e && (t = n(t)),\n        8 & e)\n            return t;\n        if (4 & e && \"object\" == typeof t && t && t.__esModule)\n            return t;\n        var o = Object.create(null);\n        if (n.r(o),\n        Object.defineProperty(o, \"default\", {\n            enumerable: !0,\n            value: t\n        }),\n        2 & e && \"string\" != typeof t)\n            for (var i in t)\n                n.d(o, i, function(e) {\n                    return t[e]\n                }\n                .bind(null, i));\n        return o\n    }\n    ,\n    n.n = function(e) {\n        var t = e && e.__esModule ? function() {\n            return e.default\n        }\n        : function() {\n            return e\n        }\n        ;\n        return n.d(t, \"a\", t),\n        t\n    }\n    ,\n    n.o = function(e, t) {\n        return Object.prototype.hasOwnProperty.call(e, t)\n    }\n    ,\n    n.p = \"\",\n    n(n.s = 6)\n}([, , function(e, t, o) {\n    \"use strict\";\n    e.exports = function(e) {\n        \"complete\" === document.readyState || \"interactive\" === document.readyState ? e.call() : document.attachEvent ? document.attachEvent(\"onreadystatechange\", function() {\n            \"interactive\" === document.readyState && e.call()\n        }) : document.addEventListener && document.addEventListener(\"DOMContentLoaded\", e)\n    }\n}\n, , function(o, e, t) {\n    \"use strict\";\n    (function(e) {\n        var t;\n        t = \"undefined\" != typeof window ? window : void 0 !== e ? e : \"undefined\" != typeof self ? self : {},\n        o.exports = t\n    }\n    ).call(this, t(5))\n}\n, function(e, t, o) {\n    \"use strict\";\n    var i, n = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(e) {\n        return typeof e\n    }\n    : function(e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e\n    }\n    ;\n    i = function() {\n        return this\n    }();\n    try {\n        i = i || Function(\"return this\")() || (0,\n        eval)(\"this\")\n    } catch (e) {\n        \"object\" === (\"undefined\" == typeof window ? \"undefined\" : n(window)) && (i = window)\n    }\n    e.exports = i\n}\n, function(e, t, o) {\n    e.exports = o(7)\n}\n, function(e, t, o) {\n    \"use strict\";\n    var i = l(o(8))\n      , n = l(o(4))\n      , a = l(o(2))\n      , r = l(o(10));\n    function l(e) {\n        return e && e.__esModule ? e : {\n            default: e\n        }\n    }\n    n.default.VideoWorker = n.default.VideoWorker || i.default,\n    (0,\n    r.default)(),\n    (0,\n    a.default)(function() {\n        \"undefined\" != typeof jarallax && jarallax(document.querySelectorAll(\"[data-jarallax-video]\"))\n    })\n}\n, function(e, t, o) {\n    \"use strict\";\n    e.exports = o(9)\n}\n, function(e, t, o) {\n    \"use strict\";\n    Object.defineProperty(t, \"__esModule\", {\n        value: !0\n    });\n    var n = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(e) {\n        return typeof e\n    }\n    : function(e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e\n    }\n      , a = function() {\n        function i(e, t) {\n            for (var o = 0; o < t.length; o++) {\n                var i = t[o];\n                i.enumerable = i.enumerable || !1,\n                i.configurable = !0,\n                \"value\"in i && (i.writable = !0),\n                Object.defineProperty(e, i.key, i)\n            }\n        }\n        return function(e, t, o) {\n            return t && i(e.prototype, t),\n            o && i(e, o),\n            e\n        }\n    }();\n    function i() {\n        this._done = [],\n        this._fail = []\n    }\n    i.prototype = {\n        execute: function(e, t) {\n            var o = e.length;\n            for (t = Array.prototype.slice.call(t); o--; )\n                e[o].apply(null, t)\n        },\n        resolve: function() {\n            this.execute(this._done, arguments)\n        },\n        reject: function() {\n            this.execute(this._fail, arguments)\n        },\n        done: function(e) {\n            this._done.push(e)\n        },\n        fail: function(e) {\n            this._fail.push(e)\n        }\n    };\n    var r = 0\n      , l = 0\n      , u = 0\n      , p = 0\n      , d = 0\n      , s = new i\n      , y = new i\n      , c = function() {\n        function i(e, t) {\n            !function(e, t) {\n                if (!(e instanceof t))\n                    throw new TypeError(\"Cannot call a class as a function\")\n            }(this, i);\n            var o = this;\n            o.url = e,\n            o.options_default = {\n                autoplay: !1,\n                loop: !1,\n                mute: !1,\n                volume: 100,\n                showContols: !0,\n                startTime: 0,\n                endTime: 0\n            },\n            o.options = o.extend({}, o.options_default, t),\n            o.videoID = o.parseURL(e),\n            o.videoID && (o.ID = r++,\n            o.loadAPI(),\n            o.init())\n        }\n        return a(i, [{\n            key: \"extend\",\n            value: function(o) {\n                var i = arguments;\n                return o = o || {},\n                Object.keys(arguments).forEach(function(t) {\n                    i[t] && Object.keys(i[t]).forEach(function(e) {\n                        o[e] = i[t][e]\n                    })\n                }),\n                o\n            }\n        }, {\n            key: \"parseURL\",\n            value: function(e) {\n                var t, o, i, n, a, r = !(!(t = e.match(/.*(?:youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=)([^#\\&\\?]*).*/)) || 11 !== t[1].length) && t[1], l = !(!(o = e.match(/https?:\\/\\/(?:www\\.|player\\.)?vimeo.com\\/(?:channels\\/(?:\\w+\\/)?|groups\\/([^\\/]*)\\/videos\\/|album\\/(\\d+)\\/video\\/|video\\/|)(\\d+)(?:$|\\/|\\?)/)) || !o[3]) && o[3], u = (i = e.split(/,(?=mp4\\:|webm\\:|ogv\\:|ogg\\:)/),\n                n = {},\n                a = 0,\n                i.forEach(function(e) {\n                    var t = e.match(/^(mp4|webm|ogv|ogg)\\:(.*)/);\n                    t && t[1] && t[2] && (n[\"ogv\" === t[1] ? \"ogg\" : t[1]] = t[2],\n                    a = 1)\n                }),\n                !!a && n);\n                return r ? (this.type = \"youtube\",\n                r) : l ? (this.type = \"vimeo\",\n                l) : !!u && (this.type = \"local\",\n                u)\n            }\n        }, {\n            key: \"isValid\",\n            value: function() {\n                return !!this.videoID\n            }\n        }, {\n            key: \"on\",\n            value: function(e, t) {\n                this.userEventsList = this.userEventsList || [],\n                (this.userEventsList[e] || (this.userEventsList[e] = [])).push(t)\n            }\n        }, {\n            key: \"off\",\n            value: function(o, i) {\n                var n = this;\n                this.userEventsList && this.userEventsList[o] && (i ? this.userEventsList[o].forEach(function(e, t) {\n                    e === i && (n.userEventsList[o][t] = !1)\n                }) : delete this.userEventsList[o])\n            }\n        }, {\n            key: \"fire\",\n            value: function(e) {\n                var t = this\n                  , o = [].slice.call(arguments, 1);\n                this.userEventsList && void 0 !== this.userEventsList[e] && this.userEventsList[e].forEach(function(e) {\n                    e && e.apply(t, o)\n                })\n            }\n        }, {\n            key: \"play\",\n            value: function(e) {\n                var t = this;\n                t.player && (\"youtube\" === t.type && t.player.playVideo && (void 0 !== e && t.player.seekTo(e || 0),\n                YT.PlayerState.PLAYING !== t.player.getPlayerState() && t.player.playVideo()),\n                \"vimeo\" === t.type && (void 0 !== e && t.player.setCurrentTime(e),\n                t.player.getPaused().then(function(e) {\n                    e && t.player.play()\n                })),\n                \"local\" === t.type && (void 0 !== e && (t.player.currentTime = e),\n                t.player.paused && t.player.play()))\n            }\n        }, {\n            key: \"pause\",\n            value: function() {\n                var t = this;\n                t.player && (\"youtube\" === t.type && t.player.pauseVideo && YT.PlayerState.PLAYING === t.player.getPlayerState() && t.player.pauseVideo(),\n                \"vimeo\" === t.type && t.player.getPaused().then(function(e) {\n                    e || t.player.pause()\n                }),\n                \"local\" === t.type && (t.player.paused || t.player.pause()))\n            }\n        }, {\n            key: \"mute\",\n            value: function() {\n                var e = this;\n                e.player && (\"youtube\" === e.type && e.player.mute && e.player.mute(),\n                \"vimeo\" === e.type && e.player.setVolume && e.player.setVolume(0),\n                \"local\" === e.type && (e.$video.muted = !0))\n            }\n        }, {\n            key: \"unmute\",\n            value: function() {\n                var e = this;\n                e.player && (\"youtube\" === e.type && e.player.mute && e.player.unMute(),\n                \"vimeo\" === e.type && e.player.setVolume && e.player.setVolume(e.options.volume),\n                \"local\" === e.type && (e.$video.muted = !1))\n            }\n        }, {\n            key: \"setVolume\",\n            value: function() {\n                var e = 0 < arguments.length && void 0 !== arguments[0] && arguments[0]\n                  , t = this;\n                t.player && e && (\"youtube\" === t.type && t.player.setVolume && t.player.setVolume(e),\n                \"vimeo\" === t.type && t.player.setVolume && t.player.setVolume(e),\n                \"local\" === t.type && (t.$video.volume = e / 100))\n            }\n        }, {\n            key: \"getVolume\",\n            value: function(t) {\n                var e = this;\n                e.player ? (\"youtube\" === e.type && e.player.getVolume && t(e.player.getVolume()),\n                \"vimeo\" === e.type && e.player.getVolume && e.player.getVolume().then(function(e) {\n                    t(e)\n                }),\n                \"local\" === e.type && t(100 * e.$video.volume)) : t(!1)\n            }\n        }, {\n            key: \"getMuted\",\n            value: function(t) {\n                var e = this;\n                e.player ? (\"youtube\" === e.type && e.player.isMuted && t(e.player.isMuted()),\n                \"vimeo\" === e.type && e.player.getVolume && e.player.getVolume().then(function(e) {\n                    t(!!e)\n                }),\n                \"local\" === e.type && t(e.$video.muted)) : t(null)\n            }\n        }, {\n            key: \"getImageURL\",\n            value: function(t) {\n                var o = this;\n                if (o.videoImage)\n                    t(o.videoImage);\n                else {\n                    if (\"youtube\" === o.type) {\n                        var e = [\"maxresdefault\", \"sddefault\", \"hqdefault\", \"0\"]\n                          , i = 0\n                          , n = new Image;\n                        n.onload = function() {\n                            120 !== (this.naturalWidth || this.width) || i === e.length - 1 ? (o.videoImage = \"https://img.youtube.com/vi/\" + o.videoID + \"/\" + e[i] + \".jpg\",\n                            t(o.videoImage)) : (i++,\n                            this.src = \"https://img.youtube.com/vi/\" + o.videoID + \"/\" + e[i] + \".jpg\")\n                        }\n                        ,\n                        n.src = \"https://img.youtube.com/vi/\" + o.videoID + \"/\" + e[i] + \".jpg\"\n                    }\n                    if (\"vimeo\" === o.type) {\n                        var a = new XMLHttpRequest;\n                        a.open(\"GET\", \"https://vimeo.com/api/v2/video/\" + o.videoID + \".json\", !0),\n                        a.onreadystatechange = function() {\n                            if (4 === this.readyState && 200 <= this.status && this.status < 400) {\n                                var e = JSON.parse(this.responseText);\n                                o.videoImage = e[0].thumbnail_large,\n                                t(o.videoImage)\n                            }\n                        }\n                        ,\n                        a.send(),\n                        a = null\n                    }\n                }\n            }\n        }, {\n            key: \"getIframe\",\n            value: function(e) {\n                this.getVideo(e)\n            }\n        }, {\n            key: \"getVideo\",\n            value: function(u) {\n                var p = this;\n                p.$video ? u(p.$video) : p.onAPIready(function() {\n                    var e = void 0;\n                    if (p.$video || ((e = document.createElement(\"div\")).style.display = \"none\"),\n                    \"youtube\" === p.type) {\n                        p.playerOptions = {},\n                        p.playerOptions.videoId = p.videoID,\n                        p.playerOptions.playerVars = {\n                            autohide: 1,\n                            rel: 0,\n                            autoplay: 0,\n                            playsinline: 1\n                        },\n                        p.options.showContols || (p.playerOptions.playerVars.iv_load_policy = 3,\n                        p.playerOptions.playerVars.modestbranding = 1,\n                        p.playerOptions.playerVars.controls = 0,\n                        p.playerOptions.playerVars.showinfo = 0,\n                        p.playerOptions.playerVars.disablekb = 1);\n                        var t = void 0\n                          , o = void 0;\n                        p.playerOptions.events = {\n                            onReady: function(t) {\n                                if (p.options.mute ? t.target.mute() : p.options.volume && t.target.setVolume(p.options.volume),\n                                p.options.autoplay && p.play(p.options.startTime),\n                                p.fire(\"ready\", t),\n                                p.options.loop && !p.options.endTime) {\n                                    p.options.endTime = p.player.getDuration() - .1\n                                }\n                                setInterval(function() {\n                                    p.getVolume(function(e) {\n                                        p.options.volume !== e && (p.options.volume = e,\n                                        p.fire(\"volumechange\", t))\n                                    })\n                                }, 150)\n                            },\n                            onStateChange: function(e) {\n                                p.options.loop && e.data === YT.PlayerState.ENDED && p.play(p.options.startTime),\n                                t || e.data !== YT.PlayerState.PLAYING || (t = 1,\n                                p.fire(\"started\", e)),\n                                e.data === YT.PlayerState.PLAYING && p.fire(\"play\", e),\n                                e.data === YT.PlayerState.PAUSED && p.fire(\"pause\", e),\n                                e.data === YT.PlayerState.ENDED && p.fire(\"ended\", e),\n                                e.data === YT.PlayerState.PLAYING ? o = setInterval(function() {\n                                    p.fire(\"timeupdate\", e),\n                                    p.options.endTime && p.player.getCurrentTime() >= p.options.endTime && (p.options.loop ? p.play(p.options.startTime) : p.pause())\n                                }, 150) : clearInterval(o)\n                            }\n                        };\n                        var i = !p.$video;\n                        if (i) {\n                            var n = document.createElement(\"div\");\n                            n.setAttribute(\"id\", p.playerID),\n                            e.appendChild(n),\n                            document.body.appendChild(e)\n                        }\n                        p.player = p.player || new window.YT.Player(p.playerID,p.playerOptions),\n                        i && (p.$video = document.getElementById(p.playerID),\n                        p.videoWidth = parseInt(p.$video.getAttribute(\"width\"), 10) || 1280,\n                        p.videoHeight = parseInt(p.$video.getAttribute(\"height\"), 10) || 720)\n                    }\n                    if (\"vimeo\" === p.type) {\n                        if (p.playerOptions = {\n                            id: p.videoID,\n                            autopause: 0,\n                            transparent: 0,\n                            autoplay: p.options.autoplay ? 1 : 0,\n                            loop: p.options.loop ? 1 : 0,\n                            muted: p.options.mute ? 1 : 0\n                        },\n                        p.options.volume && (p.playerOptions.volume = p.options.volume),\n                        p.options.showContols || (p.playerOptions.badge = 0,\n                        p.playerOptions.byline = 0,\n                        p.playerOptions.portrait = 0,\n                        p.playerOptions.title = 0),\n                        !p.$video) {\n                            var a = \"\";\n                            Object.keys(p.playerOptions).forEach(function(e) {\n                                \"\" !== a && (a += \"&\"),\n                                a += e + \"=\" + encodeURIComponent(p.playerOptions[e])\n                            }),\n                            p.$video = document.createElement(\"iframe\"),\n                            p.$video.setAttribute(\"id\", p.playerID),\n                            p.$video.setAttribute(\"src\", \"https://player.vimeo.com/video/\" + p.videoID + \"?\" + a),\n                            p.$video.setAttribute(\"frameborder\", \"0\"),\n                            p.$video.setAttribute(\"mozallowfullscreen\", \"\"),\n                            p.$video.setAttribute(\"allowfullscreen\", \"\"),\n                            e.appendChild(p.$video),\n                            document.body.appendChild(e)\n                        }\n                        p.player = p.player || new Vimeo(p.$video,p.playerOptions),\n                        p.options.startTime && p.options.autoplay && p.player.setCurrentTime(p.options.startTime),\n                        p.player.getVideoWidth().then(function(e) {\n                            p.videoWidth = e || 1280\n                        }),\n                        p.player.getVideoHeight().then(function(e) {\n                            p.videoHeight = e || 720\n                        });\n                        var r = void 0;\n                        p.player.on(\"timeupdate\", function(e) {\n                            r || (p.fire(\"started\", e),\n                            r = 1),\n                            p.fire(\"timeupdate\", e),\n                            p.options.endTime && p.options.endTime && e.seconds >= p.options.endTime && (p.options.loop ? p.play(p.options.startTime) : p.pause())\n                        }),\n                        p.player.on(\"play\", function(e) {\n                            p.fire(\"play\", e),\n                            p.options.startTime && 0 === e.seconds && p.play(p.options.startTime)\n                        }),\n                        p.player.on(\"pause\", function(e) {\n                            p.fire(\"pause\", e)\n                        }),\n                        p.player.on(\"ended\", function(e) {\n                            p.fire(\"ended\", e)\n                        }),\n                        p.player.on(\"loaded\", function(e) {\n                            p.fire(\"ready\", e)\n                        }),\n                        p.player.on(\"volumechange\", function(e) {\n                            p.fire(\"volumechange\", e)\n                        })\n                    }\n                    if (\"local\" === p.type) {\n                        p.$video || (p.$video = document.createElement(\"video\"),\n                        p.options.showContols && (p.$video.controls = !0),\n                        p.options.mute ? p.$video.muted = !0 : p.$video.volume && (p.$video.volume = p.options.volume / 100),\n                        p.options.loop && (p.$video.loop = !0),\n                        p.$video.setAttribute(\"playsinline\", \"\"),\n                        p.$video.setAttribute(\"webkit-playsinline\", \"\"),\n                        p.$video.setAttribute(\"id\", p.playerID),\n                        e.appendChild(p.$video),\n                        document.body.appendChild(e),\n                        Object.keys(p.videoID).forEach(function(e) {\n                            var t, o, i, n;\n                            t = p.$video,\n                            o = p.videoID[e],\n                            i = \"video/\" + e,\n                            (n = document.createElement(\"source\")).src = o,\n                            n.type = i,\n                            t.appendChild(n)\n                        })),\n                        p.player = p.player || p.$video;\n                        var l = void 0;\n                        p.player.addEventListener(\"playing\", function(e) {\n                            l || p.fire(\"started\", e),\n                            l = 1\n                        }),\n                        p.player.addEventListener(\"timeupdate\", function(e) {\n                            p.fire(\"timeupdate\", e),\n                            p.options.endTime && p.options.endTime && this.currentTime >= p.options.endTime && (p.options.loop ? p.play(p.options.startTime) : p.pause())\n                        }),\n                        p.player.addEventListener(\"play\", function(e) {\n                            p.fire(\"play\", e)\n                        }),\n                        p.player.addEventListener(\"pause\", function(e) {\n                            p.fire(\"pause\", e)\n                        }),\n                        p.player.addEventListener(\"ended\", function(e) {\n                            p.fire(\"ended\", e)\n                        }),\n                        p.player.addEventListener(\"loadedmetadata\", function() {\n                            p.videoWidth = this.videoWidth || 1280,\n                            p.videoHeight = this.videoHeight || 720,\n                            p.fire(\"ready\"),\n                            p.options.autoplay && p.play(p.options.startTime)\n                        }),\n                        p.player.addEventListener(\"volumechange\", function(e) {\n                            p.getVolume(function(e) {\n                                p.options.volume = e\n                            }),\n                            p.fire(\"volumechange\", e)\n                        })\n                    }\n                    u(p.$video)\n                })\n            }\n        }, {\n            key: \"init\",\n            value: function() {\n                this.playerID = \"VideoWorker-\" + this.ID\n            }\n        }, {\n            key: \"loadAPI\",\n            value: function() {\n            \tif (this.type == \"vimeo\") {\n\t            \trequire(['https://player.vimeo.com/api/player.js'], function(Vimeo) {\n\t\t                if (!l || !u) {\n\t\t                \twindow.Vimeo = Vimeo;\n\t\t                }\n\t            \t});\n            \t} else {\n            \t\tif (!l || !u) {\n\t                    var e = \"\";\n\t                    if (\"youtube\" !== this.type || l || (l = 1,\n\t                    e = \"https://www.youtube.com/iframe_api\"),\n\t                    \"vimeo\" !== this.type || u || (u = 1,\n\t                    e = \"https://player.vimeo.com/api/player.js\"),\n\t                    e) {\n\t                        var t = document.createElement(\"script\")\n\t                          , o = document.getElementsByTagName(\"head\")[0];\n\t                        t.src = e,\n\t                        o.appendChild(t),\n\t                        t = o = null\n\t                    }\n\t                }\n            \t}\n            }\n        }, {\n            key: \"onAPIready\",\n            value: function(e) {\n                if (\"youtube\" === this.type && (\"undefined\" != typeof YT && 0 !== YT.loaded || p ? \"object\" === (\"undefined\" == typeof YT ? \"undefined\" : n(YT)) && 1 === YT.loaded ? e() : s.done(function() {\n                    e()\n                }) : (p = 1,\n                window.onYouTubeIframeAPIReady = function() {\n                    window.onYouTubeIframeAPIReady = null,\n                    s.resolve(\"done\"),\n                    e()\n                }\n                )),\n                \"vimeo\" === this.type)\n                    if (\"undefined\" != typeof Vimeo || d)\n                        \"undefined\" != typeof Vimeo ? e() : y.done(function() {\n                            e()\n                        });\n                    else {\n                        d = 1;\n                        var t = setInterval(function() {\n                            \"undefined\" != typeof Vimeo && (clearInterval(t),\n                            y.resolve(\"done\"),\n                            e())\n                        }, 20)\n                    }\n                \"local\" === this.type && e()\n            }\n        }]),\n        i\n    }();\n    t.default = c\n}\n, function(e, t, o) {\n    \"use strict\";\n    Object.defineProperty(t, \"__esModule\", {\n        value: !0\n    }),\n    t.default = function() {\n        var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : u.default.jarallax;\n        if (void 0 === e)\n            return;\n        var t = e.constructor\n          , i = t.prototype.init;\n        t.prototype.init = function() {\n            var o = this;\n            i.apply(o),\n            o.video && !o.options.disableVideo() && o.video.getVideo(function(e) {\n                var t = e.parentNode;\n                o.css(e, {\n                    position: o.image.position,\n                    top: \"0px\",\n                    left: \"0px\",\n                    right: \"0px\",\n                    bottom: \"0px\",\n                    width: \"100%\",\n                    height: \"100%\",\n                    maxWidth: \"none\",\n                    maxHeight: \"none\",\n                    margin: 0,\n                    zIndex: -1\n                }),\n                o.$video = e,\n                o.image.$container.appendChild(e),\n                t.parentNode.removeChild(t)\n            })\n        }\n        ;\n        var l = t.prototype.coverImage;\n        t.prototype.coverImage = function() {\n            var e = this\n              , t = l.apply(e)\n              , o = !!e.image.$item && e.image.$item.nodeName;\n            if (t && e.video && o && (\"IFRAME\" === o || \"VIDEO\" === o)) {\n                var i = t.image.height\n                  , n = i * e.image.width / e.image.height\n                  , a = (t.container.width - n) / 2\n                  , r = t.image.marginTop;\n                t.container.width > n && (n = t.container.width,\n                i = n * e.image.height / e.image.width,\n                a = 0,\n                r += (t.image.height - i) / 2),\n                \"IFRAME\" === o && (i += 400,\n                r -= 200),\n                e.css(e.$video, {\n                    width: n + \"px\",\n                    marginLeft: a + \"px\",\n                    height: i + \"px\",\n                    marginTop: r + \"px\"\n                })\n            }\n            return t\n        }\n        ;\n        var o = t.prototype.initImg;\n        t.prototype.initImg = function() {\n            var e = this\n              , t = o.apply(e);\n            return e.options.videoSrc || (e.options.videoSrc = e.$item.getAttribute(\"data-jarallax-video\") || null),\n            e.options.videoSrc ? (e.defaultInitImgResult = t,\n            !0) : t\n        }\n        ;\n        var n = t.prototype.canInitParallax;\n        t.prototype.canInitParallax = function() {\n            var o = this\n              , e = n.apply(o);\n            if (!o.options.videoSrc)\n                return e;\n            var t = new r.default(o.options.videoSrc,{\n                autoplay: !0,\n                loop: o.options.videoLoop,\n                showContols: !1,\n                startTime: o.options.videoStartTime || 0,\n                endTime: o.options.videoEndTime || 0,\n                mute: o.options.videoVolume ? 0 : 1,\n                volume: o.options.videoVolume || 0\n            });\n            if (t.isValid())\n                if (e) {\n                    if (t.on(\"ready\", function() {\n                        if (o.options.videoPlayOnlyVisible) {\n                            var e = o.onScroll;\n                            o.onScroll = function() {\n                                e.apply(o),\n                                (o.options.videoLoop || !o.options.videoLoop && !o.videoEnded) && (o.isVisible() ? t.play() : t.pause())\n                            }\n                        } else\n                            t.play()\n                    }),\n                    t.on(\"started\", function() {\n                        o.image.$default_item = o.image.$item,\n                        o.image.$item = o.$video,\n                        o.image.width = o.video.videoWidth || 1280,\n                        o.image.height = o.video.videoHeight || 720,\n                        o.coverImage(),\n                        o.clipContainer(),\n                        o.onScroll(),\n                        o.image.$default_item && (o.image.$default_item.style.display = \"none\")\n                    }),\n                    t.on(\"ended\", function() {\n                        o.videoEnded = !0,\n                        o.options.videoLoop || o.image.$default_item && (o.image.$item = o.image.$default_item,\n                        o.image.$item.style.display = \"block\",\n                        o.coverImage(),\n                        o.clipContainer(),\n                        o.onScroll())\n                    }),\n                    o.video = t,\n                    !o.defaultInitImgResult)\n                        return \"local\" !== t.type ? (t.getImageURL(function(e) {\n                            o.image.src = e,\n                            o.init()\n                        }),\n                        !1) : (o.image.src = \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\",\n                        !0)\n                } else\n                    o.defaultInitImgResult || t.getImageURL(function(e) {\n                        var t = o.$item.getAttribute(\"style\");\n                        t && o.$item.setAttribute(\"data-jarallax-original-styles\", t),\n                        o.css(o.$item, {\n                            \"background-image\": 'url(\"' + e + '\")',\n                            \"background-position\": \"center\",\n                            \"background-size\": \"cover\"\n                        })\n                    });\n            return e\n        }\n        ;\n        var a = t.prototype.destroy;\n        t.prototype.destroy = function() {\n            var e = this;\n            e.image.$default_item && (e.image.$item = e.image.$default_item,\n            delete e.image.$default_item),\n            a.apply(e)\n        }\n    }\n    ;\n    var r = i(o(8))\n      , u = i(o(4));\n    function i(e) {\n        return e && e.__esModule ? e : {\n            default: e\n        }\n    }\n}\n]);","Magezon_Builder/js/services/modal.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar modal = function($rootScope, $uibModal, magezonBuilderUrl) {\n\n\t\tthis.action = 'append';\n\t\tvar self = this;\n\t\tself.modals = {};\n\n\t\t$rootScope.$on('closeAllModals', function(e) {\n\t\t\tself.closeModal();\n\t\t});\n\n\t\tthis.registerModals = function(modals) {\n\t\t\tvar newModals = {};\n\t\t\tangular.forEach(modals, function(modal, key) {\n\t\t\t\tmodal['key'] = key;\n\t\t\t\tif (!modal.hasOwnProperty('key')) modal['size'] = {};\n\t\t\t\tif (!modal.hasOwnProperty('position')) modal['position'] = {};\n\t\t\t\trequire([modal['element']], function (config) {\n\t\t\t\t\tself.modals[key] = angular.merge(modal, config);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tthis.getModal = function(name) {\n\t\t\treturn self.modals[name];\n\t\t}\n\n\t\tthis.getElement = function() {\n\t\t\treturn this.element;\n\t\t}\n\n\t\tthis.setElement = function(element) {\n\t\t\tthis.element = element;\n\t\t}\n\n\t\tthis.getAction = function() {\n\t\t\treturn this.action;\n\t\t}\n\n\t\tthis.setAction = function(action) {\n\t\t\tthis.action = action;\n\t\t}\n\n\t\tthis.getData = function() {\n\t\t\treturn this.data;\n\t\t}\n\n\t\tthis.setData = function(data) {\n\t\t\tthis.data = data;\n\t\t}\n\n\t\tthis.getOpenModal = function() {\n\t\t\treturn this.openModal;\n\t\t}\n\n\t\tthis.setOpenModal = function(openModal) {\n\t\t\tthis.openModal = openModal;\n\t\t}\n\n\t\tthis.open = function(name, config, closeCallback, cancelCallback) {\n\t\t\tif (!config) config = {};\n\t\t\tif (!closeCallback) closeCallback = function() {};\n\t\t\tif (!cancelCallback) cancelCallback = function() {};\n\t\t\tif (!config.backdrop) {\n\t\t\t\tself.closeModal();\n\t\t\t}\n\t\t\tvar modal = self.getModal(name);\n\t\t\tif (modal) {\n\t\t\t\tif (modal.controller) {\n\t\t\t\t\tconfig.controller = modal.controller;\n\t\t\t\t} else {\n\t\t\t\t\tconfig.controller = 'modalBaseController';\n\t\t\t\t}\n\t\t\t\tif (!config.templateUrl && modal.templateUrl) config.templateUrl = modal.templateUrl;\n\t\t\t\tif (!config.controllerAs) config.controllerAs = 'mgz';\n\t\t\t\tconfig.windowTemplateUrl = magezonBuilderUrl.getViewFileUrl(config.windowTemplateUrl ? config.windowTemplateUrl : 'Magezon_Builder/js/templates/modal/window.html');\n\t\t\t\tif (config.openedClass) {\n\t\t\t\t\tconfig.openedClass += ' mgz-modal-open';\n\t\t\t\t} else {\n\t\t\t\t\tconfig.openedClass = 'mgz-modal-open';\n\t\t\t\t}\n\t\t\t\tif (config.windowClass) {\n\t\t\t\t\tconfig.windowClass += ' mgz-modal';\n\t\t\t\t} else {\n\t\t\t\t\tconfig.windowClass = 'mgz-modal';\n\t\t\t\t}\n\t\t\t\tconfig.windowClass += ' ' + self.getModalId(name);\n\t\t\t\tif (config.templateUrl) config.templateUrl = magezonBuilderUrl.getViewFileUrl(config.templateUrl);\n\t\t\t\tif (!config.hasOwnProperty('backdrop')) config['backdrop'] = false;\n\t\t\t\tif (!config.hasOwnProperty('keyboard')) config['keyboard'] = false;\n\t\t\t\tif (modal.resizable) config.windowClass += ' mgz-modal-resizable';\n\t\t\t\tvar resolve = {\n\t\t\t\t\tmodal: modal,\n\t\t\t\t\tform: {}\n\t\t\t\t};\n\t\t\t\tif (config.resolve) {\n\t\t\t\t\tconfig.resolve = angular.extend(resolve, config.resolve);\n\t\t\t\t} else {\n\t\t\t\t\tconfig.resolve = resolve;\n\t\t\t\t}\n\t\t\t\tvar uibModal = $uibModal.open(config);\n\t\t\t\tuibModal.result.then(closeCallback, cancelCallback);\n\t\t\t\tif (!config.backdrop) {\n\t\t\t\t\tself.currentModal = uibModal;\n\t\t\t\t\tself.currentModal.name = name;\n\t\t\t\t}\n\t\t\t\treturn uibModal;\n\t\t\t} else {\n\t\t\t\talert('There is no modal with name ' + name);\n\t\t\t}\n\t\t}\n\n\t\tthis.getModalId = function(name) {\n\t\t\treturn 'mgz-modal-' + name;\n\t\t}\n\n\t\tthis.closeModal = function(name) {\n\t\t\tif (!name && self.currentModal) {\n\t\t\t\tself.currentModal.dismiss('cancel');\n\t\t\t}\n\t\t}\n\t}\n\n\treturn modal;\n});","Magezon_Builder/js/services/url.js":"define([\n\t'jquery',\n\t'angular',\n], function ($, angular) {\n\n\tvar magezonBuilderUrl = function($rootScope, elementManager) {\n\n\t    this.getTemplateUrl = function(elem, defaultTemplate) {\n\t    \tvar templateUrl;\n\t    \tvar matches = elem.context.localName.match(\"mgz-element-navigator-(.*)-mgz\");\n\t    \tif (matches) {\n\t    \t\tvar name = matches[1];\n\t\t\t\ttemplateUrl = elementManager.getElement(name).navigatorTemplateUrl;\n\t    \t} else {\n\t\t\t\tvar matches2 = elem.context.localName.match(\"mgz-element-(.*)-mgz\");\n\t\t\t\tif (matches2) {\n\t\t\t\t\tvar name = matches2[1];\n\t\t\t\t\ttemplateUrl = elementManager.getElement(name).templateUrl;\n\t\t\t\t} else {\n\t\t\t\t\ttemplateUrl = elem.attr('templateUrl');\n\t\t\t\t\tif (!templateUrl) templateUrl = elem.attr('template-url');\n\t\t\t\t\tif (!templateUrl) templateUrl = elem.parent().attr('template-url');\n\t\t\t\t\tif (!templateUrl) templateUrl = elem.parent().attr('templateUrl');\n\t\t\t\t}\n\t    \t}\n\t\t\tif (!templateUrl && defaultTemplate) templateUrl = defaultTemplate;\n\t    \treturn this.getViewFileUrl(templateUrl);\n\t    }\n\n\t\tthis.getViewFileUrl = function(file) {\n\t\t\tif (file.indexOf('http') === -1) {\n\t\t\t\treturn $rootScope.builderConfig.viewFileUrl + file;\n\t\t\t} else {\n\t\t\t\treturn file;\n\t\t\t}\n\t\t}\n\n\t\tthis.getImageUrl = function(file) {\n\t\t\tif (file && (file.indexOf('http:://') === -1 || file.indexOf('https://') === -1)) {\n\t\t\t\treturn $rootScope.builderConfig.mediaUrl + file;\n\t\t\t} else {\n\t\t\t\treturn file;\n\t\t\t}\n\t\t}\n\n\t\tthis.getUrl = function(url, params) {\n\t\t\tif (url.indexOf('http') === -1) {\n\t\t\t\turl = $rootScope.builderConfig.baseUrl + url;\n\t\t\t}\n\t\t\tif (params) {\n\t\t\t\turl += '?' + $.param(params);\n\t\t\t}\n\t\t\treturn url;\n\t\t}\n\n\t\tthis.getFrontendUrl = function(url, params) {\n\t\t\tif (url.indexOf('http') === -1) {\n\t\t\t\turl = $rootScope.builderConfig.frontend_url + url;\n\t\t\t}\n\t\t\tif (params) {\n\t\t\t\turl += '?' + $.param(params);\n\t\t\t}\n\t\t\treturn url;\n\t\t}\n\t}\n\n\treturn magezonBuilderUrl;\n});","Magezon_Builder/js/services/editor.js":"define([\n\t'jquery',\n\t'angular',\n    'mage/adminhtml/wysiwyg/tiny_mce/html5-schema',\n    'mage/adminhtml/events'\n], function ($, angular, html5Schema) {\n\n\tif (typeof tinyMceEditors == 'undefined') {\n        window.tinyMceEditors = $H({});\n    }\n\n\tvar editor = function($rootScope, $timeout, magezonBuilderFilter) {\n\t\tvar self     = this;\n\t\tself.wysiwyg = angular.copy($rootScope.builderConfig.wysiwyg);\n\t\tself.schema  = html5Schema;\n\n\t\tself.initTinymce = function(id, config, onChange, onInit) {\n\t\t\t$timeout(function() {\n\t\t\t\tif (self.wysiwyg.tinymce4) {\n\t\t\t\t\tself.setupTinymce4(id, config, onChange, onInit);\n\t\t\t\t} else {\n\t\t\t\t\tself.setupTinymce3(id, config, onChange, onInit);\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t}\n\n\t\tself.setupTinymce4 = function (id, config, onChange, onInit) {\n\t\t    var settings;\n\t\t    var deferreds = [];\n\n\t\t    settings = {\n\t\t    \tselector: '#' + id,\n\t\t    \tmode: 'inline',\n\t\t        theme: 'modern',\n\t\t        entity_encoding: 'raw',\n\t\t        convert_urls: false,\n\t\t        relative_urls: false,\n\t\t        remove_script_host: false,\n\t\t        verify_html: false,\n\t\t        menubar: false,\n\t\t        adapter: this,\n\t\t        setup: function(editor) {\n\t\t        \teditor.on('BeforeSetContent', function (evt) {\n\t\t        \t\tif (evt.content) {\n\t\t        \t\t\tevt.content = magezonBuilderFilter.encodeContent(evt.content);\n\t\t        \t\t}\n\t\t        \t});\n\n\t\t            editor.on('change', function(evt) {\n\t\t            \tvar value = window.tinyMCE.get(evt.target.id).getContent();\n\t\t            \tvalue = magezonBuilderFilter.decodeContent(value);\n\t\t            \tself._onChange(onChange, value);\n\t\t            });\n\t\t        }\n\t\t    };\n\t\t    settings = Object.extend(settings, config);\n\t\t    delete settings['plugins'];\n\n\t\t    if (config.baseStaticUrl && config.baseStaticDefaultUrl) {\n\t\t        settings['document_base_url'] = config.baseStaticUrl;\n\t\t    }\n\t\t    // Set the document base URL\n\t\t    if (config['document_base_url']) {\n\t\t        settings['document_base_url'] = config['document_base_url'];\n\t\t    }\n\n\t\t    if (config['files_browser_window_url']) {\n\t\t        /**\n\t\t         * @param {*} fieldName\n\t\t         * @param {*} url\n\t\t         * @param {*} objectType\n\t\t         * @param {*} w\n\t\t         */\n\t\t        settings['file_browser_callback'] = function (fieldName, url, objectType, w) {\n\t\t            self.openFileBrowser4({\n\t\t                win: w,\n\t\t                type: objectType,\n\t\t                field: fieldName\n\t\t            });\n\t\t        }.bind(this);\n\t\t    }\n\n\t\t    if (config.width) {\n\t\t        settings.width = config.width;\n\t\t    }\n\n\t\t    if (config.height) {\n\t\t        settings.height = config.height;\n\t\t    }\n\n\t\t    var plugins = [];\n\t\t    //var plugins = config.plugins ? config.plugins.split(' ') : [];\n\t\t    var toolbar = config.plugins ? config.toolbar.split(' ') : [];\n\n\t\t    if (config.plugins) {\n\t\t        config.plugins.forEach(function (plugin) {\n\t\t            var deferred;\n\t\t            if (angular.isString(plugin)) {\n\t\t                plugins.push(plugin);\n\t\t                return;\n\t\t            }\n\n\t\t            if (plugins.indexOf(plugin.name) === -1) {\n\t\t                plugins.push(plugin.name);\n\t\t            }\n\n\t\t            if (toolbar.indexOf(plugin.name) === -1) {\n\t\t                toolbar.push('|', plugin.name);\n\t\t            }\n\n\t\t            if (!plugin.src) {\n\t\t                return;\n\t\t            }\n\n\t\t            deferred = $.Deferred();\n\t\t            deferreds.push(deferred);\n\n\t\t            require([plugin.src], function (factoryFn) {\n\t\t                if (typeof factoryFn === 'function') {\n\t\t                    factoryFn(plugin.options);\n\t\t                }\n\t\t                window.tinyMCE.PluginManager.load(plugin.name, plugin.src);\n\t\t                deferred.resolve();\n\t\t            });\n\n\t\t            if (deferreds.length) {\n\t\t                jQuery.when.apply(jQuery, deferreds).done(function () {\n\t\t                    $timeout(function() {\n\t\t                    \tself._initTinymce(id, onInit, settings);\n\t\t                    });\n\t\t                });\n\t\t            }\n\t\t        });\n\t\t    }\n\t\t    settings['plugins'] = plugins.join(' ');\n\t\t    settings['toolbar'] = toolbar.join(' ');\n\t\t    if (!deferreds.length) {\n\t\t    \tself._initTinymce(id, onInit, settings);\n\t\t    }\n\t\t}\n\n\t\tself.openFileBrowser4 = function (o) {\n\t\t    var typeTitle = self.translate('Select Images'),\n\t\t        storeId = 0,\n\t\t        frameDialog = jQuery('div.mce-container[role=\"dialog\"]');\n\n\t\t    var id   = frameDialog.find('.mce-textbox').eq(0).attr('id');\n\t\t    var wUrl = self.wysiwyg.files_browser_window_url +\n\t\t            'target_element_id/' + id + '/' +\n\t\t            'store/' + storeId + '/';\n\t\t    self.mediaBrowserOpener = o.win;\n\t\t    self.mediaBrowserTargetElementId = o.field;\n\n\t\t    if (typeof o.type !== 'undefined' && o.type !== '') { //eslint-disable-line eqeqeq\n\t\t        wUrl = wUrl + 'type/' + o.type + '/';\n\t\t    }\n\n\t\t    frameDialog.hide();\n\t\t    jQuery('#mce-modal-block').hide();\n\n\t\t    require(['mage/adminhtml/browser'], function () {\n\t\t        MediabrowserUtility.openDialog(wUrl, false, false, typeTitle, {\n\t\t            /**\n\t\t             * Closed.\n\t\t             */\n\t\t            closed: function () {\n\t\t                frameDialog.show();\n\t\t                jQuery('#mce-modal-block').show();\n\t\t            }\n\t\t        });\n\t\t    });\n\t\t}\n\n\t\tthis.setupTinymce3 = function(id, config, onChange, onInit) {\n\t\t    var plugins = 'inlinepopups,safari,pagebreak,style,layer,table,advhr,advimage,emotions,iespell,media,searchreplace,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras';\n\n\t\t    if (config.widget_plugin_src) {\n\t\t        //plugins = 'magentowidget,' + plugins;\n\t\t    }\n\n\t\t    var magentoPluginsOptions = $H({});\n\t\t    var magentoPlugins = '';\n\n\t\t    if (config.plugins) {\n\t\t        config.plugins.each(function(plugin) {\n\t\t            magentoPlugins = plugin.name + ',' + magentoPlugins;\n\t\t            magentoPluginsOptions.set(plugin.name, plugin.options);\n\t\t        });\n\t\t        if (magentoPlugins) {\n\t\t            plugins = '-' + magentoPlugins + plugins;\n\t\t        }\n\t\t    }\n\n\t\t    var settings = {\n\t\t        'entity_encoding': 'raw',\n\t\t        mode: 'exact',\n\t\t        elements: id,\n\t\t        theme: 'advanced',\n\t\t        plugins: plugins,\n\t\t        theme_advanced_buttons1: magentoPlugins + 'magentowidget,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect,fontselect,fontsizeselect',\n\t\t        theme_advanced_buttons2: 'cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code,|,forecolor,backcolor',\n\t\t        theme_advanced_buttons3: 'tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,iespell,media,advhr,|,ltr,rtl,|,fullscreen',\n\t\t        theme_advanced_buttons4: 'insertlayer,moveforward,movebackward,absolute,|,styleprops,|,cite,abbr,acronym,del,ins,attribs,|,visualchars,nonbreaking,pagebreak',\n\t\t        theme_advanced_toolbar_location: 'top',\n\t\t        theme_advanced_toolbar_align: 'left',\n\t\t        theme_advanced_statusbar_location: 'bottom',\n\t\t        valid_elements: self.schema.validElements.join(','),\n\t\t        valid_children: self.schema.validChildren.join(','),\n\t\t        theme_advanced_resizing: true,\n\t\t        theme_advanced_resize_horizontal: false,\n\t\t        convert_urls: false,\n\t\t        relative_urls: false,\n\t\t        content_css: config.content_css,\n\t\t        custom_popup_css: config.popup_css,\n\t\t        magentowidget_url: config.widget_window_url,\n\t\t        magentoPluginsOptions: magentoPluginsOptions,\n\t\t        doctype: '<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">',\n\t\t        setup: function (ed) {\n\n\t\t        \tvar onChange1;\n\n\t\t        \ted.onPreInit.add(self.onEditorPreInit.bind(self));\n\n\t\t        \ted.onInit.add(self.onEditorInit.bind(self));\n\n\t\t            ed.onSubmit.add(function (edi, e) {\n\t\t                varienGlobalEvents.fireEvent('tinymceSubmit', e);\n\t\t            });\n\n\t\t            ed.onPaste.add(function (edi, e, o) {\n\t\t                varienGlobalEvents.fireEvent('tinymcePaste', o);\n\t\t            });\n\n\t\t            ed.onBeforeSetContent.add(function (edi, o) {\n\t\t                varienGlobalEvents.fireEvent('tinymceBeforeSetContent', o);\n\t\t                if (o.content) {\n\t\t        \t\t\to.content = magezonBuilderFilter.encodeContent(o.content);\n\t\t        \t\t}\n\t\t            });\n\n\t\t            ed.onSetContent.add(function (edi, o) {\n\t\t                varienGlobalEvents.fireEvent('tinymceSetContent', o);\n\t\t                self.updateTextArea(onChange, id);\n\t\t            });\n\n\t\t            ed.onSaveContent.add(function (edi, o) {\n\t\t                varienGlobalEvents.fireEvent('tinymceSaveContent', o);\n\t\t                self.updateTextArea(onChange, id);\n\t\t            });\n\n\t\t            onChange1 = function (edi, l) {\n\t\t                varienGlobalEvents.fireEvent('tinymceChange', l);\n\t\t                self.updateTextArea(onChange, id);\n\t\t            };\n\n\t\t            ed.onChange.add(onChange1);\n                    ed.onKeyUp.add(onChange1);\n\n\t\t            ed.onExecCommand.add(function (edi, cmd) {\n\t\t                varienGlobalEvents.fireEvent('tinymceExecCommand', cmd);\n\t\t                self.updateTextArea(onChange, id);\n\t\t            });\n\t\t        }\n\t\t    };\n\n\t\t    // Set the document base URL\n\t\t    if (config.document_base_url) {\n\t\t        settings.document_base_url = config.document_base_url;\n\t\t    }\n\n\t\t    if (config.files_browser_window_url) {\n\t\t        settings['file_browser_callback'] = function (fieldName, url, objectType, w) {\n\t\t            self.openFileBrowser3(id, {\n\t\t                win: w,\n\t\t                type: objectType,\n\t\t                field: fieldName\n\t\t            });\n\t\t        }.bind(this);\n\t\t    }\n\n\t\t    if (config.width) {\n\t\t        settings.width = config.width;\n\t\t    }\n\n\t\t    if (config.height) {\n\t\t        settings.height = config.height;\n\t\t    }\n\n\t\t    if (config.settings) {\n\t\t        Object.extend(settings, config.settings)\n\t\t    }\n\n\t\t    setTimeout(function() {\n\t\t        self._initTinymce(id, onInit, settings);\n\t\t    }, 1000);\n\n\t\t    return settings;\n\t\t}\n\n\t\tself.openFileBrowser3 = function(id, o) {\n\t\t\tvar typeTitle,\n\t\t\tstoreId = 0,\n\t\t\tframeDialog = jQuery(o.win.frameElement).parents('[role=\"dialog\"]'),\n\t\t\twUrl = self.wysiwyg.files_browser_window_url +\n\t\t\t'target_element_id/' + id + '/' +\n\t\t\t'store/' + storeId + '/';\n\n\t\t\tself.mediaBrowserOpener = o.win;\n\t\t\tself.mediaBrowserTargetElementId = o.field;\n\n\t\t\tif (typeof(o.type) != 'undefined' && o.type != \"\") {\n\t\t\t\ttypeTitle = 'image' == o.type ? self.translate('Insert Image...') : self.translate('Insert Media...');\n\t\t\t\twUrl = wUrl + \"type/\" + o.type + \"/\";\n\t\t\t} else {\n\t\t\t\ttypeTitle = self.translate('Insert File...');\n\t\t\t}\n\n\t\t\tframeDialog.hide();\n\t\t\tjQuery('#mceModalBlocker').hide();\n\n\t\t\tMediabrowserUtility.openDialog(wUrl, false, false, typeTitle, {\n\t\t\t\tclosed: function() {\n\t\t\t\t\tframeDialog.show();\n\t\t\t\t\tjQuery('#mceModalBlocker').show();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tself.updateTextArea = function (onChange, id) {\n\t\t    var editor = window.tinyMCE.get(id),\n\t\t        content;\n\t\t    if (!editor) return;\n\t\t    self._onChange(onChange, editor.getContent());\n\t\t}\n\n\t\tself._initTinymce = function(id, onInit, settings) {\n\t\t\ttinymce.init(settings);\n\t\t\tvar editor = tinymce.get(id);\n\t\t\tself._onInit(onInit, editor);\n\t\t\ttinyMceEditors.set(id, self);\n\t\t}\n\n\t\tself.getMediaBrowserOpener = function () {\n            return this.mediaBrowserOpener;\n        }\n\n        self.getMediaBrowserTargetElementId = function () {\n            return this.mediaBrowserTargetElementId;\n        }\n\n\t\tself._onChange = function(onChange, value) {\n\t\t\tif (angular.isFunction(onChange)) {\n\t\t\t\t$timeout(function() {\n\t\t\t\t\tonChange(value);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tself._onInit = function(onInit, editor) {\n\t\t\tif (angular.isFunction(onInit)) {\n\t\t\t\tonInit(editor);\n\t\t\t}\n\t\t}\n\n\t\tself.onEditorInit = function (editor) {\n        }\n\n\t\tself.onEditorPreInit = function (editor) {\n            self.applySchema(editor);\n        }\n\n\t\tself.applySchema= function (editor) {\n            var schema      = editor.schema,\n                schemaData  = self.schema,\n                makeMap     = window.tinyMCE.makeMap;\n\n            jQuery.extend(true, {\n                nonEmpty: schema.getNonEmptyElements(),\n                boolAttrs: schema.getBoolAttrs(),\n                whiteSpace: schema.getWhiteSpaceElements(),\n                shortEnded: schema.getShortEndedElements(),\n                selfClosing: schema.getSelfClosingElements(),\n                blockElements: schema.getBlockElements()\n            }, {\n                nonEmpty: makeMap(schemaData.nonEmpty),\n                boolAttrs: makeMap(schemaData.boolAttrs),\n                whiteSpace: makeMap(schemaData.whiteSpace),\n                shortEnded: makeMap(schemaData.shortEnded),\n                selfClosing: makeMap(schemaData.selfClosing),\n                blockElements: makeMap(schemaData.blockElements)\n            });\n        }\n\n        /**\n         * @param {String} string\n         * @return {String}\n         */\n        self.translate = function (string) {\n            return jQuery.mage.__ ? jQuery.mage.__(string) : string;\n        }\n\n        self.remove = function(id) {\n        \tif (window.tinyMCE.get(id)) {\n        \t\twindow.tinyMCE.get(id).destroy();\n        \t}\n        }\n\t}\n\n\treturn editor;\n\n})","Magezon_Builder/js/services/form.js":"define([\n\t'jquery',\n\t'angular',\n\t'Magezon_Builder/js/factories/FormlyUtils'\n], function ($, angular, FormlyUtils) {\n\n\tvar form = function($rootScope, formlyConfig, magezonBuilderService, $timeout, magezonBuilderConfig) {\n\t\tvar self = this;\n\n\t\tthis.registerTypes = function(array) {\n\t\t\tfor (var i = 0; i < array.length; i++) {\n\t\t\t\tvar elem = array[i];\n\t\t\t\t// DynamicRows\n\t\t\t\tif (elem.templateOptions.children) {\n\t\t\t\t\tself.registerTypes(elem.templateOptions.children, formlyConfig);\n\t\t\t\t}\n\t\t\t\tif (elem.hasOwnProperty('fieldGroup')) {\n\t\t\t\t\tformlyConfig.setWrapper({\n\t\t\t\t\t\tname: elem.wrapper,\n\t\t\t\t\t\ttemplateUrl: elem.templateOptions.templateUrl\n\t\t\t\t\t});\n\t\t\t\t\tself.registerTypes(elem['fieldGroup'], formlyConfig);\n\t\t\t\t} else {\n\t\t\t\t\tvar newType = {\n\t\t\t\t\t\tname: elem.type,\n\t\t\t\t\t\ttemplateUrl: elem.templateOptions.templateUrl\n\t\t\t\t\t};\n\t\t\t\t\tif (elem.defaultOptions) {\n\t\t\t\t\t\tnewType.defaultOptions = Object.assign({}, elem.defaultOptions);\n\t\t\t\t\t}\n\t\t\t\t\tformlyConfig.setType(newType);\n\t\t\t\t}\n\t\t\t\tif (elem.templateOptions.wrapperTemplateUrl) {\n\t\t\t\t\tformlyConfig.setWrapper({\n\t\t\t\t\t\tname: elem.data.wrapperType,\n\t\t\t\t\t\ttemplateUrl: elem.templateOptions.wrapperTemplateUrl\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.processFormFields = function(fields, callbackFunction) {\n\t\t\tvar excludedFields  = ['defaultOptions'];\n\t\t\tvar requireElements = [];\n\n\t\t\tvar processRequireElements = function(children) {\n\t\t\t\tangular.forEach(children, function(elem) {\n\t\t\t\t\tif (elem.data && elem.data.element && $.inArray(elem.data.element, requireElements)===-1) {\n\t\t\t\t\t\trequireElements.push(elem.data.element);\n\t\t\t\t\t}\n\t\t\t\t\tif (elem.fieldGroup) {\n\t\t\t\t\t\tprocessRequireElements(elem.fieldGroup);\n\t\t\t\t\t}\n\t\t\t\t\tif (elem.templateOptions.children) {\n\t\t\t\t\t\tprocessRequireElements(elem.templateOptions.children);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tprocessRequireElements(fields);\n\n\t\t\tvar extendProperties = ['templateOptions'];\n\t\t\tvar mergeElement = function(array, element, data) {\n\t\t\t\tfor (var i = 0; i < array.length; i++) {\n\t\t\t\t\tvar row = array[i];\n\t\t\t\t\tif (row['data'] && row['data']['element'] && row['data']['element'] == element) {\n\t\t\t\t\t\t_.each(extendProperties, function(property) {\n\t\t\t\t\t\t\t_.each(data[property], function(value, key) {\n\t\t\t\t\t\t\t\tif (!row[property].hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\t\trow[property][key] = value;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tdelete data[property];\n\t\t\t\t\t\t});\n\t\t\t\t\t\t_.each(data, function(value, key) {\n\t\t\t\t\t\t\trow[key] = value;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\tfor (var z = 0; z < excludedFields.length; z++) {\n\t\t\t\t\t\tdelete row[excludedFields[z]];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (row.hasOwnProperty('fieldGroup')) {\n\t\t\t\t\t\tmergeElement(row['fieldGroup'], element, data);\n\t\t\t\t\t}\n\t\t\t\t\tif (row.hasOwnProperty('fields')) {\n\t\t\t\t\t\tmergeElement(row['fields'], element, data);\n\t\t\t\t\t}\n\t\t\t\t\tif (row.templateOptions.children) {\n\t\t\t\t\t\tmergeElement(row.templateOptions.children, element, data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (requireElements.length) {\n\t\t\t\tvar loaded = 0;\n\t\t\t\t_.each(requireElements, function(element, index) {\n\t\t\t\t\trequire([element], function(data) {\n\t\t\t\t\t\tmergeElement(fields, element, data);\n\t\t\t\t\t\tloaded++;\n\t\t\t\t\t\tif (loaded == requireElements.length) {\n\t                \t\tcallbackFunction(fields);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t            callbackFunction(fields);\n\t\t\t}\n\t\t}\n\n\t\tthis.getForm = function(name, callback, ajaxData) {\n\t\t\tmagezonBuilderService.getBuilderConfig(name, function(result) {\n\t\t\t\tvar newFields = angular.copy(result.form);\n\t\t\t\tvar fields = FormlyUtils.processFields(newFields, 'children');\n\t\t\t\tself.registerTypes(fields);\n\t\t\t\tself.processFormFields(fields, function(tabs) {\n\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\t$rootScope.$broadcast('afterLoadModalTabs');\n\t\t\t\t\t\tcallback(tabs, result);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\treturn form;\n\n})","Magezon_Builder/js/services/profile.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar profileService = function($rootScope, elementManager, magezonBuilderForm, magezonBuilderService) {\n\n\t\tvar self = this;\n\t\tvar defaultSettings = [];\n\n\t\tmagezonBuilderForm.getForm('modals.settings', function(tabs, res) {\n\t\t\tself.defaultSettings = res.defaultValues;\n\t\t});\n\n        $rootScope.$on('exportShortcode', function(e) {\n\t\t\tself.export();\n\t\t\tsetTimeout(function() {\n        \t\t$rootScope.$broadcast('loadStyles');\n\t\t\t});\n\t\t});\n\n\t\t$rootScope.$on('importShortcode', function(e) {\n\t\t\tself.import();\n\t\t\tsetTimeout(function() {\n\t\t\t\t$rootScope.$broadcast('loadStyles');\n\t\t\t});\n\t\t});\n\n\t\tthis.export = function() {\n\t\t\tvar content  = this.getTargetContent();\n\t\t\tvar _content = this.getContent();\n\t\t\tif (magezonBuilderService.isJSON(_content)) {\n\t\t\t\tvar key = this.getKey();\n\t\t\t\tif (key) {\n\t\t\t\t\t_content = '[' + key + ']' + _content + '[/' + key + ']';\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar result = content.replace(_content, this.getShortCode());\n\t\t\tthis.getTargetSelector().val(result);\n\t\t\tthis.getTargetSelector().trigger('change');\n\t\t}\n\n\t\tthis.getShortCode = function() {\n\t\t\tvar key = this.getKey();\n\t\t\tvar result = '';\n\t\t\tif (key) {\n\t\t\t\tresult += '[' + key + ']';\n\t\t\t}\n\t\t\tresult += this.toString();\n\t\t\tif (key) {\n\t\t\t\tresult += '[/' + key + ']';\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\tthis.import = function() {\n\t\t\tvar content = this.getContent();\n\t\t\tvar isJSON  = magezonBuilderService.isJSON(content);\n\t\t\tvar profile = this.prepareProfile(content);\n\t\t\t$rootScope.$apply(function() {\n\t\t\t\t$rootScope.profile = angular.extend($rootScope.profile, profile);\n\t\t\t\tif (content) {\n\t\t\t\t\tif (!isJSON) {\n\t\t\t\t\t\t$rootScope.profile = angular.extend($rootScope.profile, self.defaultSettings);\n\t\t\t\t\t\t$rootScope.$broadcast('addElement', {\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\topenModal: false,\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\thistory: false,\n\t\t\t\t\t\t\t\tcontent: content\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$rootScope.$broadcast('exportShortcode');\n\t\t\t});\n\t\t}\n\n\t\tthis.getTargetSelector = function() {\n\t\t\treturn $('#' + this.getTargetId());\n\t\t}\n\n\t\tthis.getTargetId = function() {\n\t\t\treturn $rootScope.builderConfig.targetId;\n\t\t}\n\n\t\tthis.getKey = function() {\n\t\t\treturn $rootScope.builderConfig.profile.key;\n\t\t}\n\n\t\tthis.getContent = function() {\n\t\t\tvar key     = this.getKey();\n\t\t\tvar content = this.getTargetSelector().val();\n\t\t\tvar regExp  = '\\\\[' + key + '\\\\](.*)\\\\[/' + key + '\\\\]';\n\t\t\tvar matches = content.match(regExp);\n\t\t\tif (matches) content = matches[1];\n\t\t\treturn content;\n\t\t}\n\n\t\tthis.prepareProfile = function(content, force) {\n\t\t\tvar key = this.getKey();\n\t\t\tvar regExp  = '\\\\[' + key + '\\\\](.*)\\\\[/' + key + '\\\\]';\n\t\t\tvar matches = content.match(regExp);\n\t\t\tif (matches) content = matches[1];\n\t\t\tvar profile = {\n\t\t\t\tbuilder: elementManager.getBuilderConfig('profile'),\n\t\t\t\telements: []\n\t\t\t};\n\t\t\tvar isJSON = magezonBuilderService.isJSON(content);\n\t\t\tif (isJSON) {\n\t\t\t\tvar _profile = JSON.parse(content);\n\t\t\t\tangular.forEach(_profile, function(value, key) {\n\t\t\t\t\tif (key !== 'elements') {\n\t\t\t\t\t\tprofile[key] = value;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tprofile.elements = elementManager.prepareElements(angular.copy(_profile.elements), force);\n\t\t\t}\n\t\t\tif (!profile['pid']) profile['pid'] = magezonBuilderService.getUniqueId();\n\t\t\treturn profile;\n\t\t}\n\n\t\tthis.getJsonElements = function() {\n\t\t\treturn this.prepareElements($rootScope.profile.elements);\n\t\t}\n\n\t\tthis.toString = function() {\n\t\t\tvar profile = angular.copy($rootScope.profile);\n\t\t\tvar result = {};\n\t\t\tvar excludedFields = ['allowed_types', 'builder'];\n\t\t\tangular.forEach(profile, function(value, key) {\n\t\t\t\tif (excludedFields.indexOf(key) === -1) {\n\t\t\t\t\tresult[key] = value;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!result['pid']) result['pid'] = magezonBuilderService.getUniqueId();\n\t\t\tresult.elements = this.prepareElements($rootScope.profile.elements);\n\t\t\treturn angular.toJson(result);\n\t\t}\n\n\t\tthis.getTargetContent = function() {\n            return this.getTargetSelector().val();\n\t\t}\n\n\t\tthis.prepareElements = function(elements) {\n\t\t\tvar _elements = angular.copy(elements);\n\t\t\tvar newElements = [];\n\t\t\tangular.forEach(_elements, function(element) {\n\t\t\t\tvar builderElement = elementManager.getElement(element.type);\n\t\t\t\tif (builderElement.name !== element.builder.name) {\n\t\t\t\t\telement.builderName = element.builder.name;\n\t\t\t\t} else {\n\t\t\t\t\tdelete element.builderName;\n\t\t\t\t}\n\t\t\t\tdelete element.builder;\n\t\t\t\tif (builderElement) {\n\t\t\t\t\tif (element.elements) {\n\t\t\t\t\t\telement.elements = self.prepareElements(element.elements);\n\t\t\t\t\t}\n\t\t\t\t\tnewElements.push(element);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn newElements;\n\t\t}\n\n\t\tthis.updateElements = function(elements) {\n\t\t\t$rootScope.profile.elements = elements;\n\t\t}\n\t}\n\n\treturn profileService;\n});","Magezon_Builder/js/services/magezonBuilder.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar magezonBuilderService = function($rootScope, magezonBuilderUrl, elementManager) {\n\t\tvar self = this;\n\t\tself.data = {};\n\t\tself.cacheRequests = {};\n\n\t\tthis.viewMode = 'xl';\n\n\t\tthis.setViewMode = function(viewMode) {\n\t\t\tthis.viewMode = viewMode;\n\t\t}\n\n\t\tthis.getViewMode = function(viewMode) {\n\t\t\treturn this.viewMode;\n\t\t}\n\n\t\tthis.getBuilderConfig = function(requestKey, callbackFunction) {\n\t\t\tvar self = this;\n\t\t\tif (!self.data.hasOwnProperty(requestKey)) {\n\t\t\t\tif (!self.cacheRequests.hasOwnProperty(requestKey)) {\n\t\t\t\t\t$.ajax({\n\t\t                url: magezonBuilderUrl.getUrl('mgzbuilder/ajax/loadConfig'),\n\t\t                type:'POST',\n\t\t                data: {\n\t\t                \tarea: $rootScope.builderConfig.area,\n\t\t                \thandle: $rootScope.builderConfig.handle,\n\t\t                \tkey: requestKey,\n\t\t                \tclass: $rootScope.builderConfig.profile.builder\n\t\t                },\n\t\t            \tdataType: 'json',\n\t\t                success: function(data) {\n\t                \t\tself.data[requestKey] = data.config;\n\t                \t\tself.processBuilderConfig(requestKey, data.config);\n\t\t                }\n\t\t            });\n\t\t\t\t}\n\t\t\t\tif (!self.cacheRequests.hasOwnProperty(requestKey)) self.cacheRequests[requestKey] = [];\n\t\t\t\tself.cacheRequests[requestKey].push(callbackFunction);\n\t\t\t} else if (typeof callbackFunction === 'function') {\n\t\t\t\tcallbackFunction(self.data[requestKey]);\n\t\t\t}\n\t\t}\n\n\t\tthis.processBuilderConfig = function(requestKey, result) {\n\t\t    angular.forEach(self.cacheRequests[requestKey], function(callbackFunction) {\n\t\t    \tif (angular.isFunction(callbackFunction)) {\n\t\t    \t\tcallbackFunction(result);\n\t\t    \t} else {\n\t\t    \t\tcallbackFunction = result;\n\t\t    \t}\n\t\t    });\n\t\t}\n\n\t\tthis.saveToCache = function(key, data) {\n\t\t\tthis.data[key] = data;\n\t\t}\n\n\t\tthis.getFromCache = function(key) {\n\t\t\tif (this.data.hasOwnProperty(key)) {\n\t\t\t\treturn this.data[key];\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.getData = function() {\n\t\t\treturn this.data;\n\t\t}\n\n\t    /**\n\t     * Processing options list\n\t     *\n\t     * @param {Array} array - Property array\n\t     * @param {String} separator - Level separator\n\t     * @param {Array} created - list to add new options\n\t     *\n\t     * @return {Array} Plain options list\n\t     */\n\t    this.flattenCollection = function(array, separator, created) {\n\t        var i = 0,\n\t            length,\n\t            childCollection;\n\n\t        array = _.compact(array);\n\t        length = array.length;\n\t        created = created || [];\n\n\t        for (i; i < length; i++) {\n\t            created.push(array[i]);\n\n\t            if (array[i].hasOwnProperty(separator)) {\n\t                childCollection = array[i][separator];\n\t                delete array[i][separator];\n\t                this.flattenCollection.call(this, childCollection, separator, created);\n\t            }\n\t        }\n\n\t        return created;\n\t    }\n\n\t    /**\n\t     * Set levels to options list\n\t     *\n\t     * @param {Array} array - Property array\n\t     * @param {String} separator - Level separator\n\t     * @param {Number} level - Starting level\n\t     * @param {String} path - path to root\n\t     *\n\t     * @returns {Array} Array with levels\n\t     */\n\t    this.setProperty = function(array, separator, level, path) {\n\t        var i = 0,\n\t            length,\n\t            nextLevel,\n\t            nextPath;\n\n\t        array = _.compact(array);\n\t        length = array.length;\n\t        level = level || 0;\n\t        path = path || '';\n\n\t        for (i; i < length; i++) {\n\t            if (array[i]) {\n\t                _.extend(array[i], {\n\t                    level: level,\n\t                    path: path\n\t                });\n\t            }\n\n\t            if (array[i].hasOwnProperty(separator)) {\n\t                nextLevel = level + 1;\n\t                nextPath = path ? path + '.' + array[i].label : array[i].label;\n\t                this.setProperty.call(this, array[i][separator], separator, nextLevel, nextPath);\n\t            }\n\t        }\n\n\t        return array;\n\t    }\n\n\t    /**\n\t     * Preprocessing options list\n\t     *\n\t     * @param {Array} nodes - Options list\n\t     *\n\t     * @return {Object} Object with property - options(options list)\n\t     *      and cache options with plain and tree list\n\t     */\n\t    this.parseOptions = function(nodes) {\n\t        var caption,\n\t            value,\n\t            cacheNodes,\n\t            copyNodes;\n\n\t        nodes = this.setProperty(nodes, 'elements');\n\t        copyNodes = JSON.parse(JSON.stringify(nodes));\n\t        cacheNodes = this.flattenCollection(copyNodes, 'elements');\n\n\t        nodes = _.map(nodes, function (node) {\n\t            value = node.value;\n\n\t            if (value == null || value === '') {\n\t                if (_.isUndefined(caption)) {\n\t                    caption = node.label;\n\t                }\n\t            } else {\n\t                return node;\n\t            }\n\t        });\n\n\t        return {\n\t            options: _.compact(nodes),\n\t            cacheOptions: {\n\t                plain: _.compact(cacheNodes),\n\t                tree: _.compact(nodes)\n\t            }\n\t        };\n\t    }\n\n\t    this.uniqueid = function (size) {\n\t        var code = Math.random() * 25 + 65 | 0,\n\t            idstr = String.fromCharCode(code);\n\n\t        size = size || 12;\n\n\t        while (idstr.length < size) {\n\t            code = Math.floor(Math.random() * 42 + 48);\n\n\t            if (code < 58 || code > 64) {\n\t                idstr += String.fromCharCode(code);\n\t            }\n\t        }\n\n\t        return idstr.toLowerCase();\n\t    }\n\n\t\tthis.isBackend = function () {\n\t\t\treturn $('#html-body').length ? true : false;\n\t\t}\n\n\t\tthis.isJSON = function (str) {\n\t\t\ttry {\n\t\t\t\tvar result = JSON.parse(str);\n\t\t\t\tif (angular.isNumber(result)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.getDesignValue = function(elem, key) {\n\t\t\tvar viewMode = this.getViewMode();\n\t\t\tvar result = elem[key];\n\t\t\tvar start = false;\n\t\t\tvar sizes = ['lg', 'md', 'sm', 'xs'];\n\t\t\tif (elem.device_type == 'all') return result;\n\t\t\tangular.forEach(sizes, function(v, k) {\n\t\t\t\tif (v == viewMode) {\n\t\t\t\t\tstart = true;\n\t\t\t\t}\n\t\t\t\tif (start &&  elem[v + '_' + key]) {\n\t\t\t\t\tresult = elem[v + '_' + key];\n\t\t\t\t\tstart = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t}\n\n\t\tthis.setDesignValue = function(elem, key, value) {\n\t\t\tvar viewMode = this.getViewMode();\n\t\t\tvar start    = false;\n\t\t\tvar sizes    = ['lg', 'md', 'sm', 'xs'];\n\t\t\tvar _key;\n\t\t\tif (elem.device_type == 'all') {\n\t\t\t\telem[_key] = value;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tangular.forEach(sizes, function(v, k) {\n\t\t\t\tif (v == viewMode) {\n\t\t\t\t\tstart = true;\n\t\t\t\t}\n\t\t\t\tif (start &&  elem[v + '_' + key]) {\n\t\t\t\t\t_key = v + '_' + key;\n\t\t\t\t\tstart = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!_key) _key = 'md';\n\t\t\telem[_key] = value;\n\t\t}\n\n\t\tthis.getResponiveValue = function(elem, key) {\n\t\t\tvar viewMode = this.getViewMode();\n\t\t\tvar result = elem[key];\n\t\t\tvar start = false;\n\t\t\tvar sizes = ['xl', 'lg', 'md', 'sm', 'xs'];\n\t\t\tangular.forEach(sizes, function(v, k) {\n\t\t\t\tif (v == viewMode) {\n\t\t\t\t\tstart = true;\n\t\t\t\t}\n\t\t\t\tif (start &&  elem[v + '_' + key]) {\n\t\t\t\t\tresult = elem[v + '_' + key];\n\t\t\t\t\tstart = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t}\n\n\t\tthis.setResponiveValue = function(elem, key, value) {\n\t\t\tvar viewMode = this.getViewMode();\n\t\t\tvar start    = false;\n\t\t\tvar sizes    = ['xl', 'lg', 'md', 'sm', 'xs'];\n\t\t\tvar _key;\n\t\t\tangular.forEach(sizes, function(v, k) {\n\t\t\t\tif (v == viewMode) {\n\t\t\t\t\tstart = true;\n\t\t\t\t}\n\t\t\t\tif (start &&  elem[v + '_' + key]) {\n\t\t\t\t\t_key = v + '_' + key;\n\t\t\t\t\tstart = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!_key) _key = 'md_' + key;\n\t\t\telem[_key] = value;\n\t\t}\n\n\t\tthis.getFromLocalStorage = function(key) {\n\t\t\tif (window.localStorage) {\n\t\t\t\tkey = 'magezon.' + key;\n\t\t\t\tvar result = window.localStorage[key];\n\t\t\t\tif (this.isJSON(result)) {\n\t\t\t\t\tresult = angular.fromJson(result);\n\t\t\t\t}\n            \treturn result;\n        \t}\n        }\n\n\t\tthis.saveToLocalStorage = function(key, value) {\n\t\t\tif (window.localStorage) {\n\t\t\t\tkey = 'magezon.' + key;\n\t\t\t\tif (angular.isArray(value) || angular.isObject(value)) {\n\t\t\t\t\tvalue = angular.toJson(value);\n\t\t\t\t}\n            \treturn window.localStorage[key] = value;\n        \t}\n        }\n\n        this.elemPost = function(elem, url, data, isJson, successFunction, errorFunction, finallyFunction) {\n        \tvar spinnerHtml = '<div class=\"mgz-spinner\"><i></i></div>';\n\n        \tvar el = elementManager.getEl(elem);\n\n        \tif (!el.children('.mgz-spinner').length) {\n        \t\tel.prepend(spinnerHtml);\n        \t}\n\n        \tif (!data) data = {};\n        \tif (angular.isObject(data)) {\n        \t\tdata['form_key'] = window.FORM_KEY;\n        \t}\n        \t$.ajax({\n                url: magezonBuilderUrl.getUrl(url),\n                type: 'POST',\n                data: data,\n            \tdataType: isJson ? 'json' : 'text',\n                success: function(res) {\n                \tif (typeof successFunction === 'function') {\n            \t\t\tsuccessFunction(res);\n            \t\t}\n            \t\tif (typeof finallyFunction === 'function') {\n            \t\t\tfinallyFunction(res);\n            \t\t}\n            \t\tel.children('.mgz-spinner').remove();\n                },\n                error: function(jq, status, message) {\n                \tconsole.log(jq);\n                \tconsole.log(status);\n                \tconsole.log(message);\n                \tif (typeof errorFunction === 'function') {\n                \t\terrorFunction(jq, status, message);\n                \t}\n                \tif (typeof finallyFunction === 'function') {\n            \t\t\tfinallyFunction(jq, status, message);\n            \t\t}\n            \t\tel.children('.mgz-spinner').remove();\n                }\n            });\n        }\n\n        this.post = function(url, data, isJson, successFunction, errorFunction, finallyFunction) {\n        \tif (!data) data = {};\n        \tif (angular.isObject(data)) {\n        \t\tdata['form_key'] = window.FORM_KEY;\n        \t}\n        \t$.ajax({\n                url: magezonBuilderUrl.getUrl(url),\n                type: 'POST',\n                data: data,\n            \tdataType: isJson ? 'json' : 'text',\n                success: function(res) {\n                \tif (typeof successFunction === 'function') {\n            \t\t\tsuccessFunction(res);\n            \t\t}\n            \t\tif (typeof finallyFunction === 'function') {\n            \t\t\tfinallyFunction(res);\n            \t\t}\n                },\n                error: function(jq, status, message) {\n                \tconsole.log(jq);\n                \tconsole.log(status);\n                \tconsole.log(message);\n                \tif (typeof errorFunction === 'function') {\n                \t\terrorFunction(jq, status, message);\n                \t}\n                \tif (typeof finallyFunction === 'function') {\n            \t\t\tfinallyFunction(jq, status, message);\n            \t\t}\n                }\n            });\n        }\n\n        this.capitalize = function(str) {\n        \treturn str[0].toUpperCase() + str.slice(1);\n        }\n\n        //https://github.com/kvz/locutus/blob/master/src/php/strings/stripslashes.js\n\t\tthis.removeslashes = function(str) {\n\t\t\treturn (str + '')\n\t\t\t.replace(/\\\\(.?)/g, function (s, n1) {\n\t\t\t\tswitch (n1) {\n\t\t\t\t\tcase '\\\\':\n\t\t\t\t\treturn '\\\\'\n\t\t\t\t\tcase '0':\n\t\t\t\t\treturn '\\u0000'\n\t\t\t\t\tcase '':\n\t\t\t\t\treturn ''\n\t\t\t\t\tdefault:\n\t\t\t\t\treturn n1\n\t\t\t\t}\n\t\t\t});\n        }\n\n        //https://github.com/kvz/locutus/blob/master/src/php/strings/addcslashes.js\n        this.addslashes = function(str) {\n            return (str + '')\n            .replace(/[\\\\\"']/g, '\\\\$&')\n            .replace(/\\u0000/g, '\\\\0')\n            .replace(/{/g, '\\\\{')\n            .replace(/}/g, '\\\\}');\n        }\n\n        this.isBoolean = function(str) {\n            if (str) {\n                var _str = str.toLowerCase();\n                if (_str == 'true' || _str == 'false' || _str == '1' || _str == '0') {\n                    return true;\n                }\n            }\n            return false;\n        }\n\n        this.strToBoolean = function(str) {\n            if (this.isBoolean(str)) {\n                var _str = str.toLowerCase();\n                if (_str == 'true' || _str == '1') return true;\n                if (_str == 'false' || _str == '0') return false;\n            }\n        }\n\n\t\tthis.getUniqueId = function (size) {\n\t        var code = Math.random() * 25 + 65 | 0,\n\t            idstr = String.fromCharCode(code);\n\n\t        size = size || 12;\n\n\t        while (idstr.length < size) {\n\t            code = Math.floor(Math.random() * 42 + 48);\n\n\t            if (code < 58 || code > 64) {\n\t                idstr += String.fromCharCode(code);\n\t            }\n\t        }\n\n\t        return idstr.toLowerCase();\n\t    }\n\n\t    this.isEmpty = function(obj){\n\t    \treturn Object.keys(obj).length == 0;\n\t    }\n\t}\n\n\treturn magezonBuilderService;\n});","Magezon_Builder/js/services/history.js":"define([\n\t'jquery',\n\t'underscore',\n\t'angular',\n\t'moment',\n], function ($, _, angular, moment) {\n\n\tvar history = function($rootScope, profileManager, magezonBuilderService) {\n\t\tvar self = this;\n\n\t\t$rootScope.$on('exportShortcode', function(event) {\n\t\t\tif (!self.imported) {\n\t\t\t\tself.activeFirstItem();\n\t\t\t\tself.imported = true;\n\t\t\t}\n\t\t});\n\n\t\t$rootScope.$on('importShortcode', function(event) {\n\t\t\tif (!self.imported) {\n\t\t\t\tself.activeFirstItem();\n\t\t\t\tself.imported = true;\n\t\t\t}\n\t\t});\n\n\t\tthis.activeFirstItem = function() {\n\t\t\tvar item = this.addItem({\n\t\t\t\ttype: 'editing_started',\n\t\t\t\tprofile: profileManager.getShortCode()\n\t\t\t});\n\t\t\titem.selected = true;\n\t\t}\n\n\t\t$rootScope.$on('addHistory', function(event, data) {\n\t\t\tself.addItem(data);\n\t\t\t$rootScope.$broadcast('exportShortcode');\n\t\t});\n\n\t\tthis.getTitle = function(name) {\n\t\t\tvar title;\n\t\t\tangular.forEach($rootScope.builderConfig.historyLabels, function(_title, k) {\n\t\t\t\tif (k == name) {\n\t\t\t\t\ttitle = _title;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn title;\n\t\t}\n\n\t\tthis.addItem = function(data) {\n\t\t\tvar action = self.getTitle(data.type);\n\t\t\tif (action) {\n\t\t\t\tif (data && data.hasOwnProperty('action')) action = data.action;\n\t\t\t\tself.clearItem();\n\t\t\t\tvar profile = data.profile ? data.profile : profileManager.getShortCode();\n\t\t\t\tvar strings = [];\n\t\t\t\tif (data.title) strings.push('<span class=\"mgz-builder-history-item__title\">' + data.title + '</span>');\n\t\t\t\tif (data.subtitle) strings.push('<span class=\"mgz-builder-history-item__subtitle\">' + data.subtitle + '</span>');\n\t\t\t\tif (action) strings.push('<span class=\"mgz-builder-history-item__action\">' + action + '</span>');\n\t\t\t\tvar title = strings.join(' ');\n\t\t\t\tvar item = this.prepareItem(data.type, title, profile, false);\n\t\t\t\t$rootScope.history.push(item);\n\t\t\t\tself.activeItem(item);\n\t\t\t\treturn item;\n\t\t\t}\n\t\t}\n\n\t\tthis.prepareItem = function(type, title, profile, selected) {\n\t\t\treturn {\n\t\t\t\tid: magezonBuilderService.uniqueid(),\n\t\t\t\ttype: type,\n\t\t\t\ttitle: title,\n\t\t\t\ttime: moment().valueOf(),\n\t\t\t\tprofile: profileManager.getShortCode(),\n\t\t\t\tselected: selected\n\t\t\t};\n\t\t}\n\n\t\tthis.activeItem = function(item) {\n\t\t\tangular.forEach($rootScope.history, function(_item, index) {\n\t\t\t\tif (item.id === _item.id) {\n\t\t\t\t\t_item.selected = true;\n\t\t\t\t} else {\n\t\t\t\t\t_item.selected = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\tself.itemActived = item;\n\t\t}\n\n\t\tthis.previewItem = function(item) {\n\t\t\tself.activeItem(item);\n\t\t\tvar profile = profileManager.prepareProfile(item.profile);\n\t\t\tprofileManager.updateElements(profile.elements);\n\t\t\t$rootScope.$broadcast('loadStyles');\n\t\t}\n\n\t\tthis.clearItem = function() {\n\t\t\tvar found = false;\n\t\t\tvar history = angular.copy($rootScope.history);\n\t\t\tangular.forEach(history.reverse(), function(_item, index) {\n\t\t\t\tif (!found) {\n\t\t\t\t\t$rootScope.history.splice(history.length - index, 1);\n\t\t\t\t}\n\t\t\t\tif (_item.id === self.itemActived.id) {\n\t\t\t\t\tfound = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tthis.applyItem = function(item) {\n\t\t\tself.previewItem(item);\n\t\t\tself.clearItem();\n\t\t\t$rootScope.$broadcast('exportShortcode');\n\t\t}\n\t}\n\n\treturn history;\n});","Magezon_Builder/js/services/filter.js":"define([\n    'jquery',\n    'angular'\n], function ($, angular) {\n\n    // vendor/magento/module-tinymce-3/view/base/web/tinymce3Adapter.js\n    // vendor/magento/magento2-base/lib/web/mage/adminhtml/wysiwyg/tiny_mce/tinymce4Adapter.js\n\n    var filter = function($rootScope, magezonBuilderUrl, magezonBuilderService) {\n        var self     = this;\n        var wysiwyg  = this.config = angular.copy($rootScope.builderConfig.wysiwyg);\n        var tinymce4 = wysiwyg.tinymce4;\n\n        /**\n         * Retrieve directives URL with substituted directive value.\n         *\n         * @param {String} directive\n         */\n        self.makeDirectiveUrl = function (directive) {\n            return this.config['directives_url']\n                .replace(/directive/, 'directive/___directive/' + directive)\n                .replace(/\\/$/, '');\n        }\n\n        /**\n         * @param {Object} attributes\n         * @return {Object}\n         */\n        self.parseAttributesString = function (attributes) {\n            var result = {};\n            attributes.gsub(\n                /(\\w+)(?:\\s*=\\s*(?:(?:\"((?:\\\\.|[^\"])*)\")|(?:'((?:\\\\.|[^'])*)')|([^>\\s]+)))?/,\n                function (match) {\n                    if (magezonBuilderService.isBoolean(match[2])) {\n                        result[match[1]] = magezonBuilderService.strToBoolean(match[2]);\n                    } else if (magezonBuilderService.isBoolean(match[4])) {\n                        result[match[1]] = magezonBuilderService.strToBoolean(match[4]);\n                    } else {\n                        result[match[1]] = match[2];  \n                    }\n                }\n            );\n            return result;\n        }\n\n        /**\n         * Tinymce has strange behavior with html and this removes one of its side-effects\n         * @param {String} content\n         * @return {String}\n         */\n        self.removeDuplicateAncestorWidgetSpanElement = function (content) {\n            var parser, doc;\n\n            if (!window.DOMParser) {\n                return content;\n            }\n\n            parser = new DOMParser();\n            doc = parser.parseFromString(content.replace(/&quot;/g, '&amp;quot;'), 'text/html');\n\n            [].forEach.call(doc.querySelectorAll('.magento-widget'), function (widgetEl) {\n                var widgetChildEl = widgetEl.querySelector('.magento-widget');\n\n                if (!widgetChildEl) {\n                    return;\n                }\n\n                [].forEach.call(widgetEl.childNodes, function (el) {\n                    widgetEl.parentNode.insertBefore(el, widgetEl);\n                });\n\n                widgetEl.parentNode.removeChild(widgetEl);\n            });\n\n            return doc.body ? doc.body.innerHTML.replace(/&amp;quot;/g, '&quot;') : content;\n        }\n\n        // vendor/magento/module-page-builder/view/adminhtml/web/js/utils/directives.js\n        self.convertMediaDirectivesToUrls = function(html) {\n            var mediaDirectiveRegExp = /\\{\\{\\s*media\\s+url\\s*=\\s*\"?[^\"\\s\\}]+\"?\\s*\\}\\}/g;\n            var mediaDirectiveMatches = html.match(mediaDirectiveRegExp);\n            if (mediaDirectiveMatches) {\n                mediaDirectiveMatches.forEach(function (mediaDirective) {\n                    var urlRegExp = /\\{\\{\\s*media\\s+url\\s*=\\s*(?:\"|&quot;)?(.+)(?=}})\\s*\\}\\}/;\n                    var urlMatches = mediaDirective.match(urlRegExp);\n                    if (urlMatches && typeof urlMatches[1] !== \"undefined\") {\n                        html = html.replace(mediaDirective, magezonBuilderUrl.getImageUrl(urlMatches[1].replace(/\"/g, \"\").replace(/&quot;/g, \"\").replace(/'/g, \"\")));\n                    }\n                });\n            }\n            return html;\n        }\n\n        self.encodeContent = function(content, convert) {\n            if (!content) return;\n            //if (convert) {\n                content = self.convertMediaDirectivesToUrls(content);\n            // } else {\n            //  if (tinymce4) {\n            //      content = self.tinymce4EncodeDirectives(content);\n            //  } else {\n            //      content = self.tinymce3EncodeDirectives(content);\n            //  }\n            // }\n            content = self.encodeWidgets(content);\n            return content;\n        }\n\n        /**\n         * Convert {{directive}} style attributes syntax to absolute URLs\n         * @param {Object} content\n         * @return {*}\n         */\n        self.tinymce4EncodeDirectives = function (content) {\n            // collect all HTML tags with attributes that contain directives\n            return content.gsub(/<([a-z0-9\\-\\_]+[^>]+?)([a-z0-9\\-\\_]+=\"[^\"]*?\\{\\{.+?\\}\\}.*?\".*?)>/i, function (match) {\n                var attributesString = match[2],\n                    decodedDirectiveString;\n\n                // process tag attributes string\n                attributesString = attributesString.gsub(/([a-z0-9\\-\\_]+)=\"(.*?)(\\{\\{.+?\\}\\})(.*?)\"/i, function (m) {\n                    decodedDirectiveString = encodeURIComponent(Base64.mageEncode(m[3].replace(/&quot;/g, '\"') + m[4]));\n\n                    return m[1] + '=\"' + m[2] + this.makeDirectiveUrl(decodedDirectiveString) + '\"';\n                }.bind(this));\n\n                return '<' + match[1] + attributesString + '>';\n            }.bind(this));\n        }\n\n        /**\n         * Convert {{directive}} style attributes syntax to absolute URLs\n         * @param {Object} content\n         * @return {*}\n         */\n        self.tinymce3EncodeDirectives = function (content) {\n            // collect all HTML tags with attributes that contain directives\n            return content.gsub(/<([a-z0-9\\-\\_]+[^>]+?)([a-z0-9\\-\\_]+=\"[^\"]*?\\{\\{.+?\\}\\}.*?\".*?)>/i, function (match) {\n                var attributesString = match[2],\n                    decodedDirectiveString;\n\n                // process tag attributes string\n                attributesString = attributesString.gsub(/([a-z0-9\\-\\_]+)=\"(.*?)(\\{\\{.+?\\}\\})(.*?)\"/i, function (m) {\n                    decodedDirectiveString = encodeURIComponent(Base64.mageEncode(m[3].replace(/&quot;/g, '\"')));\n\n                    return m[1] + '=\"' + m[2] + this.makeDirectiveUrl(decodedDirectiveString) + m[4] + '\"';\n                }.bind(this));\n\n                return '<' + match[1] + attributesString + '>';\n            }.bind(this));\n        }\n\n        self.decodeContent = function(content) {\n            if (tinymce4) {\n                content = self.tinymce4DecodeDirectives(content);\n            } else {\n                content = self.tinymce3DecodeDirectives(content);\n            }\n            content = self.decodeWidgets(content);\n            return content;\n        }\n\n        /**\n         * Convert absolute URLs to {{directive}} style attributes syntax\n         * @param {Object} content\n         * @return {*}\n         */\n        self.tinymce4DecodeDirectives = function (content) {\n            var directiveUrl = this.makeDirectiveUrl('%directive%').split('?')[0], // remove query string from directive\n                // escape special chars in directives url to use in regular expression\n                regexEscapedDirectiveUrl = directiveUrl.replace(/([$^.?*!+:=()\\[\\]{}|\\\\])/g, '\\\\$1'),\n                regexDirectiveUrl = regexEscapedDirectiveUrl\n                    .replace(\n                        '%directive%',\n                        '([a-zA-Z0-9,_-]+(?:%2[A-Z]|)+\\/?)(?:(?!\").)*'\n                    ) + '/?(\\\\\\\\?[^\"]*)?', // allow optional query string\n                reg = new RegExp(regexDirectiveUrl);\n\n            return content.gsub(reg, function (match) {\n                return Base64.mageDecode(decodeURIComponent(match[1]).replace(/\\/$/, '')).replace(/\"/g, '&quot;');\n            });\n        }\n\n        /**\n         * Convert absolute URLs to {{directive}} style attributes syntax\n         * @param {Object} content\n         * @return {*}\n         */\n        self.tinymce3DecodeDirectives = function (content) {\n            var directiveUrl = this.makeDirectiveUrl('%directive%').split('?')[0], // remove query string from directive\n                // escape special chars in directives url to use in regular expression\n                regexEscapedDirectiveUrl = directiveUrl.replace(/([$^.?*!+:=()\\[\\]{}|\\\\])/g, '\\\\$1'),\n                regexDirectiveUrl = regexEscapedDirectiveUrl\n                    .replace(\n                        '%directive%',\n                        '([a-zA-Z0-9,_-]+(?:%2[A-Z]|)+\\/?)(?:(?!\").)*'\n                    ) + '/?(\\\\\\\\?[^\"]*)?', // allow optional query string\n                reg = new RegExp(regexDirectiveUrl);\n\n            return content.gsub(reg, function (match) {\n                return Base64.mageDecode(decodeURIComponent(match[1]).replace(/\\/$/, '')).replace(/\"/g, '&quot;');\n            });\n        }\n\n        /**\n         * @param {Object} content\n         * @return {*}\n         */\n        self.encodeWidgets = function(content) {\n            if (tinymce4) {\n                content = self.tinymce4EncodeWidgets(self.decodeWidgets(content));\n                content = self.removeDuplicateAncestorWidgetSpanElement(content);\n            } else {\n                content = self.tinymce3EncodeWidgets(content);\n            }\n            return content;\n        }\n\n        /**\n         * Convert {{widget}} style syntax to image placeholder HTML\n         * @param {String} content\n         * @return {*}\n         */\n        self.tinymce4EncodeWidgets = function (content) {\n            return content.gsub(/\\{\\{widget(.*?)\\}\\}/i, function (match) {\n                var attributes = self.parseAttributesString(match[1]),\n                    imageSrc,\n                    imageHtml = '';\n\n                if (attributes.type) {\n                    attributes.type = attributes.type.replace(/\\\\\\\\/g, '\\\\');\n                    imageSrc = self.config.placeholders[attributes.type];\n\n                    if (imageSrc) {\n                        imageHtml += '<span class=\"magento-placeholder magento-widget mceNonEditable\" ' +\n                            'contenteditable=\"false\">';\n                    } else {\n                        imageSrc = config['error_image_url'];\n                        imageHtml += '<span ' +\n                            'class=\"magento-placeholder magento-placeholder-error magento-widget mceNonEditable\" ' +\n                            'contenteditable=\"false\">';\n                    }\n\n                    imageHtml += '<img';\n                    imageHtml += ' id=\"' + Base64.idEncode(match[0]) + '\"';\n                    imageHtml += ' src=\"' + imageSrc + '\"';\n                    imageHtml += ' />';\n\n                    if (self.config.widget_types[attributes.type]) {\n                        imageHtml += self.config.widget_types[attributes.type];\n                    }\n\n                    imageHtml += '</span>';\n\n                    return imageHtml;\n                }\n            });\n        }\n\n        /**\n         * @param {Object} content\n         * @return {*}\n         */\n        self.tinymce3EncodeWidgets = function (content) {\n            return content.gsub(/\\{\\{widget(.*?)\\}\\}/i, function (match) {\n                var attributes = self.parseAttributesString(match[1]),\n                    imageSrc,\n                    imageHtml;\n\n                if (attributes.type) {\n                    attributes.type = attributes.type.replace(/\\\\\\\\/g, '\\\\');\n                    imageSrc = this.config['widget_placeholders'][attributes.type];\n\n                    imageHtml = '<img';\n                    imageHtml += ' id=\"' + Base64.idEncode(match[0]) + '\"';\n                    imageHtml += ' src=\"' + imageSrc + '\"';\n                    imageHtml += ' title=\"' +\n                        match[0].replace(/\\{\\{/g, '{').replace(/\\}\\}/g, '}').replace(/\\\"/g, '&quot;') + '\"';\n                    imageHtml += '>';\n\n                    return imageHtml;\n                }\n            }.bind(this));\n        }\n\n        /**\n         * @param {Object} content\n         * @return {*}\n         */\n        self.decodeWidgets = function(content) {\n            if (tinymce4) {\n                content = self.tinymce4DecodeWidgets(content);\n            } else {\n                content = self.tinymce3DecodeWidgets(content);\n            }\n            return content;\n        }\n\n        /**\n         * Convert image placeholder HTML to {{widget}} style syntax\n         * @param {String} content\n         * @return {*}\n         */\n        self.tinymce4DecodeWidgets = function (content) {\n            return content.gsub(\n                /(<span class=\"[^\"]*magento-widget[^\"]*\"[^>]*>)?<img([^>]+id=\"[^>]+)>(([^>]*)<\\/span>)?/i,\n                function (match) {\n                    var attributes = self.parseAttributesString(match[2]),\n                        widgetCode;\n\n                    if (attributes.id) {\n                        widgetCode = Base64.idDecode(attributes.id);\n\n                        if (widgetCode.indexOf('{{widget') !== -1) {\n                            return widgetCode;\n                        }\n                    }\n\n                    return match[0];\n                }\n            );\n        }\n\n        /**\n         * @param {Object} content\n         * @return {*}\n         */\n        self.tinymce3DecodeWidgets = function (content) {\n            return content.gsub(/<img([^>]+id=\\\"[^>]+)>/i, function (match) {\n                var attributes = self.parseAttributesString(match[1]),\n                    widgetCode;\n\n                if (attributes.id) {\n                    widgetCode = Base64.idDecode(attributes.id);\n\n                    if (widgetCode.indexOf('{{widget') !== -1) {\n                        return widgetCode;\n                    }\n                }\n\n                return match[0];\n            }.bind(this));\n        }\n\n        self.processContent = function(content) {\n            var result = content.gsub(/<img\\s[^>]*?src\\s*=\\s*['\\\"]([^'\\\"]*?)['\\\"][^>]*?>/i, function (match) {\n                if (match[1].indexOf($rootScope.builderConfig.mediaUrl) !== -1) {\n                    return match[0].replace(match[1], self.urlToDirective(match[1]));\n                } else {\n                    return match[0];\n                }\n            });\n            return result;  \n        }\n\n        self.convertImageToDirective = function(content) {\n            content = content.replace(/(data-mce-selected=\"1\")/g, '\\\\$1');\n            content = content.gsub(/<img\\s[^>]*?src\\s*=\\s*['\\\"]([^'\\\"]*?)['\\\"][^>]*?>/i, function (match) {\n                var result;\n                if (match[1].indexOf($rootScope.builderConfig.mediaUrl) !== -1) {\n                    var mediaDirective = self.urlToDirective(match[1]);\n                    result = match[0].replace(match[1], mediaDirective);\n                    result = result.replace('data-mce-src=\"' + match[1] + '\"', '');\n                } else {\n                    result = match[0];\n                }\n                return result;\n            });\n            return content;\n        }\n\n        self.urlToDirective = function(imageUrl) {\n            var mediaUrl  = self.convertUrlToPathIfOtherUrlIsOnlyAPath($rootScope.builderConfig.mediaUrl, imageUrl);\n            var mediaPath = imageUrl.split(mediaUrl);\n            return \"{{media url=\" + mediaPath[1] + \"}}\";\n        }\n\n        self.convertUrlToPathIfOtherUrlIsOnlyAPath = function(url, otherUrl) {\n            return self.isPathOnly(otherUrl) ? self.getPathFromUrl(url) : url;\n        }\n\n        self.isPathOnly = function(url) {\n            return url.indexOf(\"/\") === 0;\n        }\n\n        self.getPathFromUrl = function(url) {\n            var a = document.createElement(\"a\");\n            a.href = url;\n            return a.pathname;\n        }\n\n    }\n\n    return filter;\n});","Magezon_Builder/js/services/element.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar elementManagerService = function($rootScope) {\n\t\tvar self = this;\n\t\tthis.elements = {};\n\t\tthis.groups   = {};\n\n\t\tthis.registerElements = function(elements) {\n\t\t\tvar newElements = {};\n\t\t\tangular.forEach(elements, function(element, index) {\n\t\t\t\tif (!element.hasOwnProperty('disabled') || !element['disabled']) {\n\t\t\t\t\tnewElements[index] = element;\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.elements = newElements;\n\t\t}\n\n\t\tthis.getElement = function(type) {\n\t\t\tif (angular.isObject(type)) {\n\t\t\t\ttype = type.type;\n\t\t\t}\n\t\t\treturn this.elements[type];\n\t\t}\n\n\t\tthis.prepareElements = function(elements, force) {\n\t\t\tvar newElements = [];\n\t\t\tangular.forEach(elements, function(_element) {\n\t\t\t\tif (self.getElement(_element.type)) {\n\t\t\t\t\tnewElements.push(self.prepareElement(_element, force));\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn newElements;\n\t\t}\n\n\t\tthis.prepareElement = function(element, force) {\n\t\t\tvar oldId;\n\t\t\telement['builder'] = self.getBuilderConfig(element.type);\n\n\t\t\tif (element['id'] && force) {\n\t\t\t\toldId = element['id'];\n\t\t\t}\n\t\t\tif ($rootScope.builderConfig.area == 'bfb') {\n\t\t\t\tif (!element['id'] || force) element['id'] = self.getUniqueId(7);\n\t\t\t} else {\n\t\t\t\telement['id'] = self.getUniqueId(7);\n\t\t\t}\n\n\t\t\t// if (element['id'] && force) {\n\t\t\t// \toldId = element['id'];\n\t\t\t// }\n\t\t\t// if (!element['id'] || force) element['id'] = self.getUniqueId(7);\n\t\t\t\n\t\t\tif (element.builderName && element.builderName!=element['builder'].name) {\n\t\t\t\telement['builder'].name = element.builderName;\n\t\t\t}\n\t\t\tif (element.hasOwnProperty('elements')) {\n\t\t\t\telement['elements'] = self.prepareElements(element.elements, force);\n\t\t\t}\n\t\t\tif (force && oldId) {\n\t\t\t\tvar _elem = $('#' + oldId + '-style');\n\t\t\t\tif (_elem.length) {\n\t\t\t\t\tvar oldId = '\\\\.' + oldId;\n\t\t\t\t\tvar newId = '.' + element.id;\n\t\t\t\t\tvar regex = new RegExp(oldId, 'g');\n\t\t\t\t\tvar styleHtml = _elem[0].outerHTML.replace(regex, newId);\n\t\t\t\t\tstyleHtml = styleHtml.replace(oldId + '-style', element.id + '-style');\n\t\t\t\t\t_elem.after(styleHtml);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn element;\n\t\t}\n\n\t\tthis.getNewElement = function(type) {\n\t\t\tvar builderElement = this.getElement(type);\n\t\t\tvar element = angular.copy(builderElement.defaultValues);\n\t\t\telement['type'] = type;\n\t\t\tthis.prepareElement(element, true);\n\t\t\tif (builderElement.is_collection) {\n\t\t\t\telement['elements'] = [];\n\t\t\t}\n\t\t\treturn element;\n\t\t}\n\n\t\tthis.getBuilderConfig = function(type) {\n\t\t\tif (type=='profile') {\n\t\t\t\treturn {\n\t\t\t\t\tis_collection: true\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar config = angular.copy(this.getElement(type));\n\t\t\tconfig = angular.merge(config, {\n\t\t\t\tactive: false,\n\t\t\t\tvisible: true,\n\t\t\t\tcontrol: true,\n\t\t\t\tactived: false,\n\t\t\t\tadditionalClasses: [],\n\t\t\t\tnavigator: {}\n\t\t\t});\n\t\t\treturn config;\n\t    }\n\n\t    this.updateElementConfig = function(type) {\n\t    \tif (!self.elements[type]['loadConfig']) {\n\t\t    \tvar requestKey = 'elements.' + type;\n\t\t    \t$.ajax({\n\t                url: this.getUrl('mgzbuilder/ajax/loadConfig'),\n\t                type:'POST',\n\t                data: {\n\t                \tkey: requestKey,\n\t                \tclass: $rootScope.builderConfig.profile.builder\n\t                },\n\t            \tdataType: 'json',\n\t                success: function(data) {\n\t            \t\tself.elements[type]['fields'] = data.config.fields;\n\t            \t\tself.elements[type]['loadConfig'] = true;\n\t                }\n\t            });\n\t\t    }\n\t    }\n\n\t\tthis.getUrl = function(url) {\n\t\t\treturn $rootScope.builderConfig.baseUrl + url;\n\t\t}\n\n\t\tthis.getUniqueId = function (size) {\n\t        var code = Math.random() * 25 + 65 | 0,\n\t            idstr = String.fromCharCode(code);\n\n\t        size = size || 12;\n\n\t        while (idstr.length < size) {\n\t            code = Math.floor(Math.random() * 42 + 48);\n\n\t            if (code < 58 || code > 64) {\n\t                idstr += String.fromCharCode(code);\n\t            }\n\t        }\n\n\t        return idstr.toLowerCase();\n\t    }\n\n\t    this.canReplace = function(elem) {\n\t\t\tif (!elem.builder.modalVisible) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.isVisibleElement = function(elem) {\n\t\t\tif (elem.hasOwnProperty('modalVisible') && !elem['modalVisible']) return false;\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.getElementType = function(eleType) {\n\t\t\tvar _types = eleType.split('-');\n\t\t\tvar type = '';\n\t\t\tfor (var i = 0; i < _types.length; i++) {\n\t\t\t\tvar _types1 = _types[i].split('_');\n\t\t\t\tfor (var x = 0; x < _types1.length; x++) {\n\t\t\t\t\ttype += (_types1[x].charAt(0).toUpperCase() + _types1[x].substr(1));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn type;\n\t\t}\n\n\t\tthis.getEl = function(elem) {\n\t\t\treturn $('.mgz-builder .' + elem.id);\n\t\t}\n\n\t\t// Clone parent styles\n\t\tthis.previewStyles = function(elem) {\n\t\t\tvar _elem = $('#' + elem.builder.oldId + '-style');\n\t\t\tvar oldId = '\\\\.' + elem.builder.oldId;\n\t\t\tvar newId = '.' + elem.id;\n\t\t\tvar regex = new RegExp(oldId, 'g');\n\t\t\tvar styleHtml = _elem[0].outerHTML.replace(regex, newId);\n\t\t\tstyleHtml = styleHtml.replace(elem.builder.oldId + '-style', elem.id + '-style');\n\t\t\t$('#' + elem.builder.oldId + '-style').after(styleHtml);\n\t\t\tif (elem.elements) {\n\t\t\t\tangular.forEach(elem.elements, function(_elem, index) {\n\t\t\t\t\tself.previewStyles(_elem);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\treturn elementManagerService;\n});","Magento_InventorySalesAdminUi/js/product/grid/cell/salable-quantity.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'Magento_Ui/js/grid/columns/column'\n], function (Column) {\n    'use strict';\n\n    return Column.extend({\n        defaults: {\n            bodyTmpl: 'Magento_InventorySalesAdminUi/product/grid/cell/salable-quantity.html'\n        },\n\n        /**\n         * Get salable quantity data (stock name and salable qty)\n         *\n         * @param {Object} record - Record object\n         * @returns {Array} Result array\n         */\n        getSalableQuantityData: function (record) {\n            return record[this.index] ? record[this.index] : [];\n        }\n    });\n});\n","Magento_InventorySalesAdminUi/js/stock/grid/cell/sales-channels.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'Magento_Ui/js/grid/columns/column',\n    'underscore'\n], function (Column, _) {\n    'use strict';\n\n    return Column.extend({\n        defaults: {\n            bodyTmpl: 'Magento_InventorySalesAdminUi/stock/grid/cell/sales-channel-cell.html'\n        },\n\n        /**\n         * Get sales channels grouped by type\n         *\n         * @param {Object} record - Record object\n         * @returns {Array} Result array\n         */\n        getSalesChannelsGroupedByType: function (record) {\n            var result = [];\n\n            _.each(record[this.index], function (channels, type) {\n                result.push({\n                    type: type,\n                    channels: channels\n                });\n            });\n\n            return result;\n        }\n    });\n});\n","Magento_LoginAsCustomerAssistance/js/not-allowed-popup.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'uiComponent',\n    'Magento_Ui/js/modal/confirm',\n    'mage/translate'\n], function (Component, confirm, $t) {\n\n    'use strict';\n\n    return Component.extend({\n        /**\n         * Initialize Component\n         */\n        initialize: function () {\n            var self = this,\n                content;\n\n            this._super();\n\n            content = '<div class=\"message message-warning\">' + self.content + '</div>';\n\n            /**\n             * Not Allowed popup\n             *\n             * @returns {Boolean}\n             */\n            window.lacNotAllowedPopup = function () {\n                confirm({\n                    title: self.title,\n                    content: content,\n                    modalClass: 'confirm lac-confirm',\n                    buttons: [\n                        {\n                            text: $t('Close'),\n                            class: 'action-secondary action-dismiss',\n\n                            /**\n                             * Click handler.\n                             */\n                            click: function (event) {\n                                this.closeModal(event);\n                            }\n                        }\n                    ]\n                });\n\n                return false;\n            };\n        }\n    });\n});\n","Magento_Paypal/js/rule.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'uiClass',\n    'Magento_Paypal/js/rules'\n], function (Class, Rules) {\n    'use strict';\n\n    return Class.extend({\n\n        /**\n         * Constructor\n         *\n         * @param {Object} config\n         * @returns {exports.initialize}\n         */\n        initialize: function (config) {\n            this.rules = new Rules();\n            this.initConfig(config);\n\n            return this;\n        },\n\n        /**\n         * To apply the rule\n         */\n        apply: function () {\n            this.rules[this.name](this.$target, this.$owner, this.data);\n        }\n    });\n});\n","Magento_Paypal/js/solutions.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery',\n    'uiClass',\n    'Magento_Paypal/js/solution',\n    'underscore'\n], function ($, Class, Solution, _) {\n    'use strict';\n\n    return Class.extend({\n        defaults: {\n\n            /**\n             * Initialized solutions\n             */\n            solutions: {},\n\n            /**\n             * The elements of created solutions\n             */\n            solutionsElements: {},\n\n            /**\n             * The selector element responsible for configuration of payment method (CSS class)\n             */\n            buttonConfiguration: '.button.action-configure'\n        },\n\n        /**\n         * Constructor\n         *\n         * @param {Object} config\n         * @returns {exports.initialize}\n         */\n        initialize: function (config) {\n            this.initConfig(config)\n                .initSolutions();\n\n            return this;\n        },\n\n        /**\n         * Initialization and configuration solutions\n         *\n         * @returns {exports.initSolutions}\n         */\n        initSolutions: function () {\n            _.each(this.config.solutions, this.addSolution, this);\n            this.initializeSolutions()\n                .wipeButtonsConfiguration();\n            _.each(this.solutions, this.applicationRules);\n\n            return this;\n        },\n\n        /**\n         * The creation and addition of the solution according to the configuration\n         *\n         * @param {Object} solution\n         * @param {String} identifier\n         */\n        addSolution: function (solution, identifier) {\n            this.solutions[identifier] = new Solution({\n                config: solution,\n                buttonConfiguration: this.buttonConfiguration\n            }, identifier);\n            this.solutionsElements[identifier] = this.solutions[identifier].$self;\n        },\n\n        /**\n         * Wiping buttons configuration of the payment method\n         */\n        wipeButtonsConfiguration: function () {\n            $(this.buttonConfiguration).removeClass('disabled')\n                .removeAttr('disabled');\n        },\n\n        /**\n         * Application of the rules\n         *\n         * @param {Object} solution\n         */\n        applicationRules: function (solution) {\n            _.each(solution.afterLoadRules, function (rule) {\n                rule.apply();\n            });\n        },\n\n        /**\n         * Initialize solutions\n         *\n         * @returns {exports.initializeSolutions}\n         */\n        initializeSolutions: function () {\n            _.each(this.solutions, function (solution) {\n                solution.setSolutionsElements(this.solutionsElements)\n                    .initEvents()\n                    .addListeners();\n            }, this);\n\n            return this;\n        }\n    });\n});\n","Magento_Paypal/js/rules.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'uiClass',\n    'Magento_Ui/js/modal/alert'\n], function (Class, alert) {\n    'use strict';\n\n    /**\n     * Check is solution enabled\n     *\n     * @param {*} solution\n     * @param {String} enabler\n     * @returns {Boolean}\n     */\n    var isSolutionEnabled = function (solution, enabler) {\n            return solution.find(enabler).val() === '1';\n        },\n\n        /**\n         * Check is solution has related solutions enabled\n         *\n         * @param {Object} data\n         * @returns {Boolean}\n         */\n        hasRelationsEnabled = function (data) {\n            var name;\n\n            for (name in data.argument) {\n                if (\n                    data.solutionsElements[name] &&\n                    isSolutionEnabled(data.solutionsElements[name], data.enableButton)\n                ) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        /**\n         * Set solution select-enabler to certain option\n         *\n         * @param {*} solution\n         * @param {String} enabler\n         * @param {Boolean} enabled\n         */\n        setSolutionSelectEnabled = function (solution, enabler, enabled) {\n            enabled = !(enabled || typeof enabled === 'undefined') ? '0' : '1';\n\n            solution.find(enabler + ' option[value=' + enabled + ']')\n            .prop('selected', true);\n        },\n\n        /**\n         * Set solution property 'disabled' value\n         *\n         * @param {*} solution\n         * @param {String} enabler\n         * @param {Boolean} enabled\n         */\n        setSolutionPropEnabled = function (solution, enabler, enabled) {\n            enabled = !(enabled || typeof enabled === 'undefined');\n\n            solution.find(enabler).prop('disabled', enabled);\n        },\n\n        /**\n         * Set/unset solution select-enabler label\n         *\n         * @param {*} solution\n         * @param {String} enabler\n         * @param {Boolean} enabled\n         */\n        setSolutionMarkEnabled = function (solution, enabler, enabled) {\n            var solutionEnabler = solution.find('label[for=\"' + solution.find(enabler).attr('id') + '\"]');\n\n            enabled || typeof enabled === 'undefined' ?\n                solutionEnabler.addClass('enabled') :\n                solutionEnabler.removeClass('enabled');\n        },\n\n        /**\n         * Set/unset solution section label\n         *\n         * @param {*} solution\n         * @param {Boolean} enabled\n         */\n        setSolutionSectionMarkEnabled = function (solution, enabled) {\n            var solutionSection = solution.find('.section-config');\n\n            enabled || typeof enabled === 'undefined' ?\n                solutionSection.addClass('enabled') :\n                solutionSection.removeClass('enabled');\n        },\n\n        /**\n         * Set/unset solution section inner labels\n         *\n         * @param {*} solution\n         * @param {Boolean} enabled\n         */\n        setSolutionLabelsMarkEnabled = function (solution, enabled) {\n            var solutionLabels = solution.find('label.enabled');\n\n            enabled || typeof enabled === 'undefined' ?\n                solutionLabels.addClass('enabled') :\n                solutionLabels.removeClass('enabled');\n        },\n\n        /**\n         * Set/unset solution usedefault checkbox\n         *\n         * @param {*} solution\n         * @param {String} enabler\n         * @param {Boolean} checked\n         */\n        setSolutionUsedefaultEnabled = function (solution, enabler, checked) {\n            checked = !(checked || typeof checked === 'undefined');\n\n            solution.find('input[id=\"' + solution.find(enabler).attr('id') + '_inherit\"]')\n            .prop('checked', checked);\n        },\n\n        /**\n         * Set solution as disabled\n         *\n         * @param {*} solution\n         * @param {String} enabler\n         */\n        disableSolution = function (solution, enabler) {\n            setSolutionUsedefaultEnabled(solution, enabler);\n            setSolutionMarkEnabled(solution, enabler, false);\n            setSolutionSelectEnabled(solution, enabler, false);\n            setSolutionPropEnabled(solution, enabler, false);\n        },\n\n        /**\n         * Set solution as enabled\n         *\n         * @param {*} solution\n         * @param {String} enabler\n         */\n        enableSolution = function (solution, enabler) {\n            setSolutionUsedefaultEnabled(solution, enabler);\n            setSolutionPropEnabled(solution, enabler);\n            setSolutionSelectEnabled(solution, enabler);\n            setSolutionMarkEnabled(solution, enabler);\n        },\n\n        /**\n         * Lock/unlock solution configuration button\n         *\n         * @param {*} solution\n         * @param {String} buttonConfiguration\n         * @param {Boolean} unlock\n         */\n        setSolutionConfigurationUnlock = function (solution, buttonConfiguration, unlock) {\n            var solutionConfiguration = solution.find(buttonConfiguration);\n\n            unlock || typeof unlock === 'undefined' ?\n                solutionConfiguration.removeClass('disabled').removeAttr('disabled') :\n                solutionConfiguration.addClass('disabled').attr('disabled', 'disabled');\n        },\n\n        /**\n         * Forward solution select-enabler changes\n         *\n         * @param {*} solution\n         * @param {String} enabler\n         */\n        forwardSolutionChange = function (solution, enabler) {\n            solution.find(enabler).change();\n        },\n\n        /**\n         * Show/hide dependent fields\n         *\n         * @param {*} solution\n         * @param {String} identifier\n         * @param {Boolean} show\n         */\n        showDependsField = function (solution, identifier, show) {\n            show = show || typeof show === 'undefined';\n\n            solution.find(identifier).toggle(show);\n            solution.find(identifier).closest('tr').toggle(show);\n            solution.find(identifier).attr('disabled', !show);\n        };\n\n    return Class.extend({\n        defaults: {\n            /**\n             * Payment conflicts checker\n             */\n            executed: false\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        simpleDisable: function ($target, $owner, data) {\n            setSolutionSelectEnabled($target, data.enableButton, false);\n            setSolutionLabelsMarkEnabled($target, false);\n            setSolutionSectionMarkEnabled($target, false);\n        },\n\n        /**\n         * @param {*} $target\n         */\n        simpleMarkEnable: function ($target) {\n            setSolutionSectionMarkEnabled($target);\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        disable: function ($target, $owner, data) {\n            this.simpleDisable($target, $owner, data);\n            forwardSolutionChange($target, data.enableButton);\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        paypalExpressDisable: function ($target, $owner, data) {\n            setSolutionSelectEnabled($target, data.enableButton, false);\n            setSolutionLabelsMarkEnabled($target, false);\n            forwardSolutionChange($target, data.enableButton);\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        paypalExpressLockConfiguration: function ($target, $owner, data) {\n            setSolutionConfigurationUnlock($target, data.buttonConfiguration, false);\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        paypalExpressLockConfigurationConditional: function ($target, $owner, data) {\n            if (\n                !isSolutionEnabled($target, data.enableInContextPayPal) &&\n                hasRelationsEnabled(data)\n            ) {\n                this.paypalExpressLockConfiguration($target, $owner, data);\n            }\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        paypalExpressMarkDisable: function ($target, $owner, data) {\n            if (!hasRelationsEnabled(data)) {\n                this.simpleDisable($target, $owner, data);\n            }\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        paypalExpressUnlockConfiguration: function ($target, $owner, data) {\n            if (!hasRelationsEnabled(data)) {\n                setSolutionConfigurationUnlock($target, data.buttonConfiguration);\n            }\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        paypalBmlDisable: function ($target, $owner, data) {\n            disableSolution($target, data.enableBmlPayPal);\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        paypalBmlDisableConditional: function ($target, $owner, data) {\n            if (!isSolutionEnabled($target, data.enableButton)) {\n                this.paypalBmlDisable($target, $owner, data);\n            }\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        paypalBmlEnable: function ($target, $owner, data) {\n            enableSolution($target, data.enableBmlPayPal);\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        payflowExpressDisable: function ($target, $owner, data) {\n            disableSolution($target, data.enableExpress);\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        payflowExpressDisableConditional: function ($target, $owner, data) {\n            if (\n                !isSolutionEnabled($target, data.enableButton) ||\n                hasRelationsEnabled(data)\n            ) {\n                this.payflowExpressDisable($target, $owner, data);\n                forwardSolutionChange($target, data.enableExpress);\n            }\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        payflowExpressEnable: function ($target, $owner, data) {\n            enableSolution($target, data.enableExpress);\n            forwardSolutionChange($target, data.enableExpress);\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        payflowExpressEnableConditional: function ($target, $owner, data) {\n            if (hasRelationsEnabled(data)) {\n                setSolutionPropEnabled($target, data.enableExpress, false);\n                setSolutionSelectEnabled($target, data.enableExpress);\n                setSolutionMarkEnabled($target, data.enableExpress);\n            } else {\n                disableSolution($target, data.enableExpress);\n            }\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        payflowExpressLockConditional: function ($target, $owner, data) {\n            if (!isSolutionEnabled($target, data.enableButton)) {\n                setSolutionPropEnabled($target, data.enableExpress, false);\n            }\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        payflowExpressUsedefaultDisable: function ($target, $owner, data) {\n            setSolutionUsedefaultEnabled($target, data.enableExpress, false);\n            this.payflowExpressEnable($target, $owner, data);\n            forwardSolutionChange($target, data.enableExpress);\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        payflowExpressUsedefaultEnable: function ($target, $owner, data) {\n            setSolutionUsedefaultEnabled($target, data.enableExpress);\n            this.payflowExpressDisable($target, $owner, data);\n            forwardSolutionChange($target, data.enableExpress);\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        payflowBmlDisable: function ($target, $owner, data) {\n            disableSolution($target, data.enableBml);\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        payflowBmlDisableConditional: function ($target, $owner, data) {\n            if (\n                !isSolutionEnabled($target, data.enableButton) ||\n                hasRelationsEnabled(data)\n            ) {\n                this.payflowBmlDisable($target, $owner, data);\n            }\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        payflowBmlDisableConditionalExpress: function ($target, $owner, data) {\n            if (!isSolutionEnabled($target, data.enableExpress)) {\n                this.payflowBmlDisable($target, $owner, data);\n            }\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        payflowBmlEnable: function ($target, $owner, data) {\n            enableSolution($target, data.enableBml);\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        payflowBmlEnableConditional: function ($target, $owner, data) {\n            if (hasRelationsEnabled(data)) {\n                setSolutionPropEnabled($target, data.enableBml, false);\n                setSolutionSelectEnabled($target, data.enableBml);\n                setSolutionMarkEnabled($target, data.enableBml);\n            } else {\n                disableSolution($target, data.enableBml);\n            }\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        payflowBmlLockConditional: function ($target, $owner, data) {\n            if (!isSolutionEnabled($target, data.enableButton)) {\n                setSolutionPropEnabled($target, data.enableBml, false);\n            }\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        inContextEnable: function ($target, $owner, data) {\n            enableSolution($target, data.enableInContextPayPal);\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        inContextDisable: function ($target, $owner, data) {\n            disableSolution($target, data.enableInContextPayPal);\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        inContextShowMerchantId: function ($target, $owner, data) {\n            showDependsField($target, data.dependsMerchantId);\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        inContextHideMerchantId: function ($target, $owner, data) {\n            showDependsField($target, data.dependsMerchantId, false);\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        payflowShowSortOrder: function ($target, $owner, data) {\n            showDependsField($target, data.dependsBmlSortOrder);\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        payflowHideSortOrder: function ($target, $owner, data) {\n            showDependsField($target, data.dependsBmlSortOrder, false);\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        paypalShowSortOrder: function ($target, $owner, data) {\n            showDependsField($target, data.dependsBmlApiSortOrder);\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        paypalHideSortOrder: function ($target, $owner, data) {\n            showDependsField($target, data.dependsBmlApiSortOrder, false);\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        inContextActivate: function ($target, $owner, data) {\n            setSolutionMarkEnabled($target, data.enableInContextPayPal);\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        inContextDeactivate: function ($target, $owner, data) {\n            setSolutionMarkEnabled($target, data.enableInContextPayPal, false);\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        inContextDisableConditional: function ($target, $owner, data) {\n            if (!isSolutionEnabled($target, data.enableButton)) {\n                this.inContextDisable($target, $owner, data);\n            }\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        conflict: function ($target, $owner, data) {\n            var newLine = String.fromCharCode(10, 13);\n\n            if (\n                isSolutionEnabled($owner, data.enableButton) &&\n                hasRelationsEnabled(data) &&\n                !this.executed\n            ) {\n                this.executed = true;\n                alert({\n                    content: 'The following error(s) occurred:' +\n                    newLine +\n                    'Some PayPal solutions conflict.' +\n                    newLine +\n                    'Please re-enable the previously enabled payment solutions.'\n                });\n            }\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        removeCreditOption: function ($target, $owner, data) {\n            if ($target.find(data.dependsButtonLabel + ' option[value=\"credit\"]').length > 0) {\n                $target.find(data.dependsButtonLabel + ' option[value=\"credit\"]').remove();\n            }\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        addCreditOption: function ($target, $owner, data) {\n            if ($target.find(data.dependsButtonLabel + ' option[value=\"credit\"]').length === 0) {\n                $target.find(data.dependsButtonLabel).append('<option value=\"credit\">Credit</option>');\n            }\n        },\n\n        /**\n         * @param {*} $target\n         * @param {*} $owner\n         * @param {Object} data\n         */\n        removeCreditOptionConditional: function ($target, $owner, data) {\n            if ($target.find(data.dependsDisableFundingOptions + ' option[value=\"CREDIT\"]').length === 0 ||\n                $target.find(data.dependsDisableFundingOptions + ' option[value=\"CREDIT\"]:selected').length > 0\n            ) {\n                this.removeCreditOption($target, $owner, data);\n            }\n        }\n    });\n});\n","Magento_Paypal/js/solution.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery',\n    'uiClass',\n    'Magento_Paypal/js/rule',\n    'mageUtils',\n    'underscore'\n], function ($, Class, Rule, utils, _) {\n    'use strict';\n\n    return Class.extend({\n        defaults: {\n\n            /**\n             * The event corresponding to the state change\n             */\n            systemEvent: 'change',\n\n            /**\n             * The rules applied after the page is loaded\n             */\n            afterLoadRules: [],\n\n            /**\n             * An attribute of the element responsible for the activation of the payment method (data attribute)\n             */\n            enableButton:   '[data-enable=\"payment\"]',\n\n            /**\n             * An attribute of the element responsible for the activation of the Payflow Express (data attribute)\n             */\n            enableExpress:  '[data-enable=\"express\"]',\n\n            /**\n             * An attribute of the element responsible for the activation of the\n             * PayPal Express In-Context Checkout Experience (data attribute)\n             */\n            enableInContextPayPal: '[data-enable=\"in-context-api\"]',\n\n            /**\n             * An attribute of the element responsible for the activation of the Payflow Bml (data attribute)\n             */\n            enableBml:      '[data-enable=\"bml\"]',\n\n            /**\n             * An attribute of the element responsible for the activation of the PayPal Bml (data attribute)\n             */\n            enableBmlPayPal:      '[data-enable=\"bml-api\"]',\n\n            /**\n             * An attribute of the element responsible for the visibility of the PayPal Merchant Id (data attribute)\n             */\n            dependsMerchantId:  '[data-enable=\"merchant-id\"]',\n\n            /**\n             * An attribute of the element responsible for the visibility of the Payflow Bml Sort Order (data attribute)\n             */\n            dependsBmlSortOrder:    '[data-enable=\"bml-sort-order\"]',\n\n            /**\n             * An attribute of the element responsible for the visibility of the PayPal Bml Sort Order (data attribute)\n             */\n            dependsBmlApiSortOrder:    '[data-enable=\"bml-api-sort-order\"]',\n\n            /**\n             * An attribute of the element responsible for the visibility of the\n             * button Label credit option (data attribute)\n             */\n            dependsButtonLabel: '[data-enable=\"button-label\"]',\n\n            /**\n             * An attribute of the element responsible for the visibility of the\n             * button Label credit option on load (data attribute)\n             */\n            dependsDisableFundingOptions: '[data-enable=\"disable-funding-options\"]',\n\n            /**\n             * Templates element selectors\n             */\n            templates: {\n                elementSelector: 'div.section-config tr[id$=\"${ $.identifier }\"]:first'\n            }\n        },\n\n        /**\n         * Constructor\n         *\n         * @param {Object} config\n         * @param {String} identifier\n         * @returns {exports.initialize}\n         */\n        initialize: function (config, identifier) {\n            this.initConfig(config);\n            this.$self = this.createElement(identifier);\n\n            return this;\n        },\n\n        /**\n         * Initialization events\n         *\n         * @returns {exports.initEvents}\n         */\n        initEvents: function () {\n            _.each(this.config.events, function (elementEvents, selector) {\n\n                var solution = this,\n                    selectorButton = solution.$self.find(selector),\n                    $self = solution.$self,\n                    events = elementEvents;\n\n                selectorButton.on(solution.systemEvent, function () {\n                    _.each(events, function (elementEvent, name) {\n\n                        var predicate = elementEvent.predicate,\n                            result = true,\n\n                            /**\n                             * @param {Function} functionPredicate\n                             */\n                            predicateCallback = function (functionPredicate) {\n                                result = functionPredicate(solution, predicate.message, predicate.argument);\n\n                                if (result) {\n                                    $self.trigger(name);\n                                } else {\n                                    $self.trigger(predicate.event);\n                                }\n                            };\n\n                        if (solution.getValue($(this)) === elementEvent.value ||\n                            $(this).prop('multiple') && solution.checkMultiselectValue($(this), elementEvent)\n                        ) {\n                            if (predicate.name) {\n                                require([\n                                    'Magento_Paypal/js/predicate/' + predicate.name\n                                ], predicateCallback);\n                            } else {\n                                $self.trigger(name);\n                            }\n                        }\n                    }, this);\n                });\n            }, this);\n\n            return this;\n        },\n\n        /**\n         * @param {Object} $element\n         * @returns {*}\n         */\n        getValue: function ($element) {\n            if ($element.is(':checkbox')) {\n                return $element.prop('checked') ? '1' : '0';\n            }\n\n            return $element.val();\n        },\n\n        /**\n         * Check multiselect value based on include value\n         *\n         * @param {Object} $element\n         * @param {Object} elementEvent\n         * @returns {Boolean}\n         */\n        checkMultiselectValue: function ($element, elementEvent) {\n            var isValueSelected = $.inArray(elementEvent.value, $element.val()) >= 0;\n\n            if (elementEvent.include) {\n                isValueSelected = (isValueSelected ? 'true' : 'false') === elementEvent.include;\n            }\n\n            return isValueSelected;\n        },\n\n        /**\n         * Adding event listeners\n         *\n         * @returns {exports.addListeners}\n         */\n        addListeners: function () {\n\n            _.each(this.config.relations, function (rules, targetName) {\n\n                var $target = this.createElement(targetName);\n\n                _.each(rules, function (instances, instanceName) {\n\n                    _.each(instances, function (instance) {\n                        var handler = new Rule({\n                            name: instanceName,\n                            $target: $target,\n                            $owner: this.$self,\n                            data: {\n                                buttonConfiguration: this.buttonConfiguration,\n                                enableButton: this.enableButton,\n                                enableExpress: this.enableExpress,\n                                enableInContextPayPal: this.enableInContextPayPal,\n                                enableBml: this.enableBml,\n                                enableBmlPayPal: this.enableBmlPayPal,\n                                dependsMerchantId: this.dependsMerchantId,\n                                dependsBmlSortOrder: this.dependsBmlSortOrder,\n                                dependsBmlApiSortOrder: this.dependsBmlApiSortOrder,\n                                dependsButtonLabel: this.dependsButtonLabel,\n                                dependsDisableFundingOptions: this.dependsDisableFundingOptions,\n                                solutionsElements: this.solutionsElements,\n                                argument: instance.argument\n                            }\n                        });\n\n                        if (instance.event === ':load') {\n                            this.afterLoadRules.push(handler);\n\n                            return;\n                        }\n\n                        this.$self.on(instance.event, _.bind(handler.apply, handler));\n                    }, this);\n                }, this);\n            }, this);\n\n            return this;\n        },\n\n        /**\n         * Create a jQuery element according to selector\n         *\n         * @param {String} identifier\n         * @returns {*}\n         */\n        createElement: function (identifier) {\n            if (identifier === ':self') {\n                return this.$self;\n            }\n\n            return $(utils.template(this.templates.elementSelector, {\n                'identifier': identifier\n            }));\n        },\n\n        /**\n         * Assign solutions elements\n         *\n         * @param {Object} elements\n         * @returns {exports.setSolutionsElements}\n         */\n        setSolutionsElements: function (elements) {\n            this.solutionsElements = elements;\n\n            return this;\n        }\n    });\n});\n","Magento_Paypal/js/predicate/confirm.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine(['underscore'], function (_) {\n    'use strict';\n\n    return function (solution, message, argument) {\n        var isConfirm = false;\n\n        _.every(argument, function (name) {\n            if (solution.solutionsElements[name] &&\n                solution.solutionsElements[name].find(solution.enableButton).val() == 1 //eslint-disable-line eqeqeq\n            ) {\n                isConfirm = true;\n\n                return !isConfirm;\n            }\n\n            return !isConfirm;\n        }, this);\n\n        if (isConfirm) {\n            return confirm(message); //eslint-disable-line no-alert\n        }\n\n        return true;\n    };\n});\n","Magento_Paypal/js/payflowpro/vault.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine([\n    'jquery',\n    'uiComponent'\n], function ($, Class) {\n    'use strict';\n\n    return Class.extend({\n        defaults: {\n            $selector: null,\n            selector: 'edit_form'\n        },\n\n        /**\n         * Set list of observable attributes\n         * @returns {exports.initObservable}\n         */\n        initObservable: function () {\n            var self = this;\n\n            self.$selector = $('#' + self.selector);\n            this._super();\n\n            this.initEventHandlers();\n\n            return this;\n        },\n\n        /**\n         * Get payment code\n         * @returns {String}\n         */\n        getCode: function () {\n            return 'payflowpro';\n        },\n\n        /**\n         * Init event handlers\n         */\n        initEventHandlers: function () {\n            $('#' + this.container).find('[name=\"payment[token_switcher]\"]')\n                .on('click', this.setPaymentDetails.bind(this));\n        },\n\n        /**\n         * Store payment details\n         */\n        setPaymentDetails: function () {\n            this.$selector.find('[name=\"payment[public_hash]\"]').val(this.publicHash);\n        }\n    });\n});\n","js/theme.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine('globalNavigationScroll', [\n    'jquery'\n], function ($) {\n    'use strict';\n\n    var win = $(window),\n        subMenuClass = '.submenu',\n        fixedClassName = '_fixed',\n        menu = $('.menu-wrapper'),\n        content = $('.page-wrapper'),\n        menuItems = $('#nav').children('li'),\n        winHeight,\n        menuHeight = menu.height(),\n        menuScrollMax = 0,\n        submenuHeight = 0,\n        contentHeight,\n        winTop = 0,\n        winTopLast = 0,\n        scrollStep = 0,\n        nextTop = 0;\n\n    /**\n     * Check if menu is fixed\n     * @returns {Boolean}\n     */\n    function isMenuFixed() {\n        return menuHeight < contentHeight && contentHeight > winHeight;\n    }\n\n    /**\n     * Check if class exist than add or do nothing\n     * @param {jQuery} el\n     * @param {String} $class\n     */\n    function checkAddClass(el, $class) {\n        if (!el.hasClass($class)) {\n            el.addClass($class);\n        }\n    }\n\n    /**\n     * Check if class exist than remove or do nothing\n     * @param {jQuery} el\n     * @param {String} $class\n     */\n    function checkRemoveClass(el, $class) {\n        if (el.hasClass($class)) {\n            el.removeClass($class);\n        }\n    }\n\n    /**\n     * Calculate and apply menu position\n     */\n    function positionMenu() {\n\n        //  Spotting positions and heights\n        winHeight = win.height();\n        contentHeight = content.height();\n        winTop = win.scrollTop();\n        scrollStep = winTop - winTopLast;\n\n        if (isMenuFixed()) { // fixed menu cases\n\n            checkAddClass(menu, fixedClassName);\n\n            if (menuHeight > winHeight) { // smart scroll cases\n\n                if (winTop > winTopLast) { //eslint-disable-line max-depth\n\n                    menuScrollMax = menuHeight - winHeight;\n\n                    nextTop < menuScrollMax - scrollStep ?\n                        nextTop += scrollStep : nextTop = menuScrollMax;\n\n                    menu.css('top', -nextTop);\n\n                } else if (winTop <= winTopLast) { // scroll up\n\n                    nextTop > -scrollStep ?\n                        nextTop += scrollStep : nextTop = 0;\n\n                    menu.css('top', -nextTop);\n\n                }\n\n            }\n\n        } else { // static menu cases\n            checkRemoveClass(menu, fixedClassName);\n            menu.css('top', 'auto');\n        }\n\n        //  Save previous window scrollTop\n        winTopLast = winTop;\n\n    }\n\n    positionMenu(); // page start calculation\n\n    //  Change position on scroll\n    win.on('scroll', function () {\n        positionMenu();\n    });\n\n    win.on('resize', function () {\n\n        winHeight = win.height();\n\n        //  Reset position if fixed and out of smart scroll\n        if (menuHeight < contentHeight && menuHeight <= winHeight) {\n            menu.removeAttr('style');\n            menuItems.off();\n        }\n\n    });\n\n    //  Add event to menuItems to check submenu overlap\n    menuItems.on('click', function () {\n\n        var submenu = $(this).children(subMenuClass),\n            delta,\n            logo = $('.logo')[0].offsetHeight;\n\n        submenuHeight = submenu.height();\n\n        if (submenuHeight > menuHeight && menuHeight + logo > winHeight) {\n            menu.height(submenuHeight - logo);\n            delta = -menu.position().top;\n            window.scrollTo(0, 0);\n            positionMenu();\n            window.scrollTo(0, delta);\n            positionMenu();\n            menuHeight = submenuHeight;\n        }\n    });\n\n});\n\ndefine('globalNavigation', [\n    'jquery',\n    'jquery/ui',\n    'globalNavigationScroll'\n], function ($) {\n    'use strict';\n\n    $.widget('mage.globalNavigation', {\n        options: {\n            selectors: {\n                menu: '#nav',\n                currentItem: '._current',\n                topLevelItem: '.level-0',\n                topLevelHref: '> a',\n                subMenu: '> .submenu',\n                closeSubmenuBtn: '[data-role=\"close-submenu\"]'\n            },\n            overlayTmpl: '<div class=\"admin__menu-overlay\"></div>'\n        },\n\n        /** @inheritdoc */\n        _create: function () {\n            var selectors = this.options.selectors;\n\n            this.menu = this.element;\n            this.menuLinks = $(selectors.topLevelHref, selectors.topLevelItem);\n            this.closeActions = $(selectors.closeSubmenuBtn);\n\n            this._initOverlay()\n                ._bind();\n        },\n\n        /**\n         * @return {Object}\n         * @private\n         */\n        _initOverlay: function () {\n            this.overlay = $(this.options.overlayTmpl).appendTo('body').hide(0);\n\n            return this;\n        },\n\n        /**\n         * @private\n         */\n        _bind: function () {\n            var focus = this._focus.bind(this),\n                open = this._open.bind(this),\n                blur = this._blur.bind(this),\n                keyboard = this._keyboard.bind(this);\n\n            this.menuLinks\n                .on('focus', focus)\n                .on('click', open);\n\n            this.menuLinks.last().on('blur', blur);\n\n            this.closeActions.on('keydown', keyboard);\n        },\n\n        /**\n         * Remove active class from current menu item\n         * Turn back active class to current page menu item\n         */\n        _blur: function (e) {\n            var selectors = this.options.selectors,\n                menuItem = $(e.target).closest(selectors.topLevelItem),\n                currentItem = $(selectors.menu).find(selectors.currentItem);\n\n            menuItem.removeClass('_active');\n            currentItem.addClass('_active');\n        },\n\n        /**\n         * Add focus to active menu item\n         */\n        _keyboard: function (e) {\n            var selectors = this.options.selectors,\n                menuItem = $(e.target).closest(selectors.topLevelItem);\n\n            if (e.which === 13) {\n                this._close(e);\n                $(selectors.topLevelHref, menuItem).focus();\n            }\n        },\n\n        /**\n         * Toggle active state on focus\n         */\n        _focus: function (e) {\n            var selectors = this.options.selectors,\n                menuItem = $(e.target).closest(selectors.topLevelItem);\n\n            menuItem.addClass('_active')\n                .siblings(selectors.topLevelItem)\n                .removeClass('_active');\n        },\n\n        /**\n         * @param {jQuery.Event} e\n         * @private\n         */\n        _closeSubmenu: function (e) {\n            var selectors = this.options.selectors,\n                currentItem = $(selectors.menu).find(selectors.currentItem);\n\n            this._close(e);\n\n            currentItem.addClass('_active');\n        },\n\n        /**\n         * @param {jQuery.Event} e\n         * @private\n         */\n        _open: function (e) {\n            var selectors = this.options.selectors,\n                menuItemSelector = selectors.topLevelItem,\n                menuItem = $(e.target).closest(menuItemSelector),\n                subMenu = $(selectors.subMenu, menuItem),\n                close = this._closeSubmenu.bind(this),\n                closeBtn = subMenu.find(selectors.closeSubmenuBtn);\n\n            if (subMenu.length) {\n                e.preventDefault();\n            }\n            closeBtn.on('click', close);\n\n            if ($(menuItem).hasClass('_show')) {\n                closeBtn.trigger('click');\n            } else {\n                menuItem.addClass('_show')\n                    .siblings(menuItemSelector)\n                    .removeClass('_show');\n                subMenu.attr('aria-expanded', 'true');\n                this.overlay.show(0).on('click', close);\n                this.menuLinks.last().off('blur');\n            }\n        },\n\n        /**\n         * @param {jQuery.Event} e\n         * @private\n         */\n        _close: function (e) {\n            var selectors = this.options.selectors,\n                menuItem = this.menu.find(selectors.topLevelItem + '._show'),\n                subMenu = $(selectors.subMenu, menuItem),\n                closeBtn = subMenu.find(selectors.closeSubmenuBtn),\n                blur = this._blur.bind(this);\n\n            e.preventDefault();\n\n            this.overlay.hide(0).off('click');\n\n            this.menuLinks.last().on('blur', blur);\n\n            closeBtn.off('click');\n\n            subMenu.attr('aria-expanded', 'false');\n\n            menuItem.removeClass('_show _active');\n        }\n    });\n\n    return $.mage.globalNavigation;\n});\n\ndefine('globalSearch', [\n    'jquery',\n    'Magento_Ui/js/lib/key-codes',\n    'jquery-ui-modules/widget'\n], function ($, keyCodes) {\n    'use strict';\n\n    $.widget('mage.globalSearch', {\n        options: {\n            field: '.search-global-field',\n            fieldActiveClass: '_active',\n            input: '#search-global'\n        },\n\n        /** @inheritdoc */\n        _create: function () {\n            this.field = $(this.options.field);\n            this.input = $(this.options.input);\n            this._events();\n        },\n\n        /**\n         * @private\n         */\n        _events: function () {\n            var self = this;\n\n            this.input.on('blur.resetGlobalSearchForm', function () {\n                if (!self.input.val()) {\n                    self.field.removeClass(self.options.fieldActiveClass);\n                }\n            });\n\n            this.input.on('focus.activateGlobalSearchForm', function () {\n                self.field.addClass(self.options.fieldActiveClass);\n            });\n\n            $(document).on('keydown.activateGlobalSearchForm', function (event) {\n                var inputs = [\n                    'input',\n                    'select',\n                    'textarea'\n                ];\n\n                if (keyCodes[event.which] !== 'forwardSlashKey' ||\n                    inputs.indexOf(event.target.tagName.toLowerCase()) !== -1 ||\n                    event.target.isContentEditable\n                ) {\n                    return;\n                }\n\n                event.preventDefault();\n\n                self.input.focus();\n            });\n        }\n    });\n\n    return $.mage.globalSearch;\n});\n\ndefine('modalPopup', [\n    'jquery',\n    'jquery/ui'\n], function ($) {\n    'use strict';\n\n    $.widget('mage.modalPopup', {\n        options: {\n            popup: '.popup',\n            btnDismiss: '[data-dismiss=\"popup\"]',\n            btnHide: '[data-hide=\"popup\"]'\n        },\n\n        /** @inheritdoc */\n        _create: function () {\n            this.fade = this.element;\n            this.popup = $(this.options.popup, this.fade);\n            this.btnDismiss = $(this.options.btnDismiss, this.popup);\n            this.btnHide = $(this.options.btnHide, this.popup);\n\n            this._events();\n        },\n\n        /**\n         * @private\n         */\n        _events: function () {\n            var self = this;\n\n            this.btnDismiss\n                .on('click.dismissModalPopup', function () {\n                    self.fade.remove();\n                });\n\n            this.btnHide\n                .on('click.hideModalPopup', function () {\n                    self.fade.hide();\n                });\n        }\n    });\n\n    return $.mage.modalPopup;\n});\n\ndefine('useDefault', [\n    'jquery',\n    'jquery/ui'\n], function ($) {\n    'use strict';\n\n    $.widget('mage.useDefault', {\n        options: {\n            field: '.field',\n            useDefault: '.use-default',\n            checkbox: '.use-default-control',\n            label: '.use-default-label'\n        },\n\n        /** @inheritdoc */\n        _create: function () {\n            this.el = this.element;\n            this.field = $(this.el).closest(this.options.field);\n            this.useDefault = $(this.options.useDefault, this.field);\n            this.checkbox = $(this.options.checkbox, this.useDefault);\n            this.label = $(this.options.label, this.useDefault);\n            this.origValue = this.el.attr('data-store-label');\n\n            this._events();\n        },\n\n        /**\n         * @private\n         */\n        _events: function () {\n            var self = this;\n\n            this.el.on(\n                    'change.toggleUseDefaultVisibility keyup.toggleUseDefaultVisibility',\n                    $.proxy(this._toggleUseDefaultVisibility, this)\n                ).trigger('change.toggleUseDefaultVisibility');\n\n            this.checkboxon('change.setOrigValue', function () {\n                if ($(this).prop('checked')) {\n                    self.el\n                        .val(self.origValue)\n                        .trigger('change.toggleUseDefaultVisibility');\n\n                    $(this).prop('checked', false);\n                }\n            });\n        },\n\n        /**\n         * @private\n         */\n        _toggleUseDefaultVisibility: function () {\n            var curValue = this.el.val(),\n                origValue = this.origValue;\n\n            this[curValue != origValue ? '_show' : '_hide'](); //eslint-disable-line eqeqeq\n        },\n\n        /**\n         * @private\n         */\n        _show: function () {\n            this.useDefault.show();\n        },\n\n        /**\n         * @private\n         */\n        _hide: function () {\n            this.useDefault.hide();\n        }\n    });\n\n    return $.mage.useDefault;\n});\n\ndefine('loadingPopup', [\n    'jquery',\n    'jquery/ui'\n], function ($) {\n    'use strict';\n\n    $.widget('mage.loadingPopup', {\n        options: {\n            message: 'Please wait...',\n            timeout: 5000,\n            timeoutId: null,\n            callback: null,\n            template: null\n        },\n\n        /** @inheritdoc */\n        _create: function () {\n            this.template =\n                '<div class=\"popup popup-loading\">' +\n                '<div class=\"popup-inner\">' + this.options.message + '</div>' +\n                '</div>';\n\n            this.popup = $(this.template);\n\n            this._show();\n            this._events();\n        },\n\n        /**\n         * @private\n         */\n        _events: function () {\n            var self = this;\n\n            this.element\n                .on('showLoadingPopup', function () {\n                    self._show();\n                })\n                .on('hideLoadingPopup', function () {\n                    self._hide();\n                });\n        },\n\n        /**\n         * @private\n         */\n        _show: function () {\n            var options = this.options,\n                timeout = options.timeout;\n\n            $('body').trigger('processStart');\n\n            if (timeout) {\n                options.timeoutId = setTimeout(this._delayedHide.bind(this), timeout);\n            }\n        },\n\n        /**\n         * @private\n         */\n        _hide: function () {\n            $('body').trigger('processStop');\n        },\n\n        /**\n         * @private\n         */\n        _delayedHide: function () {\n            this._hide();\n\n            this.options.callback && this.options.callback();\n\n            this.options.timeoutId && clearTimeout(this.options.timeoutId);\n        }\n    });\n\n    return $.mage.loadingPopup;\n});\n\ndefine('collapsable', [\n    'jquery',\n    'jquery/ui',\n    'jquery/jquery.tabs'\n], function ($) {\n    'use strict';\n\n    $.widget('mage.collapsable', {\n        options: {\n            parent: null,\n            openedClass: 'opened',\n            wrapper: '.fieldset-wrapper'\n        },\n\n        /** @inheritdoc */\n        _create: function () {\n            this._events();\n        },\n\n        /** @inheritdoc */\n        _events: function () {\n            var self = this;\n\n            this.element\n                .on('show', function (e) {\n                    var fieldsetWrapper = $(this).closest(self.options.wrapper);\n\n                    fieldsetWrapper.addClass(self.options.openedClass);\n                    e.stopPropagation();\n                })\n                .on('hide', function (e) {\n                    var fieldsetWrapper = $(this).closest(self.options.wrapper);\n\n                    fieldsetWrapper.removeClass(self.options.openedClass);\n                    e.stopPropagation();\n                });\n        }\n    });\n\n    return $.mage.collapsable;\n});\n\ndefine('js/theme', [\n    'jquery',\n    'mage/smart-keyboard-handler',\n    'mage/ie-class-fixer',\n    'collapsable',\n    'domReady!'\n], function ($, keyboardHandler) {\n    'use strict';\n\n    /* @TODO refactor collapsible as widget and avoid logic binding with such a general selectors */\n    $('.collapse').collapsable();\n\n    $.each($('.entry-edit'), function (i, entry) {\n        $('.collapse:first', entry).filter(function () {\n            return $(this).data('collapsed') !== true;\n        }).collapse('show');\n    });\n\n    keyboardHandler.apply();\n});\n","Magento_GroupedProduct/js/grouped-product.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'jquery',\n    'mage/template',\n    'jquery/ui',\n    'Magento_Ui/js/modal/modal',\n    'mage/translate',\n    'mage/adminhtml/grid'\n], function ($, mageTemplate) {\n    'use strict';\n\n    $.widget('mage.groupedProduct', {\n        /**\n         * Create widget\n         * @private\n         */\n        _create: function () {\n            this.$grid = this.element.find('[data-role=grouped-product-grid]');\n            this.$grid.sortable({\n                distance: 8,\n                items: '[data-role=row]',\n                tolerance: 'pointer',\n                cancel: ':input',\n                update: $.proxy(function () {\n                    this.element.trigger('resort');\n                }, this)\n            });\n\n            this.productTmpl = mageTemplate('#group-product-template');\n\n            $.each(\n                this.$grid.data('products'),\n                $.proxy(function (index, product) {\n                    this._add(null, product);\n                }, this)\n            );\n\n            this._on({\n                'add': '_add',\n                'resort': '_resort',\n                'click [data-column=actions] [data-role=delete]': '_remove'\n            });\n\n            this._bindDialog();\n            this._updateGridVisibility();\n        },\n\n        /**\n         * Add product to grouped grid\n         * @param {EventObject} event\n         * @param {Object} product\n         * @private\n         */\n        _add: function (event, product) {\n            var tmpl,\n                productExists;\n\n            productExists = this.$grid.find('[data-role=id]')\n                .filter(function (index, element) {\n                    return $(element).val() == product.id; //eslint-disable-line eqeqeq\n                }).length;\n\n            if (!productExists) {\n                tmpl = this.productTmpl({\n                    data: product\n                });\n\n                $(tmpl).appendTo(this.$grid.find('tbody'));\n            }\n        },\n\n        /**\n         * Remove product\n         * @param {EventObject} event\n         * @private\n         */\n        _remove: function (event) {\n            $(event.target).closest('[data-role=row]').remove();\n            this.element.trigger('resort');\n            this._updateGridVisibility();\n        },\n\n        /**\n         * Resort products\n         * @private\n         */\n        _resort: function () {\n            this.element.find('[data-role=position]').each($.proxy(function (index, element) {\n                $(element).val(index + 1);\n            }, this));\n        },\n\n        /**\n         * Create modal for show product\n         *\n         * @private\n         */\n        _bindDialog: function () {\n            var widget = this,\n                selectedProductList = {},\n                popup = $('[data-role=add-product-dialog]'),\n                gridPopup;\n\n            popup.modal({\n                type: 'slide',\n                innerScroll: true,\n                title: $.mage.__('Add Products to Group'),\n                modalClass: 'grouped',\n\n                /** @inheritdoc */\n                open: function () {\n                    $(this).addClass('admin__scope-old'); // ToDo UI: remove with old styles removal\n                },\n                buttons: [{\n                    id: 'grouped-product-dialog-apply-button',\n                    text: $.mage.__('Add Selected Products'),\n                    'class': 'action-primary action-add',\n\n                    /** @inheritdoc */\n                    click: function () {\n                        $.each(selectedProductList, function (index, product) {\n                            widget._add(null, product);\n                        });\n                        widget._resort();\n                        widget._updateGridVisibility();\n                        popup.modal('closeModal');\n                    }\n                }]\n            });\n\n            popup.on('click', '[data-role=row]', function (event) {\n                var target = $(event.target);\n\n                if (!target.is('input')) {\n                    target.closest('[data-role=row]')\n                        .find('[data-column=entity_ids] input')\n                        .prop('checked', function (element, value) {\n                            return !value;\n                        })\n                        .trigger('change');\n                }\n            });\n\n            popup.on(\n                'change',\n                '[data-role=row] [data-column=entity_ids] input',\n                $.proxy(function (event) {\n                    var element = $(event.target),\n                        product = {};\n\n                    if (element.is(':checked')) {\n                        product.id = element.val();\n                        product.qty = 0;\n                        element.closest('[data-role=row]').find('[data-column]').each(function (index, el) {\n                            product[$(el).data('column')] = $.trim($(el).text());\n                        });\n                        selectedProductList[product.id] = product;\n                    } else {\n                        delete selectedProductList[element.val()];\n                    }\n                }, this)\n            );\n\n            gridPopup = $(this.options.gridPopup).data('gridObject');\n\n            $('[data-role=add-product]').on('click', function (event) {\n                event.preventDefault();\n                popup.modal('openModal');\n                gridPopup.reload();\n                selectedProductList = {};\n            });\n\n            $('#' + gridPopup.containerId).on('gridajaxsettings', function (event, ajaxSettings) {\n                var ids = widget.$grid.find('[data-role=id]').map(function (index, element) {\n                    return $(element).val();\n                }).toArray();\n\n                ajaxSettings.data.filter = $.extend(ajaxSettings.data.filter || {}, {\n                    'entity_ids': ids\n                });\n            }).on('gridajax', function (event, ajaxRequest) {\n                ajaxRequest.done(function () {\n                    popup.find('[data-role=row] [data-column=entity_ids] input').each(function (index, element) {\n                        var $element = $(element);\n\n                        $element.prop('checked', !!selectedProductList[$element.val()]);\n                    });\n                });\n            });\n        },\n\n        /**\n         * Show or hide message\n         * @private\n         */\n        _updateGridVisibility: function () {\n            var showGrid = this.element.find('[data-role=id]').length > 0;\n\n            this.element.find('.grid-container').toggle(showGrid);\n            this.element.find('.no-products-message').toggle(!showGrid);\n        }\n    });\n\n    return $.mage.groupedProduct;\n});\n","Magento_GroupedProduct/js/grouped-product-grid.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'underscore',\n    'uiRegistry',\n    'Magento_Ui/js/dynamic-rows/dynamic-rows-grid'\n], function (_, registry, dynamicRowsGrid) {\n    'use strict';\n\n    return dynamicRowsGrid.extend({\n\n        /**\n         * Set max element position\n         *\n         * @param {Number} position - element position\n         * @param {Object} elem - instance\n         */\n        setMaxPosition: function (position, elem) {\n\n            if (position || position === 0) {\n                this.checkMaxPosition(position);\n                this.sort(position, elem);\n\n                if (~~position === this.maxPosition && ~~position > this.getDefaultPageBoundary() + 1) {\n                    this.shiftNextPagesPositions(position);\n                }\n            } else {\n                this.maxPosition += 1;\n            }\n        },\n\n        /**\n         * Shift positions for next page elements\n         *\n         * @param {Number} position\n         */\n        shiftNextPagesPositions: function (position) {\n\n            var recordData = this.recordData(),\n                startIndex = ~~this.currentPage() * this.pageSize,\n                offset = position - startIndex + 1,\n                index = startIndex;\n\n            if (~~this.currentPage() === this.pages()) {\n                return false;\n            }\n\n            for (index; index < recordData.length; index++) {\n                recordData[index].position = index + offset;\n            }\n            this.recordData(recordData);\n        },\n\n        /**\n         * Update position for element after position from another page is entered\n         *\n         * @param {Object} data\n         * @param {Object} event\n         */\n        updateGridPosition: function (data, event) {\n            var inputValue = parseInt(event.target.value, 10),\n                recordData = this.recordData(),\n                record,\n                previousValue,\n                updatedRecord;\n\n            record = this.elems().find(function (obj) {\n                return obj.dataScope === data.parentScope;\n            });\n\n            previousValue = this.getCalculatedPosition(record);\n\n            if (isNaN(inputValue) || inputValue < 0 || inputValue === previousValue) {\n                return false;\n            }\n\n            this.elems([]);\n\n            updatedRecord = this.getUpdatedRecordIndex(recordData, record.data().id);\n\n            if (inputValue >= this.recordData().size() - 1) {\n                recordData[updatedRecord].position = this.getGlobalMaxPosition() + 1;\n            } else {\n                recordData.forEach(function (value, index) {\n                    if (~~value.id === ~~record.data().id) {\n                        recordData[index].position = inputValue;\n                    } else if (inputValue > previousValue && index <= inputValue) {\n                        recordData[index].position = index - 1;\n                    } else if (inputValue < previousValue && index >= inputValue) {\n                        recordData[index].position = index + 1;\n                    }\n                });\n            }\n\n            this.reloadGridData(recordData);\n\n        },\n\n        /**\n         * Get updated record index\n         *\n         * @param  {Array} recordData\n         * @param {Number} recordId\n         * @return {Number}\n         */\n        getUpdatedRecordIndex: function (recordData, recordId) {\n            return recordData.map(function (o) {\n                return ~~o.id;\n            }).indexOf(~~recordId);\n        },\n\n        /**\n         *\n         * @param {Array} recordData - to reprocess\n         */\n        reloadGridData: function (recordData) {\n            this.recordData(recordData.sort(function (a, b) {\n                return ~~a.position - ~~b.position;\n            }));\n            this._updateCollection();\n            this.reload();\n        },\n\n        /**\n         * Event handler for \"Send to bottom\" button\n         *\n         * @param {Object} positionObj\n         * @return {Boolean}\n         */\n        sendToBottom: function (positionObj) {\n\n            var objectToUpdate = this.getObjectToUpdate(positionObj),\n                recordData = this.recordData(),\n                updatedRecord;\n\n            if (~~this.currentPage() === this.pages) {\n                objectToUpdate.position = this.maxPosition;\n            } else {\n                this.elems([]);\n                updatedRecord = this.getUpdatedRecordIndex(recordData, objectToUpdate.data().id);\n                recordData[updatedRecord].position = this.getGlobalMaxPosition() + 1;\n                this.reloadGridData(recordData);\n            }\n\n            return false;\n        },\n\n        /**\n         * Event handler for \"Send to top\" button\n         *\n         * @param {Object} positionObj\n         * @return {Boolean}\n         */\n        sendToTop: function (positionObj) {\n            var objectToUpdate = this.getObjectToUpdate(positionObj),\n                recordData = this.recordData(),\n                updatedRecord;\n\n            //isFirst\n            if (~~this.currentPage() === 1) {\n                objectToUpdate.position = 0;\n            } else {\n                this.elems([]);\n                updatedRecord = this.getUpdatedRecordIndex(recordData, objectToUpdate.data().id);\n                recordData.forEach(function (value, index) {\n                    recordData[index].position = index === updatedRecord ? 0 : value.position + 1;\n                });\n                this.reloadGridData(recordData);\n            }\n\n            return false;\n        },\n\n        /**\n         * Get element from grid for update\n         *\n         * @param {Object} object\n         * @return {*}\n         */\n        getObjectToUpdate: function (object) {\n            return this.elems().filter(function (item) {\n                return item.name === object.parentName;\n            })[0];\n        },\n\n        /**\n         * Value function for position input\n         *\n         * @param {Object} data\n         * @return {Number}\n         */\n        getCalculatedPosition: function (data) {\n            return (~~this.currentPage() - 1) * this.pageSize + this.elems().pluck('name').indexOf(data.name);\n        },\n\n        /**\n         * Return Page Boundary\n         *\n         * @return {Number}\n         */\n        getDefaultPageBoundary: function () {\n            return ~~this.currentPage() * this.pageSize - 1;\n        },\n\n        /**\n         * Returns position for last element to be moved after\n         *\n         * @return {Number}\n         */\n        getGlobalMaxPosition: function () {\n            return _.max(this.recordData().map(function (r) {\n                return ~~r.position;\n            }));\n        }\n    });\n});\n","Magento_InventoryGroupedProductAdminUi/js/form/element/quantity-per-source.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'mage/translate',\n    'Magento_Ui/js/form/element/abstract'\n], function ($t, Abstract) {\n    'use strict';\n\n    return Abstract.extend({\n        defaults: {\n            elementTmpl: 'Magento_InventoryGroupedProductAdminUi/dynamic-rows/cells/cell-source',\n            itemsToDisplay: 3,\n            isFullList: true,\n            showFullListDescription: $t('Show more...'),\n            listens: {\n                value: 'updateItems'\n            }\n        },\n\n        /**\n         * Observe elements.\n         *\n         * @returns {exports}\n         */\n        initObservable: function () {\n            this._super()\n                .observe(['items', 'isFullList']);\n\n            return this;\n        },\n\n        /**\n         * Prepare data to use.\n         *\n         * @param {Object} data\n         * @private\n         */\n        updateItems: function (data) {\n            this.isFullList(data.length > this.itemsToDisplay);\n            this.isFullList() ? this.items(data.slice(0, this.itemsToDisplay)) : this.items(data);\n        }\n    });\n});\n","Magento_InventoryGroupedProductAdminUi/js/form/element/grid-column-quantity-per-source.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'mage/translate',\n    'Magento_Ui/js/grid/columns/column'\n], function ($t, Column) {\n    'use strict';\n\n    return Column.extend({\n        defaults: {\n            bodyTmpl: 'Magento_InventoryGroupedProductAdminUi/grid/column/quantity-per-source',\n            itemsToDisplay: 3,\n            showFullListDescription: $t('Show more...')\n        },\n\n        /**\n         * Get source items from product data.\n         *\n         * @param {Object} rowData\n         * @returns {Array}\n         */\n        getSourceItemsData: function (rowData) {\n            return rowData['quantity_per_source'];\n        }\n    });\n});\n","PayPal_Braintree/js/braintree.js":"/**\n * Copyright \u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine([\n    'jquery',\n    'uiComponent',\n    'Magento_Ui/js/modal/alert',\n    'Magento_Ui/js/lib/view/utils/dom-observer',\n    'mage/translate',\n    'PayPal_Braintree/js/validator',\n    'braintree',\n    'braintreeHostedFields'\n], function ($, Class, alert, domObserver, $t, validator, client, hostedFields) {\n    'use strict';\n\n    return Class.extend({\n\n        defaults: {\n            $selector: null,\n            selector: 'edit_form',\n            container: 'payment_form_braintree',\n            active: false,\n            scriptLoaded: false,\n            braintree: null,\n            selectedCardType: null,\n            imports: {\n                onActiveChange: 'active'\n            },\n            hostedFieldsInstance: null\n        },\n\n        /**\n         * Set list of observable attributes\n         * @returns {exports.initObservable}\n         */\n        initObservable: function () {\n            var self = this;\n\n            validator.setConfig(this);\n\n            self.$selector = $('#' + self.selector);\n            this._super()\n                .observe([\n                    'active',\n                    'scriptLoaded',\n                    'selectedCardType'\n                ]);\n\n            // re-init payment method events\n            self.$selector.off('changePaymentMethod.' + this.code)\n                .on('changePaymentMethod.' + this.code, this.changePaymentMethod.bind(this));\n\n            // listen block changes\n            domObserver.get('#' + self.container, function () {\n                if (self.scriptLoaded()) {\n                    self.$selector.off('submit');\n                    self.initBraintree();\n                }\n            });\n\n            return this;\n        },\n\n        /**\n         * Enable/disable current payment method\n         * @param {Object} event\n         * @param {String} method\n         * @returns {exports.changePaymentMethod}\n         */\n        changePaymentMethod: function (event, method) {\n            this.active(method === this.code);\n            return this;\n        },\n\n        /**\n         * Triggered when payment changed\n         * @param {Boolean} isActive\n         */\n        onActiveChange: function (isActive) {\n            if (!isActive) {\n                this.$selector.off('submitOrder.braintree');\n                this.scriptLoaded(false);\n                this.$selector.on('submitOrder', function () {\n                    $('#payment_form_braintree').find('[type=\"submit\"]').trigger('click');\n                    $('#edit_form').trigger('realOrder');\n                })\n\n                return;\n            }\n            this.disableEventListeners();\n\n            if (typeof window.order !== 'undefined') {\n                window.order.addExcludedPaymentMethod(this.code);\n            }\n\n            if (!this.clientToken) {\n                this.error($.mage.__('This payment is not available'));\n\n                return;\n            }\n\n            this.enableEventListeners();\n\n            if (!this.scriptLoaded()) {\n                this.initBraintree();\n            }\n        },\n\n        /**\n         * Setup Braintree SDK\n         */\n        initBraintree: function () {\n            var self = this;\n            this.scriptLoaded(true);\n\n            self.disableEventListeners();\n\n            try {\n                $('body').trigger('processStart');\n\n                client.create({\n                    authorization: self.clientToken\n                }, function (clientErr, clientInstance) {\n                    if (clientErr) {\n                        console.error('Error!', clientErr);\n                        return self.error(response.clientErr);\n                    }\n\n                    hostedFields.create({\n                        client: clientInstance,\n                        fields: self.getHostedFields()\n                    }, function (createErr, hostedFieldsInstance) {\n                        if (createErr) {\n                            self.error($t(createErr));\n                            console.error('Error!', createErr);\n                            return;\n                        }\n\n                        self.hostedFieldsInstance = hostedFieldsInstance;\n                        self.enableEventListeners();\n\n                        $('body').trigger('processStop');\n                    }.bind(this));\n                }.bind(this));\n            } catch (e) {\n                $('body').trigger('processStop');\n                self.error(e.message);\n                console.log(e);\n            }\n        },\n\n        /**\n         * Get hosted fields configuration\n         * @returns {Object}\n         */\n        getHostedFields: function () {\n            var self = this,\n                fields = {\n                    number: {\n                        selector: self.getSelector('cc_number'),\n                        placeholder: $t('4111 1111 1111 1111')\n                    },\n                    expirationMonth: {\n                        selector: self.getSelector('cc_exp_month'),\n                        placeholder: $t('MM')\n                    },\n                    expirationYear: {\n                        selector: self.getSelector('cc_exp_year'),\n                        placeholder: $t('YY')\n                    }\n                };\n\n            if (self.useCvv) {\n                fields.cvv = {\n                    selector: self.getSelector('cc_cid'),\n                    placeholder: $t('123')\n                };\n            }\n\n            return fields;\n        },\n\n        /**\n         * Show alert message\n         * @param {String} message\n         */\n        error: function (message) {\n            alert({\n                content: message\n            });\n        },\n\n        /**\n         * Enable form event listeners\n         */\n        enableEventListeners: function () {\n            this.$selector.on('submitOrder.braintree', this.submitOrder.bind(this));\n        },\n\n        /**\n         * Disable form event listeners\n         */\n        disableEventListeners: function () {\n            this.$selector.off('submitOrder');\n            this.$selector.off('submit');\n        },\n\n        /**\n         * Store payment details\n         * @param {String} nonce\n         */\n        setPaymentDetails: function (nonce) {\n            var $container = $('#' + this.container);\n\n            $container.find('[name=\"payment[payment_method_nonce]\"]').val(nonce);\n        },\n\n        /**\n         * Trigger order submit\n         */\n        submitOrder: function () {\n            this.$selector.validate().form();\n            this.$selector.trigger('afterValidate.beforeSubmit');\n            $('body').trigger('processStop');\n\n            // validate parent form\n            if (this.$selector.validate().errorList.length) {\n                return false;\n            }\n\n            $('body').trigger('processStart');\n            this.tokenizeHostedFields();\n        },\n\n        /**\n         * Place order\n         */\n        placeOrder: function () {\n            $('#' + this.selector).trigger('realOrder');\n        },\n\n        /**\n         * Get list of currently available card types\n         * @returns {Array}\n         */\n        getCcAvailableTypes: function () {\n            var types = [],\n                $options = $(this.getSelector('cc_type')).find('option');\n\n            $.map($options, function (option) {\n                types.push($(option).val());\n            });\n\n            return types;\n        },\n\n        /**\n         * Get jQuery selector\n         * @param {String} field\n         * @returns {String}\n         */\n        getSelector: function (field) {\n            return '#' + this.code + '_' + field;\n        },\n\n        tokenizeHostedFields: function () {\n            this.hostedFieldsInstance.tokenize({\n                vault: false // vault or no?\n            }, function (tokenizeErr, payload) {\n                if (tokenizeErr) {\n                    $('body').trigger('processStop');\n                    switch (tokenizeErr.code) {\n                        case 'HOSTED_FIELDS_FIELDS_EMPTY':\n                            // occurs when none of the fields are filled in\n                            this.error($t('Please enter a card number, expiration date and CVV'));\n                            break;\n                        case 'HOSTED_FIELDS_FIELDS_INVALID':\n                            // occurs when certain fields do not pass client side validation\n                            this.error($t('Please correct the problems with the Credit Card fields.'));\n                            console.error('Some fields are invalid:', tokenizeErr.details.invalidFieldKeys);\n                            break;\n                        case 'HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE':\n                            // occurs when:\n                            //   * the client token used for client authorization was generated\n                            //     with a customer ID and the fail on duplicate payment method\n                            //     option is set to true\n                            //   * the card being tokenized has previously been vaulted (with any customer)\n                            // See: https://developers.braintreepayments.com/reference/request/client-token/generate/#options.fail_on_duplicate_payment_method\n                            this.error($t('The payment method used, already exists in the user\\'s vault. Please use the vault option instead.'));\n                            break;\n                        case 'HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED':\n                            // occurs when:\n                            //   * the client token used for client authorization was generated\n                            //     with a customer ID and the verify card option is set to true\n                            //     and you have credit card verification turned on in the Braintree\n                            //     control panel\n                            //   * the cvv does not pass verfication (https://developers.braintreepayments.com/reference/general/testing/#avs-and-cvv/cid-responses)\n                            // See: https://developers.braintreepayments.com/reference/request/client-token/generate/#options.verify_card\n                            this.error($t('CVV did not pass verification'));\n                            break;\n                        case 'HOSTED_FIELDS_FAILED_TOKENIZATION':\n                            // occurs for any other tokenization error on the server\n                            this.error($t('There was an issue tokenizing the card. Please check the card is valid.'));\n                            console.error('Tokenization failed server side. Is the card valid?');\n                            break;\n                        case 'HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR':\n                            // occurs when the Braintree gateway cannot be contacted\n                            this.error($t('There was an error connecting to Braintree. Please try again.'));\n                            break;\n                        default:\n                            this.error($t('There was an issue processing the payment. Please try again.'));\n                            console.error('Braintree error', tokenizeErr);\n                            break;\n                    }\n                } else {\n                    this.setPaymentDetails(payload.nonce);\n                    $('#' + this.container).find('[type=\"submit\"]').trigger('click');\n                }\n            }.bind(this));\n        }\n    });\n});\n","PayPal_Braintree/js/system.js":"require(['jquery', 'Magento_Ui/js/modal/alert', 'mage/translate'], function ($, alert, $t) {\n    window.braintreeValidator = function (endpoint, env_id) {\n        env_id = $('[data-ui-id=\"' + env_id + '\"]').val();\n\n        var merch_id = '', public_id = '', private_id = '';\n\n        if (env_id === 'sandbox') {\n            merch_id = $('[data-ui-id=\"text-groups-braintree-section-groups-braintree-groups-braintree-required-fields-sandbox-merchant-id-value\"]').val();\n            public_id = $('[data-ui-id=\"password-groups-braintree-section-groups-braintree-groups-braintree-required-fields-sandbox-public-key-value\"]').val();\n            private_id = $('[data-ui-id=\"password-groups-braintree-section-groups-braintree-groups-braintree-required-fields-sandbox-private-key-value\"]').val();\n        } else {\n            merch_id = $('[data-ui-id=\"text-groups-braintree-section-groups-braintree-groups-braintree-required-fields-merchant-id-value\"]').val();\n            public_id = $('[data-ui-id=\"password-groups-braintree-section-groups-braintree-groups-braintree-required-fields-public-key-value\"]').val();\n            private_id = $('[data-ui-id=\"password-groups-braintree-section-groups-braintree-groups-braintree-required-fields-private-key-value\"]').val();\n        }\n\n        /* Remove previous success message if present */\n        if ($(\".braintree-credentials-success-message\")) {\n            $(\".braintree-credentials-success-message\").remove();\n        }\n\n        /* Basic field validation */\n        var errors = [];\n\n        if (!env_id || env_id !== 'sandbox' && env_id !== 'production') {\n            errors.push($t(\"Please select an Environment\"));\n        }\n\n        if (!merch_id) {\n            errors.push($t(\"Please enter a Merchant ID\"));\n        }\n\n        if (!public_id) {\n            errors.push($t('Please enter a Public Key'));\n        }\n\n        if (!private_id) {\n            errors.push($t('Please enter a Private Key'));\n        }\n\n        if (errors.length > 0) {\n            alert({\n                title: $t('Braintree Credential Validation Failed'),\n                content:  errors.join('<br />')\n            });\n            return false;\n        }\n\n        $(this).text($t(\"We're validating your credentials...\")).attr('disabled', true);\n\n        var self = this;\n        $.post(endpoint, {\n            environment: env_id,\n            merchant_id: merch_id,\n            public_key: public_id,\n            private_key: private_id\n        }).done(function () {\n            $('<div class=\"message message-success braintree-credentials-success-message\">' + $t(\"Your credentials are valid.\") + '</div>').insertAfter(self);\n        }).fail(function () {\n            alert({\n                title: $t('Braintree Credential Validation Failed'),\n                content: $t('Your Braintree Credentials could not be validated. Please ensure you have selected the correct environment and entered a valid Merchant ID, Public Key and Private Key.')\n            });\n        }).always(function () {\n            $(self).text($t(\"Validate Credentials\")).attr('disabled', false);\n        });\n    }\n});","PayPal_Braintree/js/vault.js":"/**\n * Copyright \u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine([\n    'jquery',\n    'uiComponent',\n    'Magento_Ui/js/modal/alert'\n], function ($, Class, alert) {\n    'use strict';\n\n    return Class.extend({\n        defaults: {\n            $selector: null,\n            selector: 'edit_form',\n            $container: null\n        },\n\n        /**\n         * Set list of observable attributes\n         * @returns {exports.initObservable}\n         */\n        initObservable: function () {\n            var self = this;\n\n            self.$selector = $('#' + self.selector);\n            self.$container =  $('#' + self.container);\n            self.$selector.on(\n                'setVaultNotActive.' + self.getCode(),\n                function () {\n                    self.$selector.off('submitOrder.' + self.getCode());\n                }\n            );\n            self._super();\n\n            self.initEventHandlers();\n\n            return self;\n        },\n\n        /**\n         * Get payment code\n         * @returns {String}\n         */\n        getCode: function () {\n            return this.code;\n        },\n\n        /**\n         * Init event handlers\n         */\n        initEventHandlers: function () {\n            $(this.$container).find('[name=\"payment[token_switcher]\"]')\n                .on('click', this.selectPaymentMethod.bind(this));\n        },\n\n        /**\n         * Select current payment token\n         */\n        selectPaymentMethod: function () {\n            this.disableEventListeners();\n            this.enableEventListeners();\n        },\n\n        /**\n         * Enable form event listeners\n         */\n        enableEventListeners: function () {\n            this.$selector.on('submitOrder.' + this.getCode(), this.submitOrder.bind(this));\n        },\n\n        /**\n         * Disable form event listeners\n         */\n        disableEventListeners: function () {\n            this.$selector.off('submitOrder');\n        },\n\n        /**\n         * Pre submit for order\n         * @returns {Boolean}\n         */\n        submitOrder: function () {\n            this.$selector.validate().form();\n            this.$selector.trigger('afterValidate.beforeSubmit');\n            $('body').trigger('processStop');\n\n            // validate parent form\n            if (this.$selector.validate().errorList.length) {\n                return false;\n            }\n            this.getPaymentMethodNonce();\n        },\n\n        /**\n         * Place order\n         */\n        placeOrder: function () {\n            this.$selector.trigger('realOrder');\n        },\n\n        /**\n         * Send request to get payment method nonce\n         */\n        getPaymentMethodNonce: function () {\n            var self = this;\n\n            $('body').trigger('processStart');\n\n            $.getJSON(self.nonceUrl, {\n                'public_hash': self.publicHash\n            }).done(function (response) {\n                self.setPaymentDetails(response.paymentMethodNonce);\n                self.placeOrder();\n            }).fail(function (response) {\n                var failed = JSON.parse(response.responseText);\n\n                self.error(failed.message);\n            }).always(function () {\n                $('body').trigger('processStop');\n            });\n        },\n\n        /**\n         * Store payment details\n         * @param {String} nonce\n         */\n        setPaymentDetails: function (nonce) {\n            this.createPublicHashSelector();\n\n            this.$selector.find('[name=\"payment[public_hash]\"]').val(this.publicHash);\n            this.$selector.find('[name=\"payment[payment_method_nonce]\"]').val(nonce).prop('disabled', false);\n        },\n\n        /**\n         * Creates public hash selector\n         */\n        createPublicHashSelector: function () {\n            var $input;\n\n            if (this.$selector.find('[name=\"payment[payment_method_nonce]\"]').size() === 0) {\n                $input = $('<input>').attr(\n                    {\n                        type: 'hidden',\n                        id: this.getNonceSelectorName(),\n                        name: 'payment[payment_method_nonce]'\n                    }\n                );\n\n                $input.appendTo(this.$selector);\n                $input.prop('disabled', false);\n            }\n        },\n\n        /**\n         * Show alert message\n         * @param {String} message\n         */\n        error: function (message) {\n            alert({\n                content: message\n            });\n        },\n\n        /**\n         * Get selector name for nonce input\n         * @returns {String}\n         */\n        getNonceSelectorName: function () {\n            return 'nonce_' + this.getCode();\n        }\n    });\n});\n","PayPal_Braintree/js/virtual.js":"/**\n * Copyright \u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine([\n    'jquery',\n    'uiComponent',\n    'Magento_Ui/js/modal/alert',\n    'Magento_Ui/js/lib/view/utils/dom-observer',\n    'mage/translate',\n    'PayPal_Braintree/js/validator',\n    'braintree',\n    'braintreeHostedFields'\n], function ($, Class, alert, domObserver, $t, validator, client, hostedFields) {\n    'use strict';\n\n    return Class.extend({\n\n        defaults: {\n            $container: null,\n            container: 'payment_form_braintree',\n            braintree: null,\n            selectedCardType: null,\n            hostedFieldsInstance: null\n        },\n\n        /**\n         * Set list of observable attributes\n         * @returns {exports.initObservable}\n         */\n        initObservable: function () {\n            var self = this;\n\n            validator.setConfig(this);\n\n            self.$container = $('#' + self.container);\n            this._super()\n                .observe([\n                    'selectedCardType'\n                ]);\n\n            domObserver.get('#' + self.container, function () {\n                self.initBraintree();\n            });\n\n            return this;\n        },\n\n        /**\n         * Setup Braintree SDK\n         */\n        initBraintree: function () {\n            var self = this;\n\n            try {\n                $('body').trigger('processStart');\n\n                client.create({\n                    authorization: self.clientToken\n                }, function (clientErr, clientInstance) {\n                    if (clientErr) {\n                        alert({\n                            content: $t('Please configure your Braintree Payments account in order to use the virtual terminal.')\n                        });\n                        console.error('Error!', clientErr);\n                        return self.error(response.clientErr);\n                    }\n\n                    hostedFields.create({\n                        client: clientInstance,\n                        fields: self.getHostedFields()\n                    }, function (createErr, hostedFieldsInstance) {\n                        if (createErr) {\n                            self.error($t(createErr));\n                            console.error('Error!', createErr);\n                            return;\n                        }\n\n                        self.hostedFieldsInstance = hostedFieldsInstance;\n                        self.$container.on('takePayment', self.submitOrder.bind(self));\n\n                        $('body').trigger('processStop');\n                    }.bind(this));\n                }.bind(this));\n            } catch (e) {\n                $('body').trigger('processStop');\n                self.error(e.message);\n                console.log(e);\n            }\n        },\n\n        /**\n         * Get hosted fields configuration\n         * @returns {Object}\n         */\n        getHostedFields: function () {\n            return {\n                number: {\n                    selector: this.getSelector('cc_number'),\n                    placeholder: $t('4111 1111 1111 1111')\n                },\n                expirationMonth: {\n                    selector: this.getSelector('cc_exp_month'),\n                    placeholder: $t('MM')\n                },\n                expirationYear: {\n                    selector: this.getSelector('cc_exp_year'),\n                    placeholder: $t('YY')\n                },\n                cvv: {\n                    selector: this.getSelector('cc_cid'),\n                    placeholder: $t('123')\n                }\n            };\n        },\n\n        /**\n         * Show alert message\n         * @param {String} message\n         */\n        error: function (message) {\n            alert({\n                content: message\n            });\n        },\n\n        /**\n         * Store payment details\n         * @param {String} nonce\n         */\n        setPaymentDetails: function (nonce) {\n            var $container = $('#' + this.container);\n            $container.find('[name=\"payment_method_nonce\"]').val(nonce);\n        },\n\n        /**\n         * Trigger order submit\n         */\n        submitOrder: function (event) {\n            event.preventDefault();\n\n            this.$container.validate().form();\n            this.$container.trigger('afterValidate.beforeSubmit');\n            $('body').trigger('processStop');\n\n            // validate parent form\n            if (this.$container.validate().errorList.length) {\n                return false;\n            }\n\n            $('body').trigger('processStart');\n            this.tokenizeHostedFields();\n        },\n\n        /**\n         * Place order\n         */\n        placeOrder: function () {\n            this.$container.submit();\n        },\n\n        /**\n         * Get list of currently available card types\n         * @returns {Array}\n         */\n        getCcAvailableTypes: function () {\n            var types = [],\n                $options = $(this.getSelector('cc_type')).find('option');\n\n            $.map($options, function (option) {\n                types.push($(option).val());\n            });\n\n            return types;\n        },\n\n        /**\n         * Get jQuery selector\n         * @param {String} field\n         * @returns {String}\n         */\n        getSelector: function (field) {\n            return '#' + this.code + '_' + field;\n        },\n\n        tokenizeHostedFields: function () {\n            this.hostedFieldsInstance.tokenize({\n                vault: false // vault or no?\n            }, function (tokenizeErr, payload) {\n                if (tokenizeErr) {\n                    $('body').trigger('processStop');\n                    switch (tokenizeErr.code) {\n                        case 'HOSTED_FIELDS_FIELDS_EMPTY':\n                            // occurs when none of the fields are filled in\n                            this.error($t('Please enter a card number, expiration date and CVV'));\n                            break;\n                        case 'HOSTED_FIELDS_FIELDS_INVALID':\n                            // occurs when certain fields do not pass client side validation\n                            this.error($t('Please correct the problems with the Credit Card fields.'));\n                            console.error('Some fields are invalid:', tokenizeErr.details.invalidFieldKeys);\n                            break;\n                        case 'HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE':\n                            // occurs when:\n                            //   * the client token used for client authorization was generated\n                            //     with a customer ID and the fail on duplicate payment method\n                            //     option is set to true\n                            //   * the card being tokenized has previously been vaulted (with any customer)\n                            // See: https://developers.braintreepayments.com/reference/request/client-token/generate/#options.fail_on_duplicate_payment_method\n                            this.error($t('The payment method used, already exists in the user\\'s vault. Please use the vault option instead.'));\n                            break;\n                        case 'HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED':\n                            // occurs when:\n                            //   * the client token used for client authorization was generated\n                            //     with a customer ID and the verify card option is set to true\n                            //     and you have credit card verification turned on in the Braintree\n                            //     control panel\n                            //   * the cvv does not pass verfication (https://developers.braintreepayments.com/reference/general/testing/#avs-and-cvv/cid-responses)\n                            // See: https://developers.braintreepayments.com/reference/request/client-token/generate/#options.verify_card\n                            this.error($t('CVV did not pass verification'));\n                            break;\n                        case 'HOSTED_FIELDS_FAILED_TOKENIZATION':\n                            // occurs for any other tokenization error on the server\n                            this.error($t('There was an issue tokenizing the card. Please check the card is valid.'));\n                            console.error('Tokenization failed server side. Is the card valid?');\n                            break;\n                        case 'HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR':\n                            // occurs when the Braintree gateway cannot be contacted\n                            this.error($t('There was an error connecting to Braintree. Please try again.'));\n                            break;\n                        default:\n                            this.error($t('There was an issue processing the payment. Please try again.'));\n                            console.error('Braintree error', tokenizeErr);\n                            break;\n                    }\n                } else {\n                    this.setPaymentDetails(payload.nonce);\n                    this.placeOrder();\n                }\n            }.bind(this));\n        }\n    });\n});\n","PayPal_Braintree/js/validator.js":"/**\n * Copyright \u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*browser:true*/\n/*global define*/\ndefine([\n    'underscore'\n], function (_) {\n    'use strict';\n\n    return {\n        config: {},\n\n        /**\n         * Set configuration\n         * @param {Object} config\n         */\n        setConfig: function (config) {\n            this.config = config;\n        },\n\n        /**\n         * Get List of available card types\n         * @returns {*|exports.defaults.availableCardTypes|{}}\n         */\n        getAvailableCardTypes: function () {\n            return this.config.availableCardTypes;\n        },\n\n        /**\n         * Get list of card types\n         * @returns {Object}\n         */\n        getCcTypesMapper: function () {\n            return this.config.ccTypesMapper;\n        },\n\n        /**\n         * Find mage card type by Braintree type\n         * @param {String} type\n         * @param {Object} availableTypes\n         * @returns {*}\n         */\n        getMageCardType: function (type, availableTypes) {\n            var storedCardType = null,\n                mapper = this.getCcTypesMapper();\n\n            if (type && typeof mapper[type] !== 'undefined') {\n                storedCardType = mapper[type];\n\n                if (_.indexOf(availableTypes, storedCardType) !== -1) {\n                    return storedCardType;\n                }\n            }\n\n            return null;\n        },\n\n        /**\n         * Filter list of available card types\n         * @param {Object} availableTypes\n         * @param {Object} countrySpecificCardTypes\n         * @returns {Object}\n         */\n        collectTypes: function (availableTypes, countrySpecificCardTypes) {\n            var key,\n                filteredTypes = [];\n\n            for (key in availableTypes) {\n                if (_.indexOf(countrySpecificCardTypes, availableTypes[key]) !== -1) {\n                    filteredTypes.push(availableTypes[key]);\n                }\n            }\n\n            return filteredTypes;\n        },\n\n        /**\n         * Get list of card types for country\n         * @param {String} countryId\n         * @returns {*}\n         */\n        getCountrySpecificCardTypes: function (countryId) {\n            if (typeof this.config.countrySpecificCardTypes[countryId] !== 'undefined') {\n                return this.config.countrySpecificCardTypes[countryId];\n            }\n\n            return false;\n        }\n    };\n});\n","PayPal_Braintree/js/grid/provider.js":"/**\n * Copyright \u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'underscore',\n    'Magento_Ui/js/grid/provider'\n], function (_, Provider) {\n    'use strict';\n\n    return Provider.extend({\n\n        /**\n         * Reload grid\n         * @returns {exports}\n         */\n        reload: function () {\n            if (this.hasFilters()) {\n                this._super();\n\n                return this;\n            }\n\n            this.trigger('reload');\n\n            this.onReload({\n                items: [],\n                totalRecords: 0\n            });\n\n            return this;\n        },\n\n        /**\n         * Has filters checker\n         * @returns {Boolean}\n         */\n        hasFilters: function () {\n            var params = this.params,\n                filters = params.filters || {};\n\n            return _.keys(filters).length > 1;\n        }\n    });\n});\n","Magezon_PageBuilderPageableContainer/js/builder/element/pageable_container.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl, $timeout) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getViewFileUrl('Magezon_PageBuilderPageableContainer/js/templates/builder/element/pageable_container.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\n\t\t\t\tvar parent = $controller('listController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t\tvar self = this;\n\n\t\t\t\t$scope.element.builder.dndDisabled = true;\n\n\t\t\t\tangular.forEach($scope.element.elements, function(element, index) {\n\t\t\t\t\tif (index == 0) {\n\t\t\t\t\t\telement.builder.visible = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.builder.visible = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$scope.$on('afterAddElement', function(e, elem) {\n\t\t\t\t\t$scope.activeEventElement(elem);\n\t\t\t\t});\n\n\t\t\t\t$scope.$on('afterCloneElement', function(e, elem) {\n\t\t\t\t\tif ($scope.isChildren(elem)) {\n\t\t\t\t\t\t$scope.activeEventElement(elem);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$scope.$on('afterDropElement', function(e, elem) {\n\t\t\t\t\tif ($scope.isChildren(elem)) {\n\t\t\t\t\t\t$scope.activeEventElement(elem);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$scope.activeEventElement = function(elem) {\n\t\t\t\t\tif ($scope.isChildren(elem)) {\n\t\t\t\t\t\t$scope.activeElement(elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$scope.$on('beforeRemoveElement', function(e, elem) {\n\t\t\t\t\tif ($scope.isChildren(elem)) {\n\t\t\t\t\t\tvar index = $scope.getElemIndex(elem);\n\t\t\t\t\t\tvar elem2 = $scope.element.elements[index+1] ? $scope.element.elements[index+1] : 0;\n\t\t\t\t\t\tif(elem2) $scope.activeElement(elem2);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$scope.activeElement = function(element) {\n\t\t\t\t\tif (!element) return;\n\t\t\t\t\telement.builder.additionalClasses.push('mgz-tabs-tab-content');\n\t\t\t\t\tangular.forEach($scope.element.elements, function(el, index) {\n\t\t\t\t\t\tif (el !== element) {\n\t\t\t\t\t\t\tel.builder.visible = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\telement.builder.visible = true;\n\t\t\t\t\telement.builder.additionalClasses.push('mgz-active');\n\t\t\t\t}\n\n\t\t\t\t$scope.activeFirstElement = function() {\n\t\t\t\t\tvar active = true;\n\t\t\t\t\tangular.forEach($scope.element.elements, function(element) {\n\t\t\t\t\t\tif (!element.builder.visible) {\n\t\t\t\t\t\t\tactive = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (!active) {\n\t\t\t\t\t\t$scope.activeElement($scope.element.elements[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$scope.activeFirstElement();\n\n\t\t\t\t$scope.getClassess = function() {\n\t\t\t\t\tvar _elem = $scope.element;\n\t\t\t\t\tvar clasess = [];\n\t\t\t\t\tclasess.push('mgz-tabs mgz-pageable-container');\n\t\t\t\t\tclasess.push('mgz-tabs-' + _elem.id);\n\t\t\t\t\t\n\t\t\t\t\tif (_elem.owl_dots_insie) {\n\t\t            \tclasess.push('mgz-carousel-dot-inside');\n\t\t            }\n\t\t\t\t\treturn clasess;\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn directive;\n});","Smartwave_Dailydeals/js/script.js":"require([\r\n    'jquery',\r\n    'jquery_chosen'\r\n], function ($) {\r\n    'use strict';\r\n\r\n    $(document).ready(function(){\r\n    \tsetTimeout(function(){\r\n    \t\t$(\"#dailydeal_sw_product_sku\").chosen();\r\n    \t},1000);\r\n    });\r\n\r\n});","Smartwave_Dailydeals/js/chosen.jquery.min.js":"/* Chosen v1.8.7 | (c) 2011-2018 by Harvest | MIT License, https://github.com/harvesthq/chosen/blob/master/LICENSE.md */\n\n(function(){var t,e,s,i,n=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function s(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},o={}.hasOwnProperty;(i=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return\"OPTGROUP\"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,s,i,n,r,o;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),o=[],s=0,i=(r=t.childNodes).length;s<i;s++)n=r[s],o.push(this.add_option(n,e,t.disabled));return o},t.prototype.add_option=function(t,e,s){if(\"OPTION\"===t.nodeName.toUpperCase())return\"\"!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,title:t.title?t.title:void 0,selected:t.selected,disabled:!0===s?s:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},t}()).select_to_array=function(t){var e,s,n,r,o;for(r=new i,s=0,n=(o=t.childNodes).length;s<n;s++)e=o[s],r.add_node(e);return r.parsed},e=function(){function t(e,s){this.form_field=e,this.options=null!=s?s:{},this.label_click_handler=n(this.label_click_handler,this),t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return t.prototype.set_default_values=function(){return this.click_test_action=function(t){return function(e){return t.test_active_click(e)}}(this),this.activate_action=function(t){return function(e){return t.activate_field(e)}}(this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.is_rtl=this.options.rtl||/\\bchosen-rtl\\b/.test(this.form_field.className),this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&\"\"===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||Infinity,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1,this.hide_results_on_select=null==this.options.hide_results_on_select||this.options.hide_results_on_select},t.prototype.set_default_text=function(){return this.form_field.getAttribute(\"data-placeholder\")?this.default_text=this.form_field.getAttribute(\"data-placeholder\"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.default_text=this.escape_html(this.default_text),this.results_none_found=this.form_field.getAttribute(\"data-no_results_text\")||this.options.no_results_text||t.default_no_result_text},t.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?\"<b class='group-name'>\"+this.escape_html(t.group_label)+\"</b>\"+t.html:t.html},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(t){if(this.is_multiple){if(!this.active_field)return setTimeout(function(t){return function(){return t.container_mousedown()}}(this),50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(t){if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(t){return function(){return t.blur_test()}}(this),100)},t.prototype.label_click_handler=function(t){return this.is_multiple?this.container_mousedown(t):this.activate_field()},t.prototype.results_option_build=function(t){var e,s,i,n,r,o,h;for(e=\"\",h=0,n=0,r=(o=this.results_data).length;n<r&&(s=o[n],i=\"\",\"\"!==(i=s.group?this.result_add_group(s):this.result_add_option(s))&&(h++,e+=i),(null!=t?t.first:void 0)&&(s.selected&&this.is_multiple?this.choice_build(s):s.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(s))),!(h>=this.max_shown_results));n++);return e},t.prototype.result_add_option=function(t){var e,s;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push(\"active-result\"),!t.disabled||t.selected&&this.is_multiple||e.push(\"disabled-result\"),t.selected&&e.push(\"result-selected\"),null!=t.group_array_index&&e.push(\"group-option\"),\"\"!==t.classes&&e.push(t.classes),s=document.createElement(\"li\"),s.className=e.join(\" \"),t.style&&(s.style.cssText=t.style),s.setAttribute(\"data-option-array-index\",t.array_index),s.innerHTML=t.highlighted_html||t.html,t.title&&(s.title=t.title),this.outerHTML(s)):\"\"},t.prototype.result_add_group=function(t){var e,s;return(t.search_match||t.group_match)&&t.active_options>0?((e=[]).push(\"group-result\"),t.classes&&e.push(t.classes),s=document.createElement(\"li\"),s.className=e.join(\" \"),s.innerHTML=t.highlighted_html||this.escape_html(t.label),t.title&&(s.title=t.title),this.outerHTML(s)):\"\"},t.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},t.prototype.reset_single_select_options=function(){var t,e,s,i,n;for(n=[],t=0,e=(s=this.results_data).length;t<e;t++)(i=s[t]).selected?n.push(i.selected=!1):n.push(void 0);return n},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(t){var e,s,i,n,r,o,h,l,c,_,a,u,d,p,f;for(this.no_results_clear(),_=0,e=(h=this.get_search_text()).replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\"),c=this.get_search_regex(e),i=0,n=(l=this.results_data).length;i<n;i++)(r=l[i]).search_match=!1,a=null,u=null,r.highlighted_html=\"\",this.include_option_in_results(r)&&(r.group&&(r.group_match=!1,r.active_options=0),null!=r.group_array_index&&this.results_data[r.group_array_index]&&(0===(a=this.results_data[r.group_array_index]).active_options&&a.search_match&&(_+=1),a.active_options+=1),f=r.group?r.label:r.text,r.group&&!this.group_search||(u=this.search_string_match(f,c),r.search_match=null!=u,r.search_match&&!r.group&&(_+=1),r.search_match?(h.length&&(d=u.index,o=f.slice(0,d),s=f.slice(d,d+h.length),p=f.slice(d+h.length),r.highlighted_html=this.escape_html(o)+\"<em>\"+this.escape_html(s)+\"</em>\"+this.escape_html(p)),null!=a&&(a.group_match=!0)):null!=r.group_array_index&&this.results_data[r.group_array_index].search_match&&(r.search_match=!0)));return this.result_clear_highlight(),_<1&&h.length?(this.update_results_content(\"\"),this.no_results(h)):(this.update_results_content(this.results_option_build()),(null!=t?t.skip_highlight:void 0)?void 0:this.winnow_results_set_highlight())},t.prototype.get_search_regex=function(t){var e,s;return s=this.search_contains?t:\"(^|\\\\s|\\\\b)\"+t+\"[^\\\\s]*\",this.enable_split_word_search||this.search_contains||(s=\"^\"+s),e=this.case_sensitive_search?\"\":\"i\",new RegExp(s,e)},t.prototype.search_string_match=function(t,e){var s;return s=e.exec(t),!this.search_contains&&(null!=s?s[1]:void 0)&&(s.index+=1),s},t.prototype.choices_count=function(){var t,e,s;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,t=0,e=(s=this.form_field.options).length;t<e;t++)s[t].selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){if(t.preventDefault(),this.activate_field(),!this.results_showing&&!this.is_disabled)return this.results_show()},t.prototype.keydown_checker=function(t){var e,s;switch(s=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),8!==s&&this.pending_backstroke&&this.clear_backstroke(),s){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:case 27:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},t.prototype.keyup_checker=function(t){var e,s;switch(s=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),s){case 8:this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:t.preventDefault(),this.results_showing&&this.result_select(t);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}},t.prototype.clipboard_event_checker=function(t){if(!this.is_disabled)return setTimeout(function(t){return function(){return t.results_search()}}(this),50)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+\"px\"},t.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected)&&(!(!this.display_disabled_options&&t.disabled)&&!t.empty)},t.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},t.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},t.prototype.search_results_touchend=function(t){if(this.touch_started)return this.search_results_mouseup(t)},t.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:((e=document.createElement(\"div\")).appendChild(t),e.innerHTML)},t.prototype.get_single_html=function(){return'<a class=\"chosen-single chosen-default\">\\n  <span>'+this.default_text+'</span>\\n  <div><b></b></div>\\n</a>\\n<div class=\"chosen-drop\">\\n  <div class=\"chosen-search\">\\n    <input class=\"chosen-search-input\" type=\"text\" autocomplete=\"off\" />\\n  </div>\\n  <ul class=\"chosen-results\"></ul>\\n</div>'},t.prototype.get_multi_html=function(){return'<ul class=\"chosen-choices\">\\n  <li class=\"search-field\">\\n    <input class=\"chosen-search-input\" type=\"text\" autocomplete=\"off\" value=\"'+this.default_text+'\" />\\n  </li>\\n</ul>\\n<div class=\"chosen-drop\">\\n  <ul class=\"chosen-results\"></ul>\\n</div>'},t.prototype.get_no_results_html=function(t){return'<li class=\"no-results\">\\n  '+this.results_none_found+\" <span>\"+this.escape_html(t)+\"</span>\\n</li>\"},t.browser_is_supported=function(){return\"Microsoft Internet Explorer\"===window.navigator.appName?document.documentMode>=8:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},t.default_multiple_text=\"Select Some Options\",t.default_single_text=\"Select an Option\",t.default_no_result_text=\"No results match\",t}(),(t=jQuery).fn.extend({chosen:function(i){return e.browser_is_supported()?this.each(function(e){var n,r;r=(n=t(this)).data(\"chosen\"),\"destroy\"!==i?r instanceof s||n.data(\"chosen\",new s(this,i)):r instanceof s&&r.destroy()}):this}}),s=function(s){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,e),n.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex},n.prototype.set_up_html=function(){var e,s;return(e=[\"chosen-container\"]).push(\"chosen-container-\"+(this.is_multiple?\"multi\":\"single\")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push(\"chosen-rtl\"),s={\"class\":e.join(\" \"),title:this.form_field.title},this.form_field.id.length&&(s.id=this.form_field.id.replace(/[^\\w]/g,\"_\")+\"_chosen\"),this.container=t(\"<div />\",s),this.container.width(this.container_width()),this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html()),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find(\"div.chosen-drop\").first(),this.search_field=this.container.find(\"input\").first(),this.search_results=this.container.find(\"ul.chosen-results\").first(),this.search_field_scale(),this.search_no_results=this.container.find(\"li.no-results\").first(),this.is_multiple?(this.search_choices=this.container.find(\"ul.chosen-choices\").first(),this.search_container=this.container.find(\"li.search-field\").first()):(this.search_container=this.container.find(\"div.chosen-search\").first(),this.selected_item=this.container.find(\".chosen-single\").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},n.prototype.on_ready=function(){return this.form_field_jq.trigger(\"chosen:ready\",{chosen:this})},n.prototype.register_observers=function(){return this.container.on(\"touchstart.chosen\",function(t){return function(e){t.container_mousedown(e)}}(this)),this.container.on(\"touchend.chosen\",function(t){return function(e){t.container_mouseup(e)}}(this)),this.container.on(\"mousedown.chosen\",function(t){return function(e){t.container_mousedown(e)}}(this)),this.container.on(\"mouseup.chosen\",function(t){return function(e){t.container_mouseup(e)}}(this)),this.container.on(\"mouseenter.chosen\",function(t){return function(e){t.mouse_enter(e)}}(this)),this.container.on(\"mouseleave.chosen\",function(t){return function(e){t.mouse_leave(e)}}(this)),this.search_results.on(\"mouseup.chosen\",function(t){return function(e){t.search_results_mouseup(e)}}(this)),this.search_results.on(\"mouseover.chosen\",function(t){return function(e){t.search_results_mouseover(e)}}(this)),this.search_results.on(\"mouseout.chosen\",function(t){return function(e){t.search_results_mouseout(e)}}(this)),this.search_results.on(\"mousewheel.chosen DOMMouseScroll.chosen\",function(t){return function(e){t.search_results_mousewheel(e)}}(this)),this.search_results.on(\"touchstart.chosen\",function(t){return function(e){t.search_results_touchstart(e)}}(this)),this.search_results.on(\"touchmove.chosen\",function(t){return function(e){t.search_results_touchmove(e)}}(this)),this.search_results.on(\"touchend.chosen\",function(t){return function(e){t.search_results_touchend(e)}}(this)),this.form_field_jq.on(\"chosen:updated.chosen\",function(t){return function(e){t.results_update_field(e)}}(this)),this.form_field_jq.on(\"chosen:activate.chosen\",function(t){return function(e){t.activate_field(e)}}(this)),this.form_field_jq.on(\"chosen:open.chosen\",function(t){return function(e){t.container_mousedown(e)}}(this)),this.form_field_jq.on(\"chosen:close.chosen\",function(t){return function(e){t.close_field(e)}}(this)),this.search_field.on(\"blur.chosen\",function(t){return function(e){t.input_blur(e)}}(this)),this.search_field.on(\"keyup.chosen\",function(t){return function(e){t.keyup_checker(e)}}(this)),this.search_field.on(\"keydown.chosen\",function(t){return function(e){t.keydown_checker(e)}}(this)),this.search_field.on(\"focus.chosen\",function(t){return function(e){t.input_focus(e)}}(this)),this.search_field.on(\"cut.chosen\",function(t){return function(e){t.clipboard_event_checker(e)}}(this)),this.search_field.on(\"paste.chosen\",function(t){return function(e){t.clipboard_event_checker(e)}}(this)),this.is_multiple?this.search_choices.on(\"click.chosen\",function(t){return function(e){t.choices_click(e)}}(this)):this.container.on(\"click.chosen\",function(t){t.preventDefault()})},n.prototype.destroy=function(){return t(this.container[0].ownerDocument).off(\"click.chosen\",this.click_test_action),this.form_field_label.length>0&&this.form_field_label.off(\"click.chosen\"),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData(\"chosen\"),this.form_field_jq.show()},n.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled||this.form_field_jq.parents(\"fieldset\").is(\":disabled\"),this.container.toggleClass(\"chosen-disabled\",this.is_disabled),this.search_field[0].disabled=this.is_disabled,this.is_multiple||this.selected_item.off(\"focus.chosen\",this.activate_field),this.is_disabled?this.close_field():this.is_multiple?void 0:this.selected_item.on(\"focus.chosen\",this.activate_field)},n.prototype.container_mousedown=function(e){var s;if(!this.is_disabled)return!e||\"mousedown\"!==(s=e.type)&&\"touchstart\"!==s||this.results_showing||e.preventDefault(),null!=e&&t(e.target).hasClass(\"search-choice-close\")?void 0:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents(\"a.chosen-single\").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(\"\"),t(this.container[0].ownerDocument).on(\"click.chosen\",this.click_test_action),this.results_show()),this.activate_field())},n.prototype.container_mouseup=function(t){if(\"ABBR\"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},n.prototype.search_results_mousewheel=function(t){var e;if(t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e)return t.preventDefault(),\"DOMMouseScroll\"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())},n.prototype.blur_test=function(t){if(!this.active_field&&this.container.hasClass(\"chosen-container-active\"))return this.close_field()},n.prototype.close_field=function(){return t(this.container[0].ownerDocument).off(\"click.chosen\",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass(\"chosen-container-active\"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale(),this.search_field.blur()},n.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass(\"chosen-container-active\"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},n.prototype.test_active_click=function(e){var s;return(s=t(e.target).closest(\".chosen-container\")).length&&this.container[0]===s[0]?this.active_field=!0:this.close_field()},n.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=i.select_to_array(this.form_field),this.is_multiple?this.search_choices.find(\"li.search-choice\").remove():(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass(\"chosen-container-single-nosearch\")):(this.search_field[0].readOnly=!1,this.container.removeClass(\"chosen-container-single-nosearch\"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},n.prototype.result_do_highlight=function(t){var e,s,i,n,r;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass(\"highlighted\"),i=parseInt(this.search_results.css(\"maxHeight\"),10),r=this.search_results.scrollTop(),n=i+r,s=this.result_highlight.position().top+this.search_results.scrollTop(),(e=s+this.result_highlight.outerHeight())>=n)return this.search_results.scrollTop(e-i>0?e-i:0);if(s<r)return this.search_results.scrollTop(s)}},n.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass(\"highlighted\"),this.result_highlight=null},n.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger(\"chosen:maxselected\",{chosen:this}),!1):(this.container.addClass(\"chosen-with-drop\"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.get_search_field_value()),this.winnow_results(),this.form_field_jq.trigger(\"chosen:showing_dropdown\",{chosen:this}))},n.prototype.update_results_content=function(t){return this.search_results.html(t)},n.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass(\"chosen-with-drop\"),this.form_field_jq.trigger(\"chosen:hiding_dropdown\",{chosen:this})),this.results_showing=!1},n.prototype.set_tab_index=function(t){var e;if(this.form_field.tabIndex)return e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e},n.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents(\"label\"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t(\"label[for='\"+this.form_field.id+\"']\")),this.form_field_label.length>0)return this.form_field_label.on(\"click.chosen\",this.label_click_handler)},n.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass(\"default\")):(this.search_field.val(\"\"),this.search_field.removeClass(\"default\"))},n.prototype.search_results_mouseup=function(e){var s;if((s=t(e.target).hasClass(\"active-result\")?t(e.target):t(e.target).parents(\".active-result\").first()).length)return this.result_highlight=s,this.result_select(e),this.search_field.focus()},n.prototype.search_results_mouseover=function(e){var s;if(s=t(e.target).hasClass(\"active-result\")?t(e.target):t(e.target).parents(\".active-result\").first())return this.result_do_highlight(s)},n.prototype.search_results_mouseout=function(e){if(t(e.target).hasClass(\"active-result\")||t(e.target).parents(\".active-result\").first())return this.result_clear_highlight()},n.prototype.choice_build=function(e){var s,i;return s=t(\"<li />\",{\"class\":\"search-choice\"}).html(\"<span>\"+this.choice_label(e)+\"</span>\"),e.disabled?s.addClass(\"search-choice-disabled\"):((i=t(\"<a />\",{\"class\":\"search-choice-close\",\"data-option-array-index\":e.array_index})).on(\"click.chosen\",function(t){return function(e){return t.choice_destroy_link_click(e)}}(this)),s.append(i)),this.search_container.before(s)},n.prototype.choice_destroy_link_click=function(e){if(e.preventDefault(),e.stopPropagation(),!this.is_disabled)return this.choice_destroy(t(e.target))},n.prototype.choice_destroy=function(t){if(this.result_deselect(t[0].getAttribute(\"data-option-array-index\")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.get_search_field_value().length<1&&this.results_hide(),t.parents(\"li\").first().remove(),this.search_field_scale()},n.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.trigger_form_field_change(),this.active_field)return this.results_hide()},n.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find(\"abbr\").remove()},n.prototype.result_select=function(t){var e,s;if(this.result_highlight)return e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger(\"chosen:maxselected\",{chosen:this}),!1):(this.is_multiple?e.removeClass(\"active-result\"):this.reset_single_select_options(),e.addClass(\"result-selected\"),s=this.results_data[e[0].getAttribute(\"data-option-array-index\")],s.selected=!0,this.form_field.options[s.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(s):this.single_set_selected_text(this.choice_label(s)),this.is_multiple&&(!this.hide_results_on_select||t.metaKey||t.ctrlKey)?t.metaKey||t.ctrlKey?this.winnow_results({skip_highlight:!0}):(this.search_field.val(\"\"),this.winnow_results()):(this.results_hide(),this.show_search_field_default()),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.trigger_form_field_change({selected:this.form_field.options[s.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,t.preventDefault(),this.search_field_scale())},n.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass(\"chosen-default\"):(this.single_deselect_control_build(),this.selected_item.removeClass(\"chosen-default\")),this.selected_item.find(\"span\").html(t)},n.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.trigger_form_field_change({deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},n.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find(\"abbr\").length||this.selected_item.find(\"span\").first().after('<abbr class=\"search-choice-close\"></abbr>'),this.selected_item.addClass(\"chosen-single-with-deselect\")},n.prototype.get_search_field_value=function(){return this.search_field.val()},n.prototype.get_search_text=function(){return t.trim(this.get_search_field_value())},n.prototype.escape_html=function(e){return t(\"<div/>\").text(e).html()},n.prototype.winnow_results_set_highlight=function(){var t,e;if(e=this.is_multiple?[]:this.search_results.find(\".result-selected.active-result\"),null!=(t=e.length?e.first():this.search_results.find(\".active-result\").first()))return this.result_do_highlight(t)},n.prototype.no_results=function(t){var e;return e=this.get_no_results_html(t),this.search_results.append(e),this.form_field_jq.trigger(\"chosen:no_results\",{chosen:this})},n.prototype.no_results_clear=function(){return this.search_results.find(\".no-results\").remove()},n.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll(\"li.active-result\").first())?this.result_do_highlight(t):void 0:this.results_show()},n.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll(\"li.active-result\")).length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},n.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find(\"a\").first()),this.clear_backstroke()):(t=this.search_container.siblings(\"li.search-choice\").last()).length&&!t.hasClass(\"search-choice-disabled\")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass(\"search-choice-focus\")):void 0},n.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass(\"search-choice-focus\"),this.pending_backstroke=null},n.prototype.search_field_scale=function(){var e,s,i,n,r,o,h;if(this.is_multiple){for(r={position:\"absolute\",left:\"-1000px\",top:\"-1000px\",display:\"none\",whiteSpace:\"pre\"},s=0,i=(o=[\"fontSize\",\"fontStyle\",\"fontWeight\",\"fontFamily\",\"lineHeight\",\"textTransform\",\"letterSpacing\"]).length;s<i;s++)r[n=o[s]]=this.search_field.css(n);return(e=t(\"<div />\").css(r)).text(this.get_search_field_value()),t(\"body\").append(e),h=e.width()+25,e.remove(),this.container.is(\":visible\")&&(h=Math.min(this.container.outerWidth()-10,h)),this.search_field.width(h)}},n.prototype.trigger_form_field_change=function(t){return this.form_field_jq.trigger(\"input\",t),this.form_field_jq.trigger(\"change\",t)},n}()}).call(this);","Magento_Shipping/order/packaging.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine(['prototype'], function () {\n\n    window.Packaging = Class.create();\n    Packaging.prototype = {\n        /**\n         * Initialize object\n         */\n        initialize: function (params) {\n            this.packageIncrement = 0;\n            this.packages = [];\n            this.itemsAll = [];\n            this.createLabelUrl = params.createLabelUrl ? params.createLabelUrl : null;\n            this.itemsGridUrl = params.itemsGridUrl ? params.itemsGridUrl : null;\n            this.errorQtyOverLimit = params.errorQtyOverLimit;\n            this.titleDisabledSaveBtn = params.titleDisabledSaveBtn;\n            this.window = $('packaging_window');\n            this.messages = this.window.select('.message-warning')[0];\n            this.packagesContent = $('packages_content');\n            this.template = $('package_template');\n            this.paramsCreateLabelRequest = {};\n            this.validationErrorMsg = params.validationErrorMsg;\n\n            this.defaultItemsQty            = params.shipmentItemsQty ? params.shipmentItemsQty : null;\n            this.defaultItemsPrice          = params.shipmentItemsPrice ? params.shipmentItemsPrice : null;\n            this.defaultItemsName           = params.shipmentItemsName ? params.shipmentItemsName : null;\n            this.defaultItemsWeight         = params.shipmentItemsWeight ? params.shipmentItemsWeight : null;\n            this.defaultItemsProductId      = params.shipmentItemsProductId ? params.shipmentItemsProductId : null;\n            this.defaultItemsOrderItemId    = params.shipmentItemsOrderItemId ? params.shipmentItemsOrderItemId : null;\n\n            this.shippingInformation = params.shippingInformation ? params.shippingInformation : null;\n            this.thisPage           = params.thisPage ? params.thisPage : null;\n            this.customizableContainers = params.customizable ? params.customizable : [];\n\n            this.eps = 0.000001;\n        },\n\n        /**\n         * Get Package Id\n         */\n        getPackageId: function (packageBlock) {\n            return packageBlock.id.match(/\\d{0,}$/)[0];\n        },\n\n        //******************** Setters **********************************//\n        setLabelCreatedCallback: function (callback) {\n            this.labelCreatedCallback = callback;\n        },\n        setCancelCallback: function (callback) {\n            this.cancelCallback = callback;\n        },\n        setConfirmPackagingCallback: function (callback) {\n            this.confirmPackagingCallback = callback;\n        },\n        setItemQtyCallback: function (callback) {\n            this.itemQtyCallback = callback;\n        },\n        setCreateLabelUrl: function (url) {\n            this.createLabelUrl = url;\n        },\n        setParamsCreateLabelRequest: function (params) {\n            Object.extend(this.paramsCreateLabelRequest, params);\n        },\n        //******************** End Setters *******************************//\n\n        showWindow: function () {\n            if (this.packagesContent.childElements().length == 0) {\n                this.newPackage();\n            }\n            jQuery(this.window).modal('openModal');\n        },\n\n        cancelPackaging: function () {\n            if (Object.isFunction(this.cancelCallback)) {\n                this.cancelCallback();\n            }\n        },\n\n        confirmPackaging: function (params) {\n            if (Object.isFunction(this.confirmPackagingCallback)) {\n                this.confirmPackagingCallback();\n            }\n        },\n\n        checkAllItems: function (headCheckbox) {\n            $(headCheckbox).up('table').select('tbody input[type=\"checkbox\"]').each(function (checkbox) {\n                checkbox.checked = headCheckbox.checked;\n                this._observeQty.call(checkbox);\n            }.bind(this));\n        },\n\n        cleanPackages: function () {\n            this.packagesContent.update();\n            this.packages = [];\n            this.itemsAll = [];\n            this.packageIncrement = 0;\n            this._setAllItemsPackedState();\n            this.messages.hide().update();\n        },\n\n        sendCreateLabelRequest: function () {\n            var self = this;\n\n            if (!this.validate()) {\n                this.messages.show().update(this.validationErrorMsg);\n\n                return;\n            }\n            this.messages.hide().update();\n\n            if (this.createLabelUrl) {\n                var weight, length, width, height = null;\n                var packagesParams = [];\n\n                this.packagesContent.childElements().each(function (pack) {\n                    var packageId = this.getPackageId(pack);\n\n                    weight = parseFloat(pack.select('input[name=\"container_weight\"]')[0].value);\n                    length = parseFloat(pack.select('input[name=\"container_length\"]')[0].value);\n                    width = parseFloat(pack.select('input[name=\"container_width\"]')[0].value);\n                    height = parseFloat(pack.select('input[name=\"container_height\"]')[0].value);\n                    packagesParams[packageId] = {\n                        container:                  pack.select('select[name=\"package_container\"]')[0].value,\n                        customs_value:              parseFloat(pack.select('input[name=\"package_customs_value\"]')[0].value, 10),\n                        weight:                     isNaN(weight) ? '' : weight,\n                        length:                     isNaN(length) ? '' : length,\n                        width:                      isNaN(width) ? '' : width,\n                        height:                     isNaN(height) ? '' : height,\n                        weight_units:               pack.select('select[name=\"container_weight_units\"]')[0].value,\n                        dimension_units:            pack.select('select[name=\"container_dimension_units\"]')[0].value\n                    };\n\n                    if (isNaN(packagesParams[packageId]['customs_value'])) {\n                        packagesParams[packageId]['customs_value'] = 0;\n                    }\n\n                    if ('undefined' != typeof pack.select('select[name=\"package_size\"]')[0]) {\n                        if ('' != pack.select('select[name=\"package_size\"]')[0].value) {\n                            packagesParams[packageId]['size'] = pack.select('select[name=\"package_size\"]')[0].value;\n                        }\n                    }\n\n                    if ('undefined' != typeof pack.select('input[name=\"container_girth\"]')[0]) {\n                        if ('' != pack.select('input[name=\"container_girth\"]')[0].value) {\n                            packagesParams[packageId]['girth'] = pack.select('input[name=\"container_girth\"]')[0].value;\n                            packagesParams[packageId]['girth_dimension_units'] = pack.select('select[name=\"container_girth_dimension_units\"]')[0].value;\n                        }\n                    }\n\n                    if ('undefined' != typeof pack.select('select[name=\"content_type\"]')[0] && 'undefined' != typeof pack.select('input[name=\"content_type_other\"]')[0]) {\n                        packagesParams[packageId]['content_type'] = pack.select('select[name=\"content_type\"]')[0].value;\n                        packagesParams[packageId]['content_type_other'] = pack.select('input[name=\"content_type_other\"]')[0].value;\n                    } else {\n                        packagesParams[packageId]['content_type'] = '';\n                        packagesParams[packageId]['content_type_other'] = '';\n                    }\n                    var deliveryConfirmation = pack.select('select[name=\"delivery_confirmation_types\"]');\n\n                    if (deliveryConfirmation.length) {\n                        packagesParams[packageId]['delivery_confirmation'] =  deliveryConfirmation[0].value;\n                    }\n                }.bind(this));\n\n                for (var packageId in this.packages) {\n                    if (!isNaN(packageId)) {\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[container]']              = packagesParams[packageId]['container'];\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[weight]']                 = packagesParams[packageId]['weight'];\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[customs_value]']          = packagesParams[packageId]['customs_value'];\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[length]']                 = packagesParams[packageId]['length'];\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[width]']                  = packagesParams[packageId]['width'];\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[height]']                 = packagesParams[packageId]['height'];\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[weight_units]']           = packagesParams[packageId]['weight_units'];\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[dimension_units]']        = packagesParams[packageId]['dimension_units'];\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[content_type]']           = packagesParams[packageId]['content_type'];\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[content_type_other]']     = packagesParams[packageId]['content_type_other'];\n\n                        if ('undefined' != typeof packagesParams[packageId]['size']) {\n                            this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[size]'] = packagesParams[packageId]['size'];\n                        }\n\n                        if ('undefined' != typeof packagesParams[packageId]['girth']) {\n                            this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[girth]'] = packagesParams[packageId]['girth'];\n                            this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[girth_dimension_units]'] = packagesParams[packageId]['girth_dimension_units'];\n                        }\n\n                        if ('undefined' != typeof packagesParams[packageId]['delivery_confirmation']) {\n                            this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[delivery_confirmation]']  = packagesParams[packageId]['delivery_confirmation'];\n                        }\n\n                        for (var packedItemId in this.packages[packageId]['items']) {\n                            if (!isNaN(packedItemId)) {\n                                this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[items]' + '[' + packedItemId + '][qty]']           = this.packages[packageId]['items'][packedItemId]['qty'];\n                                this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[items]' + '[' + packedItemId + '][customs_value]'] = this.packages[packageId]['items'][packedItemId]['customs_value'];\n                                this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[items]' + '[' + packedItemId + '][price]']         = self.defaultItemsPrice[packedItemId];\n                                this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[items]' + '[' + packedItemId + '][name]']          = self.defaultItemsName[packedItemId];\n                                this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[items]' + '[' + packedItemId + '][weight]']        = self.defaultItemsWeight[packedItemId];\n                                this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[items]' + '[' + packedItemId + '][product_id]']    = self.defaultItemsProductId[packedItemId];\n                                this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[items]' + '[' + packedItemId + '][order_item_id]'] = self.defaultItemsOrderItemId[packedItemId];\n                            }\n                        }\n                    }\n                }\n\n                new Ajax.Request(this.createLabelUrl, {\n                    parameters: this.paramsCreateLabelRequest,\n                    onSuccess: function (transport) {\n                        var response = transport.responseText;\n\n                        if (response.isJSON()) {\n                            response = response.evalJSON();\n\n                            if (response.error) {\n                                this.messages.show().innerHTML = response.message;\n                            } else if (response.ok && Object.isFunction(this.labelCreatedCallback)) {\n                                this.labelCreatedCallback(response);\n                            }\n                        }\n                    }.bind(this)\n                });\n\n                if (this.paramsCreateLabelRequest['code'] &&\n                    this.paramsCreateLabelRequest['carrier_title'] &&\n                    this.paramsCreateLabelRequest['method_title'] &&\n                    this.paramsCreateLabelRequest['price']\n                ) {\n                    var a = this.paramsCreateLabelRequest['code'];\n                    var b = this.paramsCreateLabelRequest['carrier_title'];\n                    var c = this.paramsCreateLabelRequest['method_title'];\n                    var d = this.paramsCreateLabelRequest['price'];\n\n                    this.paramsCreateLabelRequest = {};\n                    this.paramsCreateLabelRequest['code']           = a;\n                    this.paramsCreateLabelRequest['carrier_title']  = b;\n                    this.paramsCreateLabelRequest['method_title']   = c;\n                    this.paramsCreateLabelRequest['price']          = d;\n                } else {\n                    this.paramsCreateLabelRequest = {};\n                }\n            }\n        },\n\n        validate: function () {\n            var dimensionElements = $('packaging_window').select(\n                'input[name=container_length],input[name=container_width],input[name=container_height],input[name=container_girth]:not(\"._disabled\")'\n            );\n            var callback = null;\n\n            if (dimensionElements.any(function (element) {\n                return !!element.value;\n            })) {\n                callback = function (element) {\n                    $(element).addClassName('required-entry');\n                };\n            } else {\n                callback = function (element) {\n                    $(element).removeClassName('required-entry');\n                };\n            }\n            dimensionElements.each(callback);\n\n            return result = $$('[id^=\"package_block_\"] input').collect(function (element) {\n                return this.validateElement(element);\n            }, this).all();\n        },\n\n        validateElement: function (elm) {\n            var cn = $w(elm.className);\n\n            return result = cn.all(function (value) {\n                var v = Validation.get(value);\n\n                if (Validation.isVisible(elm) && !v.test($F(elm), elm)) {\n                    $(elm).addClassName('validation-failed');\n\n                    return false;\n                }\n                $(elm).removeClassName('validation-failed');\n\n                return true;\n\n            });\n        },\n\n        validateCustomsValue: function () {\n            var items = [];\n            var isValid = true;\n            var itemsPrepare = [];\n            var itemsPacked = [];\n\n            this.packagesContent.childElements().each(function (pack) {\n                itemsPrepare = pack.select('[data-role=\"package-items\"]')[0];\n\n                if (itemsPrepare) {\n                    items = items.concat(itemsPrepare.select('.grid tbody tr'));\n                }\n                itemsPacked = pack.select('.package_items')[0];\n\n                if (itemsPacked) {\n                    items = items.concat(itemsPacked.select('.grid tbody tr'));\n                }\n            });\n\n            items.each(function (item) {\n                var itemCustomsValue = item.select('[name=\"customs_value\"]')[0];\n\n                if (!this.validateElement(itemCustomsValue)) {\n                    isValid = false;\n                }\n            }.bind(this));\n\n            if (isValid) {\n                this.messages.hide().update();\n            } else {\n                this.messages.show().update(this.validationErrorMsg);\n            }\n\n            return isValid;\n        },\n\n        newPackage: function () {\n            var pack = this.template.cloneNode(true);\n\n            pack.id = 'package_block_' + ++this.packageIncrement;\n            pack.addClassName('package-block');\n            pack.select('[data-role=package-number]')[0].update(this.packageIncrement);\n            this.packagesContent.insert({\n                top: pack\n            });\n            pack.select('[data-action=package-save-items]')[0].hide();\n            pack.show();\n        },\n\n        deletePackage: function (obj) {\n            var pack = $(obj).up('[id^=\"package_block\"]');\n\n            var packItems = pack.select('.package_items')[0];\n            var packageId = this.getPackageId(pack);\n\n            delete this.packages[packageId];\n            pack.remove();\n            this.messages.hide().update();\n            this._setAllItemsPackedState();\n        },\n\n        deleteItem: function (obj) {\n            var item = $(obj).up('tr');\n            var itemId = item.select('[type=\"checkbox\"]')[0].value;\n            var pack = $(obj).up('[id^=\"package_block\"]');\n            var packItems = pack.select('.package_items')[0];\n            var packageId = this.getPackageId(pack);\n\n            delete this.packages[packageId]['items'][itemId];\n\n            if (item.offsetParent.rows.length <= 2) { /* head + this last row */\n                $(packItems).hide();\n            }\n            item.remove();\n            this.messages.hide().update();\n            this._recalcContainerWeightAndCustomsValue(packItems);\n            this._setAllItemsPackedState();\n        },\n\n        recalcContainerWeightAndCustomsValue: function (obj) {\n            var pack = $(obj).up('[id^=\"package_block\"]');\n            var packItems = pack.select('.package_items')[0];\n\n            if (packItems) {\n                if (!this.validateCustomsValue()) {\n                    return;\n                }\n                this._recalcContainerWeightAndCustomsValue(packItems);\n            }\n        },\n\n        getItemsForPack: function (obj) {\n            if (this.itemsGridUrl) {\n                var parameters = $H({\n                    'shipment_id': this.shipmentId\n                });\n                var packageBlock = $(obj).up('[id^=\"package_block\"]');\n                var packagePrapare = packageBlock.select('[data-role=package-items]')[0];\n                var packagePrapareGrid = packagePrapare.select('.grid_prepare')[0];\n\n                new Ajax.Request(this.itemsGridUrl, {\n                    parameters: parameters,\n                    onSuccess: function (transport) {\n                        var response = transport.responseText;\n\n                        if (response) {\n                            packagePrapareGrid.update(response);\n                            this.processPackagePrepare(packagePrapareGrid);\n\n                            if (packagePrapareGrid.select('.grid tbody tr').length) {\n                                packageBlock.select('[data-action=package-add-items]')[0].hide();\n                                packageBlock.select('[data-action=package-save-items]')[0].show();\n                                packagePrapare.show();\n                            } else {\n                                packagePrapareGrid.update();\n                            }\n                        }\n                    }.bind(this)\n                });\n            }\n        },\n\n        getPackedItemsQty: function () {\n            var items = [];\n\n            for (var packageId in this.packages) {\n                if (!isNaN(packageId)) {\n                    for (var packedItemId in this.packages[packageId]['items']) {\n                        if (!isNaN(packedItemId)) {\n                            if (items[packedItemId]) {\n                                items[packedItemId] += this.packages[packageId]['items'][packedItemId]['qty'];\n                            } else {\n                                items[packedItemId] = this.packages[packageId]['items'][packedItemId]['qty'];\n                            }\n                        }\n                    }\n                }\n            }\n\n            return items;\n        },\n\n        _parseQty: function (obj) {\n            var qty = $(obj).hasClassName('qty-decimal') ? parseFloat(obj.value) : parseInt(obj.value);\n\n            if (isNaN(qty) || qty <= 0) {\n                qty = 1;\n            }\n\n            return qty;\n        },\n\n        packItems: function (obj) {\n            var anySelected = false;\n            var packageBlock = $(obj).up('[id^=\"package_block\"]');\n            var packageId = this.getPackageId(packageBlock);\n            var packagePrepare = packageBlock.select('[data-role=package-items]')[0];\n            var packagePrepareGrid = packagePrepare.select('.grid_prepare')[0];\n\n            // check for exceeds the total shipped quantity\n            var checkExceedsQty = false;\n\n            this.messages.hide().update();\n            packagePrepareGrid.select('.grid tbody tr').each(function (item) {\n                var checkbox = item.select('[type=\"checkbox\"]')[0];\n                var itemId = checkbox.value;\n                var qtyValue  = this._parseQty(item.select('[name=\"qty\"]')[0]);\n\n                item.select('[name=\"qty\"]')[0].value = qtyValue;\n\n                if (checkbox.checked && this._checkExceedsQty(itemId, qtyValue)) {\n                    this.messages.show().update(this.errorQtyOverLimit);\n                    checkExceedsQty = true;\n                }\n            }.bind(this));\n\n            if (checkExceedsQty) {\n                return;\n            }\n\n            if (!this.validateCustomsValue()) {\n                return;\n            }\n\n            // prepare items for packing\n            packagePrepareGrid.select('.grid tbody tr').each(function (item) {\n                var checkbox = item.select('[type=\"checkbox\"]')[0];\n\n                if (checkbox.checked) {\n                    var qty  = item.select('[name=\"qty\"]')[0];\n                    var qtyValue  = this._parseQty(qty);\n\n                    item.select('[name=\"qty\"]')[0].value = qtyValue;\n                    anySelected = true;\n                    qty.disabled = 'disabled';\n                    checkbox.disabled = 'disabled';\n                    packagePrepareGrid.select('.grid th [type=\"checkbox\"]')[0].up('th label').hide();\n                    item.select('[data-action=package-delete-item]')[0].show();\n                } else {\n                    item.remove();\n                }\n            }.bind(this));\n\n            // packing items\n            if (anySelected) {\n                var packItems = packageBlock.select('.package_items')[0];\n\n                if (!packItems) {\n                    packagePrepare.insert(new Element('div').addClassName('grid_prepare'));\n                    packagePrepare.insert({\n                        after: packagePrepareGrid\n                    });\n                    packItems = packagePrepareGrid.removeClassName('grid_prepare').addClassName('package_items');\n                    packItems.select('.grid tbody tr').each(function (item) {\n                        var itemId = item.select('[type=\"checkbox\"]')[0].value;\n                        var qtyValue  = parseFloat(item.select('[name=\"qty\"]')[0].value);\n\n                        qtyValue = qtyValue <= 0 ? 1 : qtyValue;\n\n                        if ('undefined' == typeof this.packages[packageId]) {\n                            this.packages[packageId] = {\n                                'items': [], 'params': {}\n                            };\n                        }\n\n                        if ('undefined' == typeof this.packages[packageId]['items'][itemId]) {\n                            this.packages[packageId]['items'][itemId] = {};\n                            this.packages[packageId]['items'][itemId]['qty'] = qtyValue;\n                        } else {\n                            this.packages[packageId]['items'][itemId]['qty'] += qtyValue;\n                        }\n                    }.bind(this));\n                } else {\n                    packagePrepareGrid.select('.grid tbody tr').each(function (item) {\n                        var itemId = item.select('[type=\"checkbox\"]')[0].value;\n                        var qtyValue  = parseFloat(item.select('[name=\"qty\"]')[0].value);\n\n                        qtyValue = qtyValue <= 0 ? 1 : qtyValue;\n\n                        if ('undefined' == typeof this.packages[packageId]['items'][itemId]) {\n                            this.packages[packageId]['items'][itemId] = {};\n                            this.packages[packageId]['items'][itemId]['qty'] = qtyValue;\n                            packItems.select('.grid tbody')[0].insert(item);\n                        } else {\n                            this.packages[packageId]['items'][itemId]['qty'] += qtyValue;\n                            var packItem = packItems.select('[type=\"checkbox\"][value=\"' + itemId + '\"]')[0].up('tr').select('[name=\"qty\"]')[0];\n\n                            packItem.value = this.packages[packageId]['items'][itemId]['qty'];\n                        }\n                    }.bind(this));\n                    packagePrepareGrid.update();\n                }\n                $(packItems).show();\n                this._recalcContainerWeightAndCustomsValue(packItems);\n            } else {\n                packagePrepareGrid.update();\n            }\n\n            // show/hide disable/enable\n            packagePrepare.hide();\n            packageBlock.select('[data-action=package-save-items]')[0].hide();\n            packageBlock.select('[data-action=package-add-items]')[0].show();\n            this._setAllItemsPackedState();\n        },\n\n        validateItemQty: function (itemId, qty) {\n            return this.defaultItemsQty[itemId] < qty ? this.defaultItemsQty[itemId] : qty;\n        },\n\n        changeMeasures: function (obj) {\n            var incr = 0;\n            var incrSelected = 0;\n\n            obj.childElements().each(function (option) {\n                if (option.selected) {\n                    incrSelected = incr;\n                }\n                incr++;\n            });\n\n            var packageBlock = $(obj).up('[id^=\"package_block\"]');\n\n            packageBlock.select('.measures').each(function (item) {\n                if (item.name != obj.name) {\n                    var incr = 0;\n\n                    item.select('option').each(function (option) {\n                        if (incr == incrSelected) {\n                            item.value = option.value;\n                            //option.selected = true\n                        }\n                        incr++;\n                    });\n                }\n            });\n\n        },\n\n        checkSizeAndGirthParameter: function (obj, enabled) {\n            if (enabled == 0) {\n                return;\n            }\n            var currentNode = obj;\n\n            while (currentNode.nodeName != 'TBODY') {\n                currentNode = currentNode.parentNode;\n            }\n\n            if (!currentNode) {\n                return;\n            }\n\n            var packageSize = currentNode.select('select[name=package_size]');\n            var packageContainer = currentNode.select('select[name=package_container]');\n            var packageGirth = currentNode.select('input[name=container_girth]');\n            var packageGirthDimensionUnits = currentNode.select('select[name=container_girth_dimension_units]');\n\n            if (packageSize.length <= 0) {\n                return;\n            }\n\n            var girthEnabled = packageContainer[0].value == 'NONRECTANGULAR' || packageContainer[0].value == 'VARIABLE';\n\n            if (!girthEnabled) {\n                packageGirth[0].value = '';\n                packageGirth[0].disable();\n                packageGirth[0].addClassName('_disabled');\n                packageGirthDimensionUnits[0].disable();\n                packageGirthDimensionUnits[0].addClassName('_disabled');\n            } else {\n                packageGirth[0].enable();\n                packageGirth[0].removeClassName('_disabled');\n                packageGirthDimensionUnits[0].enable();\n                packageGirthDimensionUnits[0].removeClassName('_disabled');\n            }\n\n            var sizeEnabled = packageContainer[0].value == 'NONRECTANGULAR' || packageContainer[0].value == 'RECTANGULAR' ||\n                packageContainer[0].value == 'VARIABLE';\n\n            if (!sizeEnabled) {\n                option = document.createElement('OPTION');\n                option.value = '';\n                option.text = '';\n                packageSize[0].options.add(option);\n                packageSize[0].value = '';\n                packageSize[0].disable();\n                packageSize[0].addClassName('_disabled');\n            } else {\n                for (i = 0; i < packageSize[0].length; i++) {\n                    if (packageSize[0].options[i].value == '') {\n                        packageSize[0].removeChild(packageSize[0].options[i]);\n                    }\n                }\n                packageSize[0].enable();\n                packageSize[0].removeClassName('_disabled');\n            }\n        },\n\n        changeContainerType: function (obj) {\n            if (this.customizableContainers.length <= 0) {\n                return;\n            }\n\n            var disable = true;\n\n            for (var i in this.customizableContainers) {\n                if (this.customizableContainers[i] == obj.value) {\n                    disable = false;\n                    break;\n                }\n            }\n\n            var currentNode = obj;\n\n            while (currentNode.nodeName != 'TBODY') {\n                currentNode = currentNode.parentNode;\n            }\n\n            if (!currentNode) {\n                return;\n            }\n\n            $(currentNode).select(\n                'input[name=container_length],input[name=container_width],input[name=container_height],select[name=container_dimension_units]'\n            ).each(function (inputElement) {\n                if (disable) {\n                    Form.Element.disable(inputElement);\n                    inputElement.addClassName('_disabled');\n\n                    if (inputElement.nodeName == 'INPUT') {\n                        $(inputElement).value = '';\n                    }\n                } else {\n                    Form.Element.enable(inputElement);\n                    inputElement.removeClassName('_disabled');\n                }\n            });\n        },\n\n        changeContentTypes: function (obj) {\n            var packageBlock = $(obj).up('[id^=\"package_block\"]');\n            var contentType = packageBlock.select('[name=content_type]')[0];\n            var contentTypeOther = packageBlock.select('[name=content_type_other]')[0];\n\n            if (contentType.value == 'OTHER') {\n                Form.Element.enable(contentTypeOther);\n                contentTypeOther.removeClassName('_disabled');\n            } else {\n                Form.Element.disable(contentTypeOther);\n                contentTypeOther.addClassName('_disabled');\n            }\n\n        },\n\n        //******************** Private functions **********************************//\n        _getItemsCount: function (items) {\n            var count = 0;\n\n            items.each(function (itemCount) {\n                if (!isNaN(itemCount)) {\n                    count += parseFloat(itemCount);\n                }\n            });\n\n            return count;\n        },\n\n        /**\n         * Show/hide disable/enable buttons in case of all items packed state\n         */\n        _setAllItemsPackedState: function () {\n            var addPackageBtn = $$('[data-action=add-packages]')[0];\n            var savePackagesBtn = $$('[data-action=save-packages]')[0];\n\n            if (this._getItemsCount(this.itemsAll) > 0 &&\n                    this._checkExceedsQtyFinal(this._getItemsCount(this.getPackedItemsQty()), this._getItemsCount(this.itemsAll))\n            ) {\n                this.packagesContent.select('[data-action=package-add-items]').each(function (button) {\n                    button.disabled = 'disabled';\n                    button.addClassName('_disabled');\n                });\n                addPackageBtn.addClassName('_disabled');\n                Form.Element.disable(addPackageBtn);\n                savePackagesBtn.removeClassName('_disabled');\n                Form.Element.enable(savePackagesBtn);\n                savePackagesBtn.title = '';\n\n                // package number recalculation\n                var packagesRecalc = [];\n\n                this.packagesContent.childElements().each(function (pack) {\n                    if (!pack.select('.package_items .grid tbody tr').length) {\n                        pack.remove();\n                    }\n                });\n                var packagesCount = this.packagesContent.childElements().length;\n\n                this.packageIncrement = packagesCount;\n                this.packagesContent.childElements().each(function (pack) {\n                    var packageId = this.getPackageId(pack);\n\n                    pack.id = 'package_block_' + packagesCount;\n                    pack.select('[data-role=package-number]')[0].update(packagesCount);\n                    packagesRecalc[packagesCount] = this.packages[packageId];\n                    --packagesCount;\n                }.bind(this));\n                this.packages = packagesRecalc;\n\n            } else {\n                this.packagesContent.select('[data-action=package-add-items]').each(function (button) {\n                    button.removeClassName('_disabled');\n                    Form.Element.enable(button);\n                });\n                addPackageBtn.removeClassName('_disabled');\n                Form.Element.enable(addPackageBtn);\n                savePackagesBtn.addClassName('_disabled');\n                Form.Element.disable(savePackagesBtn);\n                savePackagesBtn.title = this.titleDisabledSaveBtn;\n            }\n        },\n\n        processPackagePrepare: function (packagePrepare) {\n            var itemsAll = [],\n                qty,\n                itemId,\n                qtyValue = 0,\n                value = 1;\n\n            packagePrepare.select('.grid tbody tr').each(function (item) {\n                qty = item.select('[name=\"qty\"]')[0],\n                    itemId = item.select('[type=\"checkbox\"]')[0].value,\n                    qtyValue = parseFloat(qty.value);\n\n                if (Object.isFunction(this.itemQtyCallback)) {\n                    value = this.itemQtyCallback(itemId);\n\n                    if (typeof value !== 'undefined') {\n                        qtyValue = parseFloat(value);\n                        qtyValue = this.validateItemQty(itemId, qtyValue);\n                        qty.value = qtyValue;\n                    }\n                } else {\n                    value = item.select('[name=\"qty\"]')[0].value;\n                    qtyValue = typeof value == 'string' && value.length == 0 ? 0 : parseFloat(value);\n\n                    if (isNaN(qtyValue) || qtyValue < 0) {\n                        qtyValue = 1;\n                    }\n                }\n\n                if (qtyValue == 0) {\n                    item.remove();\n\n                    return;\n                }\n                var packedItems = this.getPackedItemsQty();\n\n                itemsAll[itemId] = qtyValue;\n\n                for (var packedItemId in packedItems) {\n                    if (!isNaN(packedItemId)) {\n                        var packedQty = packedItems[packedItemId];\n\n                        if (itemId == packedItemId) {\n                            if (qtyValue == packedQty || qtyValue <= packedQty) {\n                                item.remove();\n                            } else if (qtyValue > packedQty) {\n                                /* fix float number precision */\n                                qty.value = Number(Number(Math.round(qtyValue - packedQty + 'e+4') + 'e-4').toFixed(4));\n                            }\n                        }\n                    }\n                }\n            }.bind(this));\n\n            if (!this.itemsAll.length) {\n                this.itemsAll = itemsAll;\n            }\n\n            packagePrepare.select('tbody input[type=\"checkbox\"]').each(function (item) {\n                $(item).observe('change', this._observeQty);\n                this._observeQty.call(item);\n            }.bind(this));\n        },\n\n        _observeQty: function () {\n            /** this = input[type=\"checkbox\"] */\n            var tr  = jQuery(this).closest('tr')[0],\n                qty = $(tr.cells[tr.cells.length - 1]).select('input[name=\"qty\"]')[0];\n\n            if (qty.disabled = !this.checked) {\n                $(qty).addClassName('_disabled');\n            } else {\n                $(qty).removeClassName('_disabled');\n            }\n        },\n\n        _checkExceedsQty: function (itemId, qty) {\n            var packedItemQty = this.getPackedItemsQty()[itemId] ? this.getPackedItemsQty()[itemId] : 0;\n            var allItemQty = this.itemsAll[itemId];\n\n            return qty * (1 - this.eps) > allItemQty *  (1 + this.eps)  - packedItemQty * (1 - this.eps);\n        },\n\n        _checkExceedsQtyFinal: function (checkOne, defQty) {\n            return checkOne * (1 + this.eps) >= defQty * (1 - this.eps);\n        },\n\n        _recalcContainerWeightAndCustomsValue: function (container) {\n            var packageBlock = container.up('[id^=\"package_block\"]');\n            var packageId = this.getPackageId(packageBlock);\n            var containerWeight = packageBlock.select('[name=\"container_weight\"]')[0];\n            var containerCustomsValue = packageBlock.select('[name=\"package_customs_value\"]')[0];\n\n            containerWeight.value = 0;\n            containerCustomsValue.value = 0;\n            container.select('.grid tbody tr').each(function (item) {\n                var itemId = item.select('[type=\"checkbox\"]')[0].value;\n                var qtyValue  = parseFloat(item.select('[name=\"qty\"]')[0].value);\n\n                if (isNaN(qtyValue) || qtyValue <= 0) {\n                    qtyValue = 1;\n                    item.select('[name=\"qty\"]')[0].value = qtyValue;\n                }\n                var itemWeight = parseFloat(this._getElementText(item.select('[data-role=item-weight]')[0]));\n\n                containerWeight.value = parseFloat(containerWeight.value) + itemWeight * qtyValue;\n                var itemCustomsValue = parseFloat(item.select('[name=\"customs_value\"]')[0].value) || 0;\n\n                containerCustomsValue.value = parseFloat(containerCustomsValue.value) + itemCustomsValue * qtyValue;\n                this.packages[packageId]['items'][itemId]['customs_value'] = itemCustomsValue;\n            }.bind(this));\n            containerWeight.value = parseFloat(parseFloat(Math.round(containerWeight.value + 'e+4') + 'e-4').toFixed(4));\n            containerCustomsValue.value = parseFloat(Math.round(containerCustomsValue.value + 'e+2') + 'e-2').toFixed(2);\n\n            if (containerCustomsValue.value == 0) {\n                containerCustomsValue.value = '';\n            }\n        },\n\n        _getElementText: function (el) {\n            if ('string' == typeof el.textContent) {\n                return el.textContent;\n            }\n\n            if ('string' == typeof el.innerText) {\n                return el.innerText;\n            }\n\n            return el.innerHTML.replace(/<[^>]*>/g, '');\n        }\n        //******************** End Private functions ******************************//\n    };\n\n});\n","Magento_Shipping/js/packages.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'Magento_Ui/js/modal/modal',\n    'mage/translate'\n], function ($, modal, $t) {\n    'use strict';\n\n    return function (config, element) {\n        config.buttons = [\n            {\n                text: $t('Print'),\n                'class': 'action action-primary',\n\n                /**\n                 * Click handler\n                 */\n                click: function () {\n                    window.location.href = this.options.url;\n                }\n            }, {\n                text: $t('Cancel'),\n                'class': 'action action-secondary',\n\n                /**\n                 * Click handler\n                 */\n                click: function () {\n                    this.closeModal();\n                }\n            }\n        ];\n        modal(config, element);\n    };\n});\n","Magento_InventoryLowQuantityNotificationAdminUi/js/components/use-config-settings.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'Magento_Ui/js/form/element/single-checkbox'\n], function (checkbox) {\n    'use strict';\n\n    return checkbox.extend({\n        defaults: {\n            valueFromConfig: '',\n            linkedValue: ''\n        },\n\n        /**\n         * @inheritdoc\n         */\n        initObservable: function () {\n            return this\n                ._super()\n                .observe(['valueFromConfig', 'linkedValue']);\n        },\n\n        /**\n         * @inheritdoc\n         */\n        'onCheckedChanged': function (newChecked) {\n            if (newChecked) {\n                this.linkedValue(this.valueFromConfig());\n            }\n\n            this._super(newChecked);\n        },\n\n        /**\n         * @returns {String}\n         */\n        getInitialValue: function () {\n            var values = [this.value(), this.default],\n                value;\n\n            values.some(function (v) {\n                value = v || !!v;\n\n                return value;\n            });\n\n            return this.normalizeData(value);\n        }\n    });\n});\n","Magento_InventoryLowQuantityNotificationAdminUi/js/components/notify-stock-qty.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'Magento_Ui/js/form/element/abstract'\n], function (AbstractField) {\n    'use strict';\n\n    return AbstractField.extend({\n        defaults: {\n            notifyStockQtyUseDefault: '',\n            manageStock: '',\n            listens: {\n                notifyStockQtyUseDefault: 'onChange',\n                manageStock: 'onChange'\n            }\n        },\n\n        /**\n         * @inheritdoc\n         */\n        initObservable: function () {\n            return this\n                ._super()\n                .observe(['notifyStockQtyUseDefault', 'manageStock']);\n        },\n\n        /**\n         * Disable input when Manage Stock switched off or Notify Quantity Use Default\n         */\n        onChange: function () {\n            this.disabled(\n                this.notifyStockQtyUseDefault() ||\n                this.manageStock()\n            );\n        }\n    });\n});\n","mage/touch-slider.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'underscore',\n    'jquery-ui-modules/slider'\n], function ($, _) {\n    'use strict';\n\n    /**\n     * Adds support for touch events for regular jQuery UI slider.\n     */\n    $.widget('mage.touchSlider', $.ui.slider, {\n\n        /**\n         * Creates instance of widget.\n         *\n         * @override\n         */\n        _create: function () {\n            _.bindAll(\n                this,\n                '_mouseDown',\n                '_mouseMove',\n                '_onTouchEnd'\n            );\n\n            return this._superApply(arguments);\n        },\n\n        /**\n         * Initializes mouse events on element.\n         * @override\n         */\n        _mouseInit: function () {\n            var result = this._superApply(arguments);\n\n            this.element\n                .off('mousedown.' + this.widgetName)\n                .on('touchstart.' + this.widgetName, this._mouseDown);\n\n            return result;\n        },\n\n        /**\n         * Elements' 'mousedown' event handler polyfill.\n         * @override\n         */\n        _mouseDown: function (event) {\n            var prevDelegate = this._mouseMoveDelegate,\n                result;\n\n            event = this._touchToMouse(event);\n            result = this._super(event);\n\n            if (prevDelegate === this._mouseMoveDelegate) {\n                return result;\n            }\n\n            $(document)\n                .off('mousemove.' + this.widgetName)\n                .off('mouseup.' + this.widgetName);\n\n            $(document)\n                .on('touchmove.' + this.widgetName, this._mouseMove)\n                .on('touchend.' + this.widgetName, this._onTouchEnd)\n                .on('tochleave.' + this.widgetName, this._onTouchEnd);\n\n            return result;\n        },\n\n        /**\n         * Documents' 'mousemove' event handler polyfill.\n         *\n         * @override\n         * @param {Event} event - Touch event object.\n         */\n        _mouseMove: function (event) {\n            event = this._touchToMouse(event);\n\n            return this._super(event);\n        },\n\n        /**\n         * Documents' 'touchend' event handler.\n         */\n        _onTouchEnd: function (event) {\n            $(document).trigger('mouseup');\n\n            return this._mouseUp(event);\n        },\n\n        /**\n         * Removes previously assigned touch handlers.\n         *\n         * @override\n         */\n        _mouseUp: function () {\n            this._removeTouchHandlers();\n\n            return this._superApply(arguments);\n        },\n\n        /**\n         * Removes previously assigned touch handlers.\n         *\n         * @override\n         */\n        _mouseDestroy: function () {\n            this._removeTouchHandlers();\n\n            return this._superApply(arguments);\n        },\n\n        /**\n         * Removes touch events from document object.\n         */\n        _removeTouchHandlers: function () {\n            $(document)\n                .off('touchmove.' + this.widgetName)\n                .off('touchend.' + this.widgetName)\n                .off('touchleave.' + this.widgetName);\n        },\n\n        /**\n         * Adds properties to the touch event to mimic mouse event.\n         *\n         * @param {Event} event - Touch event object.\n         * @returns {Event}\n         */\n        _touchToMouse: function (event) {\n            var orig = event.originalEvent,\n                touch = orig.touches[0];\n\n            return _.extend(event, {\n                which:      1,\n                pageX:      touch.pageX,\n                pageY:      touch.pageY,\n                clientX:    touch.clientX,\n                clientY:    touch.clientY,\n                screenX:    touch.screenX,\n                screenY:    touch.screenY\n            });\n        }\n    });\n\n    return $.mage.touchSlider;\n});\n","mage/ie-class-fixer.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([], function () {\n    'use strict';\n\n    if (navigator.userAgent.match(/Trident.*rv[ :]*11\\./)) {\n        document.documentElement.classList.add('ie11');\n    }\n});\n","mage/accordion.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'mage/tabs'\n], function ($, tabs) {\n    'use strict';\n\n    $.widget('mage.accordion', tabs, {\n        options: {\n            active: [0],\n            multipleCollapsible: false,\n            openOnFocus: false\n        },\n\n        /**\n         * @private\n         */\n        _callCollapsible: function () {\n            var self = this,\n                disabled = false,\n                active = false;\n\n            if (typeof this.options.active === 'string') {\n                this.options.active = this.options.active.split(' ').map(function (item) {\n                    return parseInt(item, 10);\n                });\n            }\n\n            $.each(this.collapsibles, function (i) {\n                disabled = active = false;\n\n                if ($.inArray(i, self.options.disabled) !== -1) {\n                    disabled = true;\n                }\n\n                if ($.inArray(i, self.options.active) !== -1) {\n                    active = true;\n                }\n                self._instantiateCollapsible(this, i, active, disabled);\n            });\n        },\n\n        /**\n         * Overwrites default functionality to provide the option to activate/deactivate multiple sections simultaneous\n         * @param {*} action\n         * @param {*} index\n         * @private\n         */\n        _toggleActivate: function (action, index) {\n            var self = this;\n\n            if ($.isArray(index && this.options.multipleCollapsible)) {\n                $.each(index, function () {\n                    self.collapsibles.eq(this).collapsible(action);\n                });\n            } else if (index === undefined && this.options.multipleCollapsible) {\n                this.collapsibles.collapsible(action);\n            } else {\n                this._super(action, index);\n            }\n        },\n\n        /**\n         * If the Accordion allows multiple section to be active at the same time, if deep linking is used\n         * sections that don't contain the id from anchor shouldn't be closed, otherwise the accordion uses the\n         * tabs behavior\n         * @private\n         */\n        _handleDeepLinking: function () {\n            if (!this.options.multipleCollapsible) {\n                this._super();\n            }\n        },\n\n        /**\n         * Prevent default behavior that closes the other sections when one gets activated if the Accordion allows\n         * multiple sections simultaneous\n         * @private\n         */\n        _closeOthers: function () {\n            var self = this;\n\n            if (!this.options.multipleCollapsible) {\n                $.each(this.collapsibles, function () {\n                    $(this).on('beforeOpen', function () {\n                        self.collapsibles.not(this).collapsible('deactivate');\n                    });\n                });\n            }\n            $.each(this.collapsibles, function () {\n                $(this).on('beforeOpen', function () {\n                    var section = $(this);\n\n                    section.addClass('allow').prevAll().addClass('allow');\n                    section.nextAll().removeClass('allow');\n                });\n            });\n        }\n    });\n\n    return $.mage.accordion;\n});\n","mage/translate-inline.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'mage/template',\n    'mage/utils/misc',\n    'mage/translate',\n    'jquery-ui-modules/dialog'\n], function ($, mageTemplate, miscUtils) {\n    'use strict';\n\n    $.widget('mage.translateInline', $.ui.dialog, {\n        options: {\n            translateForm: {\n                template: '#translate-form-template',\n                data: {\n                    id: 'translate-inline-form',\n                    message: 'Please refresh the page to see your changes after submitting this form.'\n                }\n            },\n            autoOpen: false,\n            translateArea: null,\n            modal: true,\n            dialogClass: 'popup-window',\n            width: '75%',\n            title: $.mage.__('Translate'),\n            height: 470,\n            position: {\n                my: 'left top',\n                at: 'center top',\n                of: 'body'\n            },\n            buttons: [{\n                text: $.mage.__('Submit'),\n                'class': 'action-primary',\n\n                /**\n                 * Click\n                 */\n                click: function () {\n                    $(this).translateInline('submit');\n                }\n            },\n            {\n                text: $.mage.__('Close'),\n                'class': 'action-close',\n\n                /**\n                 * Click.\n                 */\n                click: function () {\n                    $(this).translateInline('close');\n                }\n            }],\n\n            /**\n             * Open.\n             */\n            open: function () {\n                var $uiDialog = $(this).closest('.ui-dialog'),\n                    topMargin = $uiDialog.children('.ui-dialog-titlebar').outerHeight() + 45;\n\n                $uiDialog\n                    .addClass('ui-dialog-active')\n                    .css('margin-top', topMargin);\n            },\n\n            /**\n             * Close.\n             */\n            close: function () {\n                $(this).closest('.ui-dialog').removeClass('ui-dialog-active');\n            }\n        },\n\n        /**\n         * Translate Inline creation\n         * @protected\n         */\n        _create: function () {\n            var $translateArea = $(this.options.translateArea);\n\n            if (!$translateArea.length) {\n                $translateArea = $('body');\n            }\n            $translateArea.on('edit.editTrigger', $.proxy(this._onEdit, this));\n\n            this.tmpl = mageTemplate(this.options.translateForm.template);\n\n            this._super();\n        },\n\n        /**\n         * @param {*} templateData\n         * @return {*|jQuery|HTMLElement}\n         * @private\n         */\n        _prepareContent: function (templateData) {\n            var data = $.extend({\n                items: templateData,\n                escape: miscUtils.escape\n            }, this.options.translateForm.data);\n\n            this.data = data;\n\n            return $(this.tmpl({\n                data: data\n            }));\n        },\n\n        /**\n         * Render translation form and open dialog\n         * @param {Object} e - object\n         * @protected\n         */\n        _onEdit: function (e) {\n            this.target = e.target;\n            this.element.html(this._prepareContent($(e.target).data('translate')));\n            this.open(e);\n        },\n\n        /**\n         * Submit.\n         */\n        submit: function () {\n            if (this.formIsSubmitted) {\n                return;\n            }\n            this._formSubmit();\n        },\n\n        /**\n         * Send ajax request on form submit\n         * @protected\n         */\n        _formSubmit: function () {\n            var parameters = $.param({\n                    area: this.options.area\n                }) + '&' + $('#' + this.options.translateForm.data.id).serialize();\n\n            this.formIsSubmitted = true;\n\n            $.ajax({\n                url: this.options.ajaxUrl,\n                type: 'POST',\n                data: parameters,\n                loaderContext: this.element,\n                showLoader: true\n            }).complete($.proxy(this._formSubmitComplete, this));\n        },\n\n        /**\n         * @param {Object} response\n         * @private\n         */\n        _formSubmitComplete: function (response) {\n            this.close();\n            this.formIsSubmitted = false;\n            this._updatePlaceholder(response.responseJSON[this.data.items[0].original]);\n        },\n\n        /**\n         * @param {*} newValue\n         * @private\n         */\n        _updatePlaceholder: function (newValue) {\n            var $target = $(this.target),\n                translateObject = $target.data('translate')[0];\n\n            translateObject.shown = newValue;\n            translateObject.translated = newValue;\n\n            $target.html(newValue);\n        },\n\n        /**\n         * Destroy translateInline\n         */\n        destroy: function () {\n            this.element.off('.editTrigger');\n            this._super();\n        }\n    });\n\n    return $.mage.translateInline;\n});\n","mage/polyfill.js":"(function (root, doc) {\n    'use strict';\n\n    var Storage;\n\n    try {\n        if (!root.localStorage || !root.sessionStorage) {\n            throw new Error();\n        }\n\n        localStorage.setItem('storage_test', 1);\n        localStorage.removeItem('storage_test');\n    } catch (e) {\n        /**\n         * Returns a storage object to shim local or sessionStorage\n         * @param {String} type - either 'local' or 'session'\n         */\n        Storage = function (type) {\n            var data;\n\n            /**\n             * Creates a cookie\n             * @param {String} name\n             * @param {String} value\n             * @param {Integer} days\n             */\n            function createCookie(name, value, days) {\n                var date, expires;\n\n                if (days) {\n                    date = new Date();\n                    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n                    expires = '; expires=' + date.toGMTString();\n                } else {\n                    expires = '';\n                }\n                doc.cookie = name + '=' + value + expires + '; path=/';\n            }\n\n            /**\n             * Reads value of a cookie\n             * @param {String} name\n             */\n            function readCookie(name) {\n                var nameEQ = name + '=',\n                    ca = doc.cookie.split(';'),\n                    i = 0,\n                    c;\n\n                for (i = 0; i < ca.length; i++) {\n                    c = ca[i];\n\n                    while (c.charAt(0) === ' ') {\n                        c = c.substring(1, c.length);\n                    }\n\n                    if (c.indexOf(nameEQ) === 0) {\n                        return c.substring(nameEQ.length, c.length);\n                    }\n                }\n\n                return null;\n            }\n\n            /**\n             * Returns cookie name based upon the storage type.\n             * If this is session storage, the function returns a unique cookie per tab\n             */\n            function getCookieName() {\n\n                if (type !== 'session') {\n                    return 'localstorage';\n                }\n\n                if (!root.name) {\n                    root.name = new Date().getTime();\n                }\n\n                return 'sessionStorage' + root.name;\n            }\n\n            /**\n             * Sets storage cookie to a data object\n             * @param {Object} dataObject\n             */\n            function setData(dataObject) {\n                data = encodeURIComponent(JSON.stringify(dataObject));\n                createCookie(getCookieName(), data, 365);\n            }\n\n            /**\n             * Clears value of cookie data\n             */\n            function clearData() {\n                createCookie(getCookieName(), '', 365);\n            }\n\n            /**\n             * @returns value of cookie data\n             */\n            function getData() {\n                var dataResponse = readCookie(getCookieName());\n\n                return dataResponse ? JSON.parse(decodeURIComponent(dataResponse)) : {};\n            }\n\n            data = getData();\n\n            return {\n                length: 0,\n\n                /**\n                 * Clears data from storage\n                 */\n                clear: function () {\n                    data = {};\n                    this.length = 0;\n                    clearData();\n                },\n\n                /**\n                 * Gets an item from storage\n                 * @param {String} key\n                 */\n                getItem: function (key) {\n                    return data[key] === undefined ? null : data[key];\n                },\n\n                /**\n                 * Gets an item by index from storage\n                 * @param {Integer} i\n                 */\n                key: function (i) {\n                    var ctr = 0,\n                        k;\n\n                    for (k in data) {\n\n                        if (data.hasOwnProperty(k)) {\n\n                            // eslint-disable-next-line max-depth\n                            if (ctr.toString() === i.toString()) {\n                                return k;\n                            }\n                            ctr++;\n                        }\n                    }\n\n                    return null;\n                },\n\n                /**\n                 * Removes an item from storage\n                 * @param {String} key\n                 */\n                removeItem: function (key) {\n                    delete data[key];\n                    this.length--;\n                    setData(data);\n                },\n\n                /**\n                 * Sets an item from storage\n                 * @param {String} key\n                 * @param {String} value\n                 */\n                setItem: function (key, value) {\n                    data[key] = value.toString();\n                    this.length++;\n                    setData(data);\n                }\n            };\n        };\n\n        root.localStorage.prototype = root.localStorage = new Storage('local');\n        root.sessionStorage.prototype = root.sessionStorage = new Storage('session');\n    }\n})(window, document);\n","mage/template.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'underscore'\n], function (_) {\n    'use strict';\n\n    /**\n     * Checks if provided string is a valid DOM selector.\n     *\n     * @param {String} selector - Selector to be checked.\n     * @returns {Boolean}\n     */\n    function isSelector(selector) {\n        try {\n            document.querySelector(selector);\n\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    /**\n     * Unescapes characters used in underscore templates.\n     *\n     * @param {String} str - String to be processed.\n     * @returns {String}\n     */\n    function unescape(str) {\n        return str.replace(/&lt;%|%3C%/g, '<%').replace(/%&gt;|%%3E/g, '%>');\n    }\n\n    /**\n     * If 'tmpl' is a valid selector, returns target node's innerHTML if found.\n     * Else, returns empty string and emits console warning.\n     * If 'tmpl' is not a selector, returns 'tmpl' as is.\n     *\n     * @param {String} tmpl\n     * @returns {String}\n     */\n    function getTmplString(tmpl) {\n        if (isSelector(tmpl)) {\n            tmpl = document.querySelector(tmpl);\n\n            if (tmpl) {\n                tmpl = tmpl.innerHTML.trim();\n            } else {\n                console.warn('No template was found by selector: ' + tmpl);\n\n                tmpl = '';\n            }\n        }\n\n        return unescape(tmpl);\n    }\n\n    /**\n     * Compiles or renders template provided either\n     * by selector or by the template string.\n     *\n     * @param {String} tmpl - Template string or selector.\n     * @param {(Object|Array|Function)} [data] - Data object with which to render template.\n     * @returns {String|Function}\n     */\n    return function (tmpl, data) {\n        var render;\n\n        tmpl   = getTmplString(tmpl);\n        render = _.template(tmpl);\n\n        return !_.isUndefined(data) ?\n            render(data) :\n            render;\n    };\n});\n","mage/validation.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'moment',\n    'mageUtils',\n    'jquery-ui-modules/widget',\n    'jquery/validate',\n    'mage/translate'\n], function ($, moment, utils) {\n    'use strict';\n\n    var creditCartTypes, rules, showLabel, originValidateDelegate;\n\n    $.extend(true, $, {\n        // @TODO: Move methods 'isEmpty', 'isEmptyNoTrim', 'parseNumber', 'stripHtml' in file with utility functions\n        mage: {\n            /**\n             * Check if string is empty with trim\n             * @param {String} value\n             */\n            isEmpty: function (value) {\n                return value === '' || value === undefined ||\n                    value == null || value.length === 0 || /^\\s+$/.test(value);\n            },\n\n            /**\n             * Check if string is empty no trim\n             * @param {String} value\n             */\n            isEmptyNoTrim: function (value) {\n                return value === '' || value == null || value.length === 0;\n            },\n\n            /**\n             * Checks if {value} is between numbers {from} and {to}\n             * @param {String} value\n             * @param {String} from\n             * @param {String} to\n             * @returns {Boolean}\n             */\n            isBetween: function (value, from, to) {\n                return ($.mage.isEmpty(from) || value >= $.mage.parseNumber(from)) &&\n                    ($.mage.isEmpty(to) || value <= $.mage.parseNumber(to));\n            },\n\n            /**\n             * Parse price string\n             * @param {String} value\n             */\n            parseNumber: function (value) {\n                var isDot, isComa;\n\n                if (typeof value !== 'string') {\n                    return parseFloat(value);\n                }\n                isDot = value.indexOf('.');\n                isComa = value.indexOf(',');\n\n                if (isDot !== -1 && isComa !== -1) {\n                    if (isComa > isDot) {\n                        value = value.replace('.', '').replace(',', '.');\n                    } else {\n                        value = value.replace(',', '');\n                    }\n                } else if (isComa !== -1) {\n                    value = value.replace(',', '.');\n                }\n\n                return parseFloat(value);\n            },\n\n            /**\n             * Removes HTML tags and space characters, numbers and punctuation.\n             *\n             * @param {String} value - Value being stripped.\n             * @return {String}\n             */\n            stripHtml: function (value) {\n                return value.replace(/<.[^<>]*?>/g, ' ').replace(/&nbsp;|&#160;/gi, ' ')\n                    .replace(/[0-9.(),;:!?%#$'\"_+=\\/-]*/g, '');\n            }\n        }\n    });\n\n    /**\n     * @param {String} name\n     * @param {*} method\n     * @param {*} message\n     * @param {*} dontSkip\n     */\n    $.validator.addMethod = function (name, method, message, dontSkip) {\n        $.validator.methods[name] = method;\n        $.validator.messages[name] = message !== undefined ? message : $.validator.messages[name];\n\n        if (method.length < 3 || dontSkip) {\n            $.validator.addClassRules(name, $.validator.normalizeRule(name));\n        }\n    };\n\n    /**\n     * Javascript object with credit card types\n     * 0 - regexp for card number\n     * 1 - regexp for cvn\n     * 2 - check or not credit card number trough Luhn algorithm by\n     */\n    creditCartTypes = {\n        'SO': [\n            new RegExp('^(6334[5-9]([0-9]{11}|[0-9]{13,14}))|(6767([0-9]{12}|[0-9]{14,15}))$'),\n            new RegExp('^([0-9]{3}|[0-9]{4})?$'),\n            true\n        ],\n        'SM': [\n            new RegExp('(^(5[0678])[0-9]{11,18}$)|(^(6[^05])[0-9]{11,18}$)|' +\n                '(^(601)[^1][0-9]{9,16}$)|(^(6011)[0-9]{9,11}$)|(^(6011)[0-9]{13,16}$)|' +\n                '(^(65)[0-9]{11,13}$)|(^(65)[0-9]{15,18}$)|(^(49030)[2-9]([0-9]{10}$|[0-9]{12,13}$))|' +\n                '(^(49033)[5-9]([0-9]{10}$|[0-9]{12,13}$))|(^(49110)[1-2]([0-9]{10}$|[0-9]{12,13}$))|' +\n                '(^(49117)[4-9]([0-9]{10}$|[0-9]{12,13}$))|(^(49118)[0-2]([0-9]{10}$|[0-9]{12,13}$))|' +\n                '(^(4936)([0-9]{12}$|[0-9]{14,15}$))'), new RegExp('^([0-9]{3}|[0-9]{4})?$'),\n            true\n        ],\n        'VI': [new RegExp('^4[0-9]{12}([0-9]{3})?$'), new RegExp('^[0-9]{3}$'), true],\n        'MC': [\n            new RegExp('^(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$'),\n            new RegExp('^[0-9]{3}$'),\n            true\n        ],\n        'AE': [new RegExp('^3[47][0-9]{13}$'), new RegExp('^[0-9]{4}$'), true],\n        'DI': [new RegExp('^(6011(0|[2-4]|74|7[7-9]|8[6-9]|9)|6(4[4-9]|5))\\\\d*$'), new RegExp('^[0-9]{3}$'), true],\n        'JCB': [new RegExp('^35(2[8-9]|[3-8])\\\\d*$'), new RegExp('^[0-9]{3}$'), true],\n        'DN': [new RegExp('^(3(0[0-5]|095|6|[8-9]))\\\\d*$'), new RegExp('^[0-9]{3}$'), true],\n        'UN': [\n            new RegExp('^(622(1(2[6-9]|[3-9])|[3-8]|9([[0-1]|2[0-5]))|62[4-6]|628([2-8]))\\\\d*?$'),\n            new RegExp('^[0-9]{3}$'),\n            true\n        ],\n        'MI': [new RegExp('^(5(0|[6-9])|63|67(?!59|6770|6774))\\\\d*$'), new RegExp('^[0-9]{3}$'), true],\n        'MD': [new RegExp('^6759(?!24|38|40|6[3-9]|70|76)|676770|676774\\\\d*$'), new RegExp('^[0-9]{3}$'), true]\n    };\n\n    /**\n     * validate credit card number using mod10\n     * @param {String} s\n     * @return {Boolean}\n     */\n    function validateCreditCard(s) {\n        // remove non-numerics\n        var v = '0123456789',\n            w = '',\n            i, j, k, m, c, a, x;\n\n        for (i = 0; i < s.length; i++) {\n            x = s.charAt(i);\n\n            if (v.indexOf(x, 0) !== -1) {\n                w += x;\n            }\n        }\n        // validate number\n        j = w.length / 2;\n        k = Math.floor(j);\n        m = Math.ceil(j) - k;\n        c = 0;\n\n        for (i = 0; i < k; i++) {\n            a = w.charAt(i * 2 + m) * 2;\n            c += a > 9 ? Math.floor(a / 10 + a % 10) : a;\n        }\n\n        for (i = 0; i < k + m; i++) {\n            c += w.charAt(i * 2 + 1 - m) * 1;\n        }\n\n        return c % 10 === 0;\n    }\n\n    /**\n     * validate all table required inputs at once, using single hidden input\n     * @param {String} value\n     * @param {HTMLElement} element\n     *\n     * @return {Boolean}\n     */\n    function tableSingleValidation(value, element) {\n        var empty = $(element).closest('table')\n            .find('input.required-option:visible')\n            .filter(function (i, el) {\n                if ($(el).is('disabled')) {\n                    return $.mage.isEmpty(el.value);\n                }\n            })\n            .length;\n\n        return empty === 0;\n    }\n\n    /**\n     *\n     * @param {float} qty\n     * @param {float} qtyIncrements\n     * @returns {float}\n     */\n    function resolveModulo(qty, qtyIncrements) {\n        var divideEpsilon = 10000,\n            epsilon,\n            remainder;\n\n        while (qtyIncrements < 1) {\n            qty *= 10;\n            qtyIncrements *= 10;\n        }\n\n        epsilon = qtyIncrements / divideEpsilon;\n        remainder = qty % qtyIncrements;\n\n        if (Math.abs(remainder - qtyIncrements) < epsilon ||\n            Math.abs(remainder) < epsilon) {\n            remainder = 0;\n        }\n\n        return remainder;\n    }\n\n    /**\n     * Collection of validation rules including rules from additional-methods.js\n     * @type {Object}\n     */\n    rules = {\n        'max-words': [\n            function (value, element, params) {\n                return this.optional(element) || $.mage.stripHtml(value).match(/\\b\\w+\\b/g).length <= params;\n            },\n            $.mage.__('Please enter {0} words or less.')\n        ],\n        'min-words': [\n            function (value, element, params) {\n                return this.optional(element) || $.mage.stripHtml(value).match(/\\b\\w+\\b/g).length >= params;\n            },\n            $.mage.__('Please enter at least {0} words.')\n        ],\n        'range-words': [\n            function (value, element, params) {\n                return this.optional(element) ||\n                    $.mage.stripHtml(value).match(/\\b\\w+\\b/g).length >= params[0] &&\n                    value.match(/bw+b/g).length < params[1];\n            },\n            $.mage.__('Please enter between {0} and {1} words.')\n        ],\n        'letters-with-basic-punc': [\n            function (value, element) {\n                return this.optional(element) || /^[a-z\\-.,()'\\\"\\s]+$/i.test(value);\n            },\n            $.mage.__('Letters or punctuation only please')\n        ],\n        'alphanumeric': [\n            function (value, element) {\n                return this.optional(element) || /^\\w+$/i.test(value);\n            },\n            $.mage.__('Letters, numbers, spaces or underscores only please')\n        ],\n        'letters-only': [\n            function (value, element) {\n                return this.optional(element) || /^[a-z]+$/i.test(value);\n            },\n            $.mage.__('Letters only please')\n        ],\n        'no-whitespace': [\n            function (value, element) {\n                return this.optional(element) || /^\\S+$/i.test(value);\n            },\n            $.mage.__('No white space please')\n        ],\n        'no-marginal-whitespace': [\n            function (value, element) {\n                return this.optional(element) || !/^\\s+|\\s+$/i.test(value);\n            },\n            $.mage.__('No marginal white space please')\n        ],\n        'zip-range': [\n            function (value, element) {\n                return this.optional(element) || /^90[2-5]-\\d{2}-\\d{4}$/.test(value);\n            },\n            $.mage.__('Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx')\n        ],\n        'integer': [\n            function (value, element) {\n                return this.optional(element) || /^-?\\d+$/.test(value);\n            },\n            $.mage.__('A positive or negative non-decimal number please')\n        ],\n        'vinUS': [\n            function (v) {\n                var i, n, d, f, cd, cdv, LL, VL, FL, rs;\n\n                /* eslint-disable max-depth */\n                if (v.length !== 17) {\n                    return false;\n                }\n\n                LL = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'J', 'K', 'L',\n                    'M', 'N', 'P', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];\n                VL = [1, 2, 3, 4, 5, 6, 7, 8, 1, 2, 3, 4, 5, 7, 9, 2, 3, 4, 5, 6, 7, 8, 9];\n                FL = [8, 7, 6, 5, 4, 3, 2, 10, 0, 9, 8, 7, 6, 5, 4, 3, 2];\n                rs = 0;\n\n                for (i = 0; i < 17; i++) {\n                    f = FL[i];\n                    d = v.slice(i, i + 1);\n\n                    if (i === 8) {\n                        cdv = d;\n                    }\n\n                    if (!isNaN(d)) {\n                        d *= f;\n                    } else {\n                        for (n = 0; n < LL.length; n++) {\n                            if (d.toUpperCase() === LL[n]) {\n                                d = VL[n];\n                                d *= f;\n\n                                if (isNaN(cdv) && n === 8) {\n                                    cdv = LL[n];\n                                }\n                                break;\n                            }\n                        }\n                    }\n                    rs += d;\n                }\n\n                /* eslint-enable max-depth */\n                cd = rs % 11;\n\n                if (cd === 10) {\n                    cd = 'X';\n                }\n\n                if (cd === cdv) {\n                    return true;\n                }\n\n                return false;\n            },\n            $.mage.__('The specified vehicle identification number (VIN) is invalid.')\n        ],\n        'dateITA': [\n            function (value, element) {\n                var check = false,\n                    re = /^\\d{1,2}\\/\\d{1,2}\\/\\d{4}$/,\n                    adata, gg, mm, aaaa, xdata;\n\n                if (re.test(value)) {\n                    adata = value.split('/');\n                    gg = parseInt(adata[0], 10);\n                    mm = parseInt(adata[1], 10);\n                    aaaa = parseInt(adata[2], 10);\n                    xdata = new Date(aaaa, mm - 1, gg);\n\n                    if (xdata.getFullYear() === aaaa &&\n                        xdata.getMonth() === mm - 1 &&\n                        xdata.getDate() === gg\n                    ) {\n                        check = true;\n                    } else {\n                        check = false;\n                    }\n                } else {\n                    check = false;\n                }\n\n                return this.optional(element) || check;\n            },\n            $.mage.__('Please enter a correct date')\n        ],\n        'dateNL': [\n            function (value, element) {\n                return this.optional(element) || /^\\d\\d?[\\.\\/-]\\d\\d?[\\.\\/-]\\d\\d\\d?\\d?$/.test(value);\n            },\n            'Vul hier een geldige datum in.'\n        ],\n        'time': [\n            function (value, element) {\n                return this.optional(element) || /^([01]\\d|2[0-3])(:[0-5]\\d){0,2}$/.test(value);\n            },\n            $.mage.__('Please enter a valid time, between 00:00 and 23:59')\n        ],\n        'time12h': [\n            function (value, element) {\n                return this.optional(element) || /^((0?[1-9]|1[012])(:[0-5]\\d){0,2}(\\s[AP]M))$/i.test(value);\n            },\n            $.mage.__('Please enter a valid time, between 00:00 am and 12:00 pm')\n        ],\n        'phoneUS': [\n            function (phoneNumber, element) {\n                phoneNumber = phoneNumber.replace(/\\s+/g, '');\n\n                return this.optional(element) || phoneNumber.length > 9 &&\n                    phoneNumber.match(/^(1-?)?(\\([2-9]\\d{2}\\)|[2-9]\\d{2})-?[2-9]\\d{2}-?\\d{4}$/);\n            },\n            $.mage.__('Please specify a valid phone number')\n        ],\n        'phoneUK': [\n            function (phoneNumber, element) {\n                return this.optional(element) || phoneNumber.length > 9 &&\n                    phoneNumber.match(/^(\\(?(0|\\+44)[1-9]{1}\\d{1,4}?\\)?\\s?\\d{3,4}\\s?\\d{3,4})$/);\n            },\n            $.mage.__('Please specify a valid phone number')\n        ],\n        'mobileUK': [\n            function (phoneNumber, element) {\n                return this.optional(element) || phoneNumber.length > 9 &&\n                    phoneNumber.match(/^((0|\\+44)7\\d{3}\\s?\\d{6})$/);\n            },\n            $.mage.__('Please specify a valid mobile number')\n        ],\n        'stripped-min-length': [\n            function (value, element, param) {\n                return value.length >= param;\n            },\n            $.mage.__('Please enter at least {0} characters')\n        ],\n\n        /* detect chars that would require more than 3 bytes */\n        'validate-no-utf8mb4-characters': [\n            function (value) {\n                var validator = this,\n                    message = $.mage.__('Please remove invalid characters: {0}.'),\n                    matches = value.match(/(?:[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/g),\n                    result = matches === null;\n\n                if (!result) {\n                    validator.charErrorMessage = message.replace('{0}', matches.join());\n                }\n\n                return result;\n            }, function () {\n                return this.charErrorMessage;\n            }\n        ],\n\n        /* eslint-disable max-len */\n        'email2': [\n            function (value, element) {\n                return this.optional(element) ||\n                    /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)*(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?$/i.test(value);\n            },\n            $.validator.messages.email\n        ],\n        'url2': [\n            function (value, element) {\n                return this.optional(element) || /^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)*(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i.test(value);\n            },\n            $.validator.messages.url\n        ],\n\n        /* eslint-enable max-len */\n        'credit-card-types': [\n            function (value, element, param) {\n                var validTypes;\n\n                if (/[^0-9-]+/.test(value)) {\n                    return false;\n                }\n                value = value.replace(/\\D/g, '');\n\n                validTypes = 0x0000;\n\n                if (param.mastercard) {\n                    validTypes |= 0x0001;\n                }\n\n                if (param.visa) {\n                    validTypes |= 0x0002;\n                }\n\n                if (param.amex) {\n                    validTypes |= 0x0004;\n                }\n\n                if (param.dinersclub) {\n                    validTypes |= 0x0008;\n                }\n\n                if (param.enroute) {\n                    validTypes |= 0x0010;\n                }\n\n                if (param.discover) {\n                    validTypes |= 0x0020;\n                }\n\n                if (param.jcb) {\n                    validTypes |= 0x0040;\n                }\n\n                if (param.unknown) {\n                    validTypes |= 0x0080;\n                }\n\n                if (param.all) {\n                    validTypes = 0x0001 | 0x0002 | 0x0004 | 0x0008 | 0x0010 | 0x0020 | 0x0040 | 0x0080;\n                }\n\n                if (validTypes & 0x0001 && /^(51|52|53|54|55)/.test(value)) { //mastercard\n                    return value.length === 16;\n                }\n\n                if (validTypes & 0x0002 && /^(4)/.test(value)) { //visa\n                    return value.length === 16;\n                }\n\n                if (validTypes & 0x0004 && /^(34|37)/.test(value)) { //amex\n                    return value.length === 15;\n                }\n\n                if (validTypes & 0x0008 && /^(300|301|302|303|304|305|36|38)/.test(value)) { //dinersclub\n                    return value.length === 14;\n                }\n\n                if (validTypes & 0x0010 && /^(2014|2149)/.test(value)) { //enroute\n                    return value.length === 15;\n                }\n\n                if (validTypes & 0x0020 && /^(6011)/.test(value)) { //discover\n                    return value.length === 16;\n                }\n\n                if (validTypes & 0x0040 && /^(3)/.test(value)) { //jcb\n                    return value.length === 16;\n                }\n\n                if (validTypes & 0x0040 && /^(2131|1800)/.test(value)) { //jcb\n                    return value.length === 15;\n                }\n\n                if (validTypes & 0x0080) { //unknown\n                    return true;\n                }\n\n                return false;\n            },\n            $.mage.__('Please enter a valid credit card number.')\n        ],\n\n        /* eslint-disable max-len */\n        'ipv4': [\n            function (value, element) {\n                return this.optional(element) ||\n                    /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i.test(value);\n            },\n            $.mage.__('Please enter a valid IP v4 address.')\n        ],\n        'ipv6': [\n            function (value, element) {\n                return this.optional(element) || /^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(value);\n            },\n            $.mage.__('Please enter a valid IP v6 address.')\n        ],\n\n        /* eslint-enable max-len */\n        'pattern': [\n            function (value, element, param) {\n                return this.optional(element) || new RegExp(param).test(value);\n            },\n            $.mage.__('Invalid format.')\n        ],\n        'allow-container-className': [\n            function (element) {\n                if (element.type === 'radio' || element.type === 'checkbox') {\n                    return $(element).hasClass('change-container-classname');\n                }\n            },\n            ''\n        ],\n        'validate-no-html-tags': [\n            function (value) {\n                return !/<(\\/)?\\w+/.test(value);\n            },\n            $.mage.__('HTML tags are not allowed.')\n        ],\n        'validate-select': [\n            function (value) {\n                return value !== 'none' && value != null && value.length !== 0;\n            },\n            $.mage.__('Please select an option.')\n        ],\n        'validate-no-empty': [\n            function (value) {\n                return !$.mage.isEmpty(value);\n            },\n            $.mage.__('Empty Value.')\n        ],\n        'validate-alphanum-with-spaces': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^[a-zA-Z0-9 ]+$/.test(v);\n            },\n            $.mage.__('Please use only letters (a-z or A-Z), numbers (0-9) or spaces only in this field.')\n        ],\n        'validate-data': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^[A-Za-z]+[A-Za-z0-9_]+$/.test(v);\n            },\n            $.mage.__('Please use only letters (a-z or A-Z), numbers (0-9) or underscore (_) in this field, and the first character should be a letter.') //eslint-disable-line max-len\n        ],\n        'validate-street': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^[ \\w]{3,}([A-Za-z]\\.)?([ \\w]*\\#\\d+)?(\\r\\n| )[ \\w]{3,}/.test(v);\n            },\n            $.mage.__('Please use only letters (a-z or A-Z), numbers (0-9), spaces and \"#\" in this field.')\n        ],\n        'validate-phoneStrict': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^(\\()?\\d{3}(\\))?(-|\\s)?\\d{3}(-|\\s)\\d{4}$/.test(v);\n            },\n            $.mage.__('Please enter a valid phone number. For example (123) 456-7890 or 123-456-7890.')\n        ],\n        'validate-phoneLax': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) ||\n                    /^((\\d[\\-. ]?)?((\\(\\d{3}\\))|\\d{3}))?[\\-. ]?\\d{3}[\\-. ]?\\d{4}$/.test(v);\n            },\n            $.mage.__('Please enter a valid phone number. For example (123) 456-7890 or 123-456-7890.')\n        ],\n        'validate-fax': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^(\\()?\\d{3}(\\))?(-|\\s)?\\d{3}(-|\\s)\\d{4}$/.test(v);\n            },\n            $.mage.__('Please enter a valid fax number (Ex: 123-456-7890).')\n        ],\n        'validate-email': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^([a-z0-9,!\\#\\$%&'\\*\\+\\/=\\?\\^_`\\{\\|\\}~-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z0-9,!\\#\\$%&'\\*\\+\\/=\\?\\^_`\\{\\|\\}~-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*@([a-z0-9-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z0-9-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*\\.(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]){2,})$/i.test(v); //eslint-disable-line max-len\n            },\n            $.mage.__('Please enter a valid email address (Ex: johndoe@domain.com).')\n        ],\n        'validate-emailSender': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^[\\S ]+$/.test(v);\n            },\n            $.mage.__('Please enter a valid email address (Ex: johndoe@domain.com).')\n        ],\n        'validate-password': [\n            function (v) {\n                var pass;\n\n                if (v == null) {\n                    return false;\n                }\n                //strip leading and trailing spaces\n                pass = $.trim(v);\n\n                if (!pass.length) {\n                    return true;\n                }\n\n                return !(pass.length > 0 && pass.length < 6);\n            },\n            $.mage.__('Please enter 6 or more characters. Leading and trailing spaces will be ignored.')\n        ],\n        'validate-admin-password': [\n            function (v) {\n                var pass;\n\n                if (v == null) {\n                    return false;\n                }\n                pass = $.trim(v);\n                // strip leading and trailing spaces\n                if (pass.length === 0) {\n                    return true;\n                }\n\n                if (!/[a-z]/i.test(v) || !/[0-9]/.test(v)) {\n                    return false;\n                }\n\n                if (pass.length < 7) {\n                    return false;\n                }\n\n                return true;\n            },\n            $.mage.__('Please enter 7 or more characters, using both numeric and alphabetic.')\n        ],\n        'validate-customer-password': [\n            function (v, elm) {\n                var validator = this,\n                    counter = 0,\n                    passwordMinLength = $(elm).data('password-min-length'),\n                    passwordMinCharacterSets = $(elm).data('password-min-character-sets'),\n                    pass = $.trim(v),\n                    result = pass.length >= passwordMinLength;\n\n                if (result === false) {\n                    validator.passwordErrorMessage = $.mage.__('Minimum length of this field must be equal or greater than %1 symbols. Leading and trailing spaces will be ignored.').replace('%1', passwordMinLength); //eslint-disable-line max-len\n\n                    return result;\n                }\n\n                if (pass.match(/\\d+/)) {\n                    counter++;\n                }\n\n                if (pass.match(/[a-z]+/)) {\n                    counter++;\n                }\n\n                if (pass.match(/[A-Z]+/)) {\n                    counter++;\n                }\n\n                if (pass.match(/[^a-zA-Z0-9]+/)) {\n                    counter++;\n                }\n\n                if (counter < passwordMinCharacterSets) {\n                    result = false;\n                    validator.passwordErrorMessage = $.mage.__('Minimum of different classes of characters in password is %1. Classes of characters: Lower Case, Upper Case, Digits, Special Characters.').replace('%1', passwordMinCharacterSets); //eslint-disable-line max-len\n                }\n\n                return result;\n            }, function () {\n                return this.passwordErrorMessage;\n            }\n        ],\n        'validate-url': [\n            function (v) {\n                if ($.mage.isEmptyNoTrim(v)) {\n                    return true;\n                }\n                v = (v || '').replace(/^\\s+/, '').replace(/\\s+$/, '');\n\n                return (/^(http|https|ftp):\\/\\/(([A-Z0-9]([A-Z0-9_-]*[A-Z0-9]|))(\\.[A-Z0-9]([A-Z0-9_-]*[A-Z0-9]|))*)(:(\\d+))?(\\/[A-Z0-9~](([A-Z0-9_~-]|\\.)*[A-Z0-9~]|))*\\/?(.*)?$/i).test(v); //eslint-disable-line max-len\n\n            },\n            $.mage.__('Please enter a valid URL. Protocol is required (http://, https:// or ftp://).')\n        ],\n        'validate-clean-url': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^(http|https|ftp):\\/\\/(([A-Z0-9][A-Z0-9_-]*)(\\.[A-Z0-9][A-Z0-9_-]*)+.(com|org|net|dk|at|us|tv|info|uk|co.uk|biz|se)$)(:(\\d+))?\\/?/i.test(v) || /^(www)((\\.[A-Z0-9][A-Z0-9_-]*)+.(com|org|net|dk|at|us|tv|info|uk|co.uk|biz|se)$)(:(\\d+))?\\/?/i.test(v); //eslint-disable-line max-len\n\n            },\n            $.mage.__('Please enter a valid URL. For example http://www.example.com or www.example.com.')\n        ],\n        'validate-xml-identifier': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^[A-Z][A-Z0-9_\\/-]*$/i.test(v);\n\n            },\n            $.mage.__('Please enter a valid XML-identifier (Ex: something_1, block5, id-4).')\n        ],\n        'validate-ssn': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^\\d{3}-?\\d{2}-?\\d{4}$/.test(v);\n\n            },\n            $.mage.__('Please enter a valid social security number (Ex: 123-45-6789).')\n        ],\n        'validate-zip-us': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /(^\\d{5}$)|(^\\d{5}-\\d{4}$)/.test(v);\n\n            },\n            $.mage.__('Please enter a valid zip code (Ex: 90602 or 90602-1234).')\n        ],\n        'validate-date-au': [\n            function (v) {\n                var regex, d;\n\n                if ($.mage.isEmptyNoTrim(v)) {\n                    return true;\n                }\n                regex = /^(\\d{2})\\/(\\d{2})\\/(\\d{4})$/;\n\n                if ($.mage.isEmpty(v) || !regex.test(v)) {\n                    return false;\n                }\n                d = new Date(v.replace(regex, '$2/$1/$3'));\n\n                return parseInt(RegExp.$2, 10) === 1 + d.getMonth() &&\n                    parseInt(RegExp.$1, 10) === d.getDate() &&\n                    parseInt(RegExp.$3, 10) === d.getFullYear();\n\n            },\n            $.mage.__('Please use this date format: dd/mm/yyyy. For example 17/03/2006 for the 17th of March, 2006.')\n        ],\n        'validate-currency-dollar': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^\\$?\\-?([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}\\d*(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$/.test(v); //eslint-disable-line max-len\n\n            },\n            $.mage.__('Please enter a valid $ amount. For example $100.00.')\n        ],\n        'validate-not-negative-number': [\n            function (v) {\n                if ($.mage.isEmptyNoTrim(v)) {\n                    return true;\n                }\n                v = $.mage.parseNumber(v);\n\n                return !isNaN(v) && v >= 0;\n\n            },\n            $.mage.__('Please enter a number 0 or greater in this field.')\n        ],\n        // validate-not-negative-number should be replaced in all places with this one and then removed\n        'validate-zero-or-greater': [\n            function (v) {\n                if ($.mage.isEmptyNoTrim(v)) {\n                    return true;\n                }\n                v = $.mage.parseNumber(v);\n\n                return !isNaN(v) && v >= 0;\n\n            },\n            $.mage.__('Please enter a number 0 or greater in this field.')\n        ],\n        'validate-greater-than-zero': [\n            function (v) {\n                if ($.mage.isEmptyNoTrim(v)) {\n                    return true;\n                }\n                v = $.mage.parseNumber(v);\n\n                return !isNaN(v) && v > 0;\n            },\n            $.mage.__('Please enter a number greater than 0 in this field.')\n        ],\n        'validate-css-length': [\n            function (v) {\n                if (v !== '') {\n                    return (/^[0-9]*\\.*[0-9]+(px|pc|pt|ex|em|mm|cm|in|%)?$/).test(v);\n                }\n\n                return true;\n            },\n            $.mage.__('Please input a valid CSS-length (Ex: 100px, 77pt, 20em, .5ex or 50%).')\n        ],\n        // Additional methods\n        'validate-number': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || !isNaN($.mage.parseNumber(v)) && /^\\s*-?\\d*(\\.\\d*)?\\s*$/.test(v);\n            },\n            $.mage.__('Please enter a valid number in this field.')\n        ],\n        'required-number': [\n            function (v) {\n                return !!v.length;\n            },\n            $.mage.__('Please enter a valid number in this field.')\n        ],\n        'validate-number-range': [\n            function (v, elm, param) {\n                var numValue, dataAttrRange, classNameRange, result, range, m, classes, ii;\n\n                if ($.mage.isEmptyNoTrim(v)) {\n                    return true;\n                }\n\n                numValue = $.mage.parseNumber(v);\n\n                if (isNaN(numValue)) {\n                    return false;\n                }\n\n                dataAttrRange = /^(-?[\\d.,]+)?-(-?[\\d.,]+)?$/;\n                classNameRange = /^number-range-(-?[\\d.,]+)?-(-?[\\d.,]+)?$/;\n                result = true;\n                range = param;\n\n                if (typeof range === 'string') {\n                    m = dataAttrRange.exec(range);\n\n                    if (m) {\n                        result = result && $.mage.isBetween(numValue, m[1], m[2]);\n                    } else {\n                        result = false;\n                    }\n                } else if (elm && elm.className) {\n                    classes = elm.className.split(' ');\n                    ii = classes.length;\n\n                    while (ii--) {\n                        range = classes[ii];\n                        m = classNameRange.exec(range);\n\n                        if (m) { //eslint-disable-line max-depth\n                            result = result && $.mage.isBetween(numValue, m[1], m[2]);\n                            break;\n                        }\n                    }\n                }\n\n                return result;\n            },\n            $.mage.__('The value is not within the specified range.'),\n            true\n        ],\n        'validate-digits': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || !/[^\\d]/.test(v);\n            },\n            $.mage.__('Please enter a valid number in this field.')\n        ],\n        'validate-forbidden-extensions': [\n            function (v, elem) {\n                var forbiddenExtensions = $(elem).attr('data-validation-params'),\n                    forbiddenExtensionsArray = forbiddenExtensions.split(','),\n                    extensionsArray = v.split(','),\n                    result = true;\n\n                this.validateExtensionsMessage = $.mage.__('Forbidden extensions has been used. Avoid usage of ') +\n                    forbiddenExtensions;\n\n                $.each(extensionsArray, function (key, extension) {\n                    if (forbiddenExtensionsArray.indexOf(extension) !== -1) {\n                        result = false;\n                    }\n                });\n\n                return result;\n            }, function () {\n                return this.validateExtensionsMessage;\n            }\n        ],\n        'validate-digits-range': [\n            function (v, elm, param) {\n                var numValue, dataAttrRange, classNameRange, result, range, m, classes, ii;\n\n                if ($.mage.isEmptyNoTrim(v)) {\n                    return true;\n                }\n\n                numValue = $.mage.parseNumber(v);\n\n                if (isNaN(numValue)) {\n                    return false;\n                }\n\n                dataAttrRange = /^(-?\\d+)?-(-?\\d+)?$/;\n                classNameRange = /^digits-range-(-?\\d+)?-(-?\\d+)?$/;\n                result = true;\n                range = param;\n\n                if (typeof range === 'string') {\n                    m = dataAttrRange.exec(range);\n\n                    if (m) {\n                        result = result && $.mage.isBetween(numValue, m[1], m[2]);\n                    } else {\n                        result = false;\n                    }\n                } else if (elm && elm.className) {\n                    classes = elm.className.split(' ');\n                    ii = classes.length;\n\n                    while (ii--) {\n                        range = classes[ii];\n                        m = classNameRange.exec(range);\n\n                        if (m) { //eslint-disable-line max-depth\n                            result = result && $.mage.isBetween(numValue, m[1], m[2]);\n                            break;\n                        }\n                    }\n                }\n\n                return result;\n            },\n            $.mage.__('The value is not within the specified range.'),\n            true\n        ],\n        'validate-range': [\n            function (v, elm) {\n                var minValue, maxValue, ranges, reRange, result, values,\n                    i, name, validRange, minValidRange, maxValidRange;\n\n                if ($.mage.isEmptyNoTrim(v)) {\n                    return true;\n                } else if ($.validator.methods['validate-digits'] && $.validator.methods['validate-digits'](v)) {\n                    minValue = maxValue = $.mage.parseNumber(v);\n                } else {\n                    ranges = /^(-?\\d+)?-(-?\\d+)?$/.exec(v);\n\n                    if (ranges) {\n                        minValue = $.mage.parseNumber(ranges[1]);\n                        maxValue = $.mage.parseNumber(ranges[2]);\n\n                        if (minValue > maxValue) { //eslint-disable-line max-depth\n                            return false;\n                        }\n                    } else {\n                        return false;\n                    }\n                }\n                reRange = /^range-(-?\\d+)?-(-?\\d+)?$/;\n                result = true;\n                values = $(elm).prop('class').split(' ');\n\n                for (i = values.length - 1; i >= 0; i--) {\n                    name = values[i];\n                    validRange = reRange.exec(name);\n\n                    if (validRange) {\n                        minValidRange = $.mage.parseNumber(validRange[1]);\n                        maxValidRange = $.mage.parseNumber(validRange[2]);\n                        result = result &&\n                            (isNaN(minValidRange) || minValue >= minValidRange) &&\n                            (isNaN(maxValidRange) || maxValue <= maxValidRange);\n                    }\n                }\n\n                return result;\n            },\n            $.mage.__('The value is not within the specified range.')\n        ],\n        'validate-alpha': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^[a-zA-Z]+$/.test(v);\n            },\n            $.mage.__('Please use letters only (a-z or A-Z) in this field.')\n        ],\n        'validate-code': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^[a-zA-Z]+[a-zA-Z0-9_]+$/.test(v);\n            },\n            $.mage.__('Please use only letters (a-z or A-Z), numbers (0-9) or underscore (_) in this field, and the first character should be a letter.') //eslint-disable-line max-len\n        ],\n        'validate-alphanum': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^[a-zA-Z0-9]+$/.test(v);\n            },\n            $.mage.__('Please use only letters (a-z or A-Z) or numbers (0-9) in this field. No spaces or other characters are allowed.') //eslint-disable-line max-len\n        ],\n        'validate-not-number-first': [\n            function (value) {\n                return $.mage.isEmptyNoTrim(value) || /^[^0-9-\\.].*$/.test(value.trim());\n            },\n            $.mage.__('First character must be letter.')\n        ],\n        'validate-date': [\n            function (value, params, additionalParams) {\n                var test = moment(value, utils.convertToMomentFormat(additionalParams.dateFormat));\n\n                return $.mage.isEmptyNoTrim(value) || test.isValid();\n            },\n            $.mage.__('Please enter a valid date.')\n\n        ],\n        'validate-date-range': [\n            function (v, elm) {\n                var m = /\\bdate-range-(\\w+)-(\\w+)\\b/.exec(elm.className),\n                    currentYear, normalizedTime, dependentElements;\n\n                if (!m || m[2] === 'to' || $.mage.isEmptyNoTrim(v)) {\n                    return true;\n                }\n\n                currentYear = new Date().getFullYear() + '';\n\n                /**\n                 * @param {String} vd\n                 * @return {Number}\n                 */\n                normalizedTime = function (vd) {\n                    vd = vd.split(/[.\\/]/);\n\n                    if (vd[2] && vd[2].length < 4) {\n                        vd[2] = currentYear.substr(0, vd[2].length) + vd[2];\n                    }\n\n                    return new Date(vd.join('/')).getTime();\n                };\n\n                dependentElements = $(elm.form).find('.validate-date-range.date-range-' + m[1] + '-to');\n\n                return !dependentElements.length || $.mage.isEmptyNoTrim(dependentElements[0].value) ||\n                    normalizedTime(v) <= normalizedTime(dependentElements[0].value);\n            },\n            $.mage.__('Make sure the To Date is later than or the same as the From Date.')\n        ],\n        'validate-cpassword': [\n            function () {\n                var conf = $('#confirmation').length > 0 ? $('#confirmation') : $($('.validate-cpassword')[0]),\n                    pass = false,\n                    passwordElements, i, passwordElement;\n\n                if ($('#password')) {\n                    pass = $('#password');\n                }\n                passwordElements = $('.validate-password');\n\n                for (i = 0; i < passwordElements.length; i++) {\n                    passwordElement = $(passwordElements[i]);\n\n                    if (passwordElement.closest('form').attr('id') === conf.closest('form').attr('id')) {\n                        pass = passwordElement;\n                    }\n                }\n\n                if ($('.validate-admin-password').length) {\n                    pass = $($('.validate-admin-password')[0]);\n                }\n\n                return pass.val() === conf.val();\n            },\n            $.mage.__('Please make sure your passwords match.')\n        ],\n        'validate-identifier': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^[a-z0-9][a-z0-9_\\/-]+(\\.[a-z0-9_-]+)?$/.test(v);\n            },\n            $.mage.__('Please enter a valid URL Key (Ex: \"example-page\", \"example-page.html\" or \"anotherlevel/example-page\").') //eslint-disable-line max-len\n        ],\n        'validate-zip-international': [\n\n            /*function(v) {\n             // @TODO: Cleanup\n             return Validation.get('IsEmpty').test(v) ||\n             /(^[A-z0-9]{2,10}([\\s]{0,1}|[\\-]{0,1})[A-z0-9]{2,10}$)/.test(v);\n             }*/\n            function () {\n                return true;\n            },\n            $.mage.__('Please enter a valid zip code.')\n        ],\n        'validate-one-required': [\n            function (v, elm) {\n                var p = $(elm).parent(),\n                    options = p.find('input');\n\n                return options.map(function (el) {\n                    return $(el).val();\n                }).length > 0;\n            },\n            $.mage.__('Please select one of the options above.')\n        ],\n        'validate-state': [\n            function (v) {\n                return v !== 0;\n            },\n            $.mage.__('Please select State/Province.')\n        ],\n        'required-file': [\n            function (v, elm) {\n                var result = !$.mage.isEmptyNoTrim(v),\n                    ovId;\n\n                if (!result) {\n                    ovId = $('#' + $(elm).attr('id') + '_value');\n\n                    if (ovId.length > 0) {\n                        result = !$.mage.isEmptyNoTrim(ovId.val());\n                    }\n                }\n\n                return result;\n            },\n            $.mage.__('Please select a file.')\n        ],\n        'validate-ajax-error': [\n            function (v, element) {\n                element = $(element);\n                element.on('change.ajaxError', function () {\n                    element.removeClass('validate-ajax-error');\n                    element.off('change.ajaxError');\n                });\n\n                return !element.hasClass('validate-ajax-error');\n            },\n            ''\n        ],\n        'validate-optional-datetime': [\n            function (v, elm, param) {\n                var dateTimeParts = $('.datetime-picker[id^=\"options_' + param + '\"]'),\n                    hasWithValue = false,\n                    hasWithNoValue = false,\n                    pattern = /day_part$/i,\n                    i;\n\n                for (i = 0; i < dateTimeParts.length; i++) {\n                    if (!pattern.test($(dateTimeParts[i]).attr('id'))) {\n                        if ($(dateTimeParts[i]).val() === 's') { //eslint-disable-line max-depth\n                            hasWithValue = true;\n                        } else {\n                            hasWithNoValue = true;\n                        }\n                    }\n                }\n\n                return hasWithValue ^ hasWithNoValue;\n            },\n            $.mage.__('The field isn\\'t complete.')\n        ],\n        'validate-required-datetime': [\n            function (v, elm, param) {\n                var dateTimeParts = $('.datetime-picker[id^=\"options_' + param + '\"]'),\n                    i;\n\n                for (i = 0; i < dateTimeParts.length; i++) {\n                    if (dateTimeParts[i].value === '') {\n                        return false;\n                    }\n                }\n\n                return true;\n            },\n            $.mage.__('This is a required field.')\n        ],\n        'validate-one-required-by-name': [\n            function (v, elm, selector) {\n                var name = elm.name.replace(/([\\\\\"])/g, '\\\\$1'),\n                    container = this.currentForm;\n\n                selector = selector === true ? 'input[name=\"' + name + '\"]:checked' : selector;\n\n                return !!container.querySelectorAll(selector).length;\n            },\n            $.mage.__('Please select one of the options.')\n        ],\n        'less-than-equals-to': [\n            function (value, element, params) {\n                if ($.isNumeric($(params).val()) && $.isNumeric(value)) {\n                    this.lteToVal = $(params).val();\n\n                    return parseFloat(value) <= parseFloat($(params).val());\n                }\n\n                return true;\n            },\n            function () {\n                var message = $.mage.__('Please enter a value less than or equal to %s.');\n\n                return message.replace('%s', this.lteToVal);\n            }\n        ],\n        'greater-than-equals-to': [\n            function (value, element, params) {\n                if ($.isNumeric($(params).val()) && $.isNumeric(value)) {\n                    this.gteToVal = $(params).val();\n\n                    return parseFloat(value) >= parseFloat($(params).val());\n                }\n\n                return true;\n            },\n            function () {\n                var message = $.mage.__('Please enter a value greater than or equal to %s.');\n\n                return message.replace('%s', this.gteToVal);\n            }\n        ],\n        'validate-emails': [\n            function (value) {\n                var validRegexp, emails, i;\n\n                if ($.mage.isEmpty(value)) {\n                    return true;\n                }\n                validRegexp = /^([a-z0-9,!\\#\\$%&'\\*\\+\\/=\\?\\^_`\\{\\|\\}~-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z0-9,!\\#\\$%&'\\*\\+\\/=\\?\\^_`\\{\\|\\}~-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*@([a-z0-9-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z0-9-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*\\.(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]){2,})$/i; //eslint-disable-line max-len\n                emails = value.split(/[\\s\\n\\,]+/g);\n\n                for (i = 0; i < emails.length; i++) {\n                    if (!validRegexp.test(emails[i].trim())) {\n                        return false;\n                    }\n                }\n\n                return true;\n            },\n            $.mage.__('Please enter valid email addresses, separated by commas. For example, johndoe@domain.com, johnsmith@domain.com.') //eslint-disable-line max-len\n        ],\n\n        'validate-cc-type-select': [\n\n            /**\n             * Validate credit card type matches credit card number\n             * @param {*} value - select credit card type\n             * @param {*} element - element contains the select box for credit card types\n             * @param {*} params - selector for credit card number\n             * @return {Boolean}\n             */\n            function (value, element, params) {\n                if (value && params && creditCartTypes[value]) {\n                    return creditCartTypes[value][0].test($(params).val().replace(/\\s+/g, ''));\n                }\n\n                return false;\n            },\n            $.mage.__('Card type does not match credit card number.')\n        ],\n        'validate-cc-number': [\n\n            /**\n             * Validate credit card number based on mod 10.\n             *\n             * @param {*} value - credit card number\n             * @return {Boolean}\n             */\n            function (value) {\n                if (value) {\n                    return validateCreditCard(value);\n                }\n\n                return false;\n            },\n            $.mage.__('Please enter a valid credit card number.')\n        ],\n        'validate-cc-type': [\n\n            /**\n             * Validate credit card number is for the correct credit card type.\n             *\n             * @param {String} value - credit card number\n             * @param {*} element - element contains credit card number\n             * @param {*} params - selector for credit card type\n             * @return {Boolean}\n             */\n            function (value, element, params) {\n                var ccType;\n\n                if (value && params) {\n                    ccType = $(params).val();\n                    value = value.replace(/\\s/g, '').replace(/\\-/g, '');\n\n                    if (creditCartTypes[ccType] && creditCartTypes[ccType][0]) {\n                        return creditCartTypes[ccType][0].test(value);\n                    } else if (creditCartTypes[ccType] && !creditCartTypes[ccType][0]) {\n                        return true;\n                    }\n                }\n\n                return false;\n            },\n            $.mage.__('Credit card number does not match credit card type.')\n        ],\n        'validate-cc-exp': [\n\n            /**\n             * Validate credit card expiration date, make sure it's within the year and not before current month.\n             *\n             * @param {*} value - month\n             * @param {*} element - element contains month\n             * @param {*} params - year selector\n             * @return {Boolean}\n             */\n            function (value, element, params) {\n                var isValid = false,\n                    month, year, currentTime, currentMonth, currentYear;\n\n                if (value && params) {\n                    month = value;\n                    year = $(params).val();\n                    currentTime = new Date();\n                    currentMonth = currentTime.getMonth() + 1;\n                    currentYear = currentTime.getFullYear();\n\n                    isValid = !year || year > currentYear || year == currentYear && month >= currentMonth; //eslint-disable-line\n                }\n\n                return isValid;\n            },\n            $.mage.__('Incorrect credit card expiration date.')\n        ],\n        'validate-cc-cvn': [\n\n            /**\n             * Validate credit card cvn based on credit card type.\n             *\n             * @param {*} value - credit card cvn\n             * @param {*} element - element contains credit card cvn\n             * @param {*} params - credit card type selector\n             * @return {*}\n             */\n            function (value, element, params) {\n                var ccType;\n\n                if (value && params) {\n                    ccType = $(params).val();\n\n                    if (creditCartTypes[ccType] && creditCartTypes[ccType][0]) {\n                        return creditCartTypes[ccType][1].test(value);\n                    }\n                }\n\n                return false;\n            },\n            $.mage.__('Please enter a valid credit card verification number.')\n        ],\n        'validate-cc-ukss': [\n\n            /**\n             * Validate Switch/Solo/Maestro issue number and start date is filled.\n             *\n             * @param {*} value - input field value\n             * @return {*}\n             */\n            function (value) {\n                return value;\n            },\n            $.mage.__('Please enter issue number or start date for switch/solo card type.')\n        ],\n        'validate-length': [\n            function (v, elm) {\n                var reMax = new RegExp(/^maximum-length-[0-9]+$/),\n                    reMin = new RegExp(/^minimum-length-[0-9]+$/),\n                    validator = this,\n                    result = true,\n                    length = 0;\n\n                $.each(elm.className.split(' '), function (index, name) {\n                    if (name.match(reMax) && result) {\n                        length = name.split('-')[2];\n                        result = v.length <= length;\n                        validator.validateMessage =\n                            $.mage.__('Please enter less or equal than %1 symbols.').replace('%1', length);\n                    }\n\n                    if (name.match(reMin) && result && !$.mage.isEmpty(v)) {\n                        length = name.split('-')[2];\n                        result = v.length >= length;\n                        validator.validateMessage =\n                            $.mage.__('Please enter more or equal than %1 symbols.').replace('%1', length);\n                    }\n                });\n\n                return result;\n            }, function () {\n                return this.validateMessage;\n            }\n        ],\n        'required-entry': [\n            function (value) {\n                return !$.mage.isEmpty(value);\n            }, $.mage.__('This is a required field.')\n        ],\n        'not-negative-amount': [\n            function (v) {\n                if (v.length) {\n                    return (/^\\s*\\d+([,.]\\d+)*\\s*%?\\s*$/).test(v);\n                }\n\n                return true;\n            },\n            $.mage.__('Please enter positive number in this field.')\n        ],\n        'validate-per-page-value-list': [\n            function (v) {\n                var isValid = true,\n                    values = v.split(','),\n                    i;\n\n                if ($.mage.isEmpty(v)) {\n                    return isValid;\n                }\n\n                for (i = 0; i < values.length; i++) {\n                    if (!/^[0-9]+$/.test(values[i])) {\n                        isValid = false;\n                    }\n                }\n\n                return isValid;\n            },\n            $.mage.__('Please enter a valid value, ex: 10,20,30')\n        ],\n        'validate-per-page-value': [\n            function (v, elm) {\n                var values;\n\n                if ($.mage.isEmpty(v)) {\n                    return false;\n                }\n                values = $('#' + elm.id + '_values').val().split(',');\n\n                return values.indexOf(v) !== -1;\n            },\n            $.mage.__('Please enter a valid value from list')\n        ],\n        'validate-new-password': [\n            function (v) {\n                if ($.validator.methods['validate-password'] && !$.validator.methods['validate-password'](v)) {\n                    return false;\n                }\n\n                if ($.mage.isEmpty(v) && v !== '') {\n                    return false;\n                }\n\n                return true;\n            },\n            $.mage.__('Please enter 6 or more characters. Leading and trailing spaces will be ignored.')\n        ],\n        'required-if-not-specified': [\n            function (value, element, params) {\n                var valid = false,\n                    alternate = $(params),\n                    alternateValue;\n\n                if (alternate.length > 0) {\n                    valid = this.check(alternate);\n                    // if valid, it may be blank, so check for that\n                    if (valid) {\n                        alternateValue = alternate.val();\n\n                        if (typeof alternateValue == 'undefined' || alternateValue.length === 0) { //eslint-disable-line\n                            valid = false;\n                        }\n                    }\n                }\n\n                if (!valid) {\n                    valid = !this.optional(element);\n                }\n\n                return valid;\n            },\n            $.mage.__('This is a required field.')\n        ],\n        'required-if-all-sku-empty-and-file-not-loaded': [\n            function (value, element, params) {\n                var valid = false,\n                    alternate = $(params.specifiedId),\n                    alternateValue;\n\n                if (alternate.length > 0) {\n                    valid = this.check(alternate);\n                    // if valid, it may be blank, so check for that\n                    if (valid) {\n                        alternateValue = alternate.val();\n\n                        if (typeof alternateValue == 'undefined' || alternateValue.length === 0) { //eslint-disable-line\n                            valid = false;\n                        }\n                    }\n                }\n\n                if (!valid) {\n                    valid = !this.optional(element);\n                }\n\n                $('input[' + params.dataSku + '=true]').each(function () {\n                    if ($(this).val() !== '') {\n                        valid = true;\n                    }\n                });\n\n                return valid;\n            },\n            $.mage.__('Please enter valid SKU key.')\n        ],\n        'required-if-specified': [\n            function (value, element, params) {\n                var valid = true,\n                    dependent = $(params),\n                    dependentValue;\n\n                if (dependent.length > 0) {\n                    valid = this.check(dependent);\n                    // if valid, it may be blank, so check for that\n                    if (valid) {\n                        dependentValue = dependent.val();\n                        valid = typeof dependentValue != 'undefined' && dependentValue.length > 0;\n                    }\n                }\n\n                if (valid) {\n                    valid = !this.optional(element);\n                } else {\n                    valid = true; // dependent was not valid, so don't even check\n                }\n\n                return valid;\n            },\n            $.mage.__('This is a required field.')\n        ],\n        'required-number-if-specified': [\n            function (value, element, params) {\n                var valid = true,\n                    dependent = $(params),\n                    depeValue;\n\n                if (dependent.length) {\n                    valid = this.check(dependent);\n\n                    if (valid) {\n                        depeValue = dependent[0].value;\n                        valid = !!(depeValue && depeValue.length);\n                    }\n                }\n\n                return valid ? !!value.length : true;\n            },\n            $.mage.__('Please enter a valid number.')\n        ],\n        'datetime-validation': [\n            function (value, element) {\n                var isValid = true;\n\n                if ($(element).val().length === 0) {\n                    isValid = false;\n                    $(element).addClass('mage-error');\n                }\n\n                return isValid;\n            },\n            $.mage.__('This is required field')\n        ],\n        'required-text-swatch-entry': [\n            tableSingleValidation,\n            $.mage.__('Admin is a required field in each row.')\n        ],\n        'required-visual-swatch-entry': [\n            tableSingleValidation,\n            $.mage.__('Admin is a required field in each row.')\n        ],\n        'required-dropdown-attribute-entry': [\n            tableSingleValidation,\n            $.mage.__('Admin is a required field in each row.')\n        ],\n        'validate-item-quantity': [\n            function (value, element, params) {\n                var validator = this,\n                    result = false,\n                    // obtain values for validation\n                    qty = $.mage.parseNumber(value),\n                    isMinAllowedValid = typeof params.minAllowed === 'undefined' ||\n                        qty >= $.mage.parseNumber(params.minAllowed),\n                    isMaxAllowedValid = typeof params.maxAllowed === 'undefined' ||\n                        qty <= $.mage.parseNumber(params.maxAllowed),\n                    isQtyIncrementsValid = typeof params.qtyIncrements === 'undefined' ||\n                        resolveModulo(qty, $.mage.parseNumber(params.qtyIncrements)) === 0.0;\n\n                result = qty > 0;\n\n                if (result === false) {\n                    validator.itemQtyErrorMessage = $.mage.__('Please enter a quantity greater than 0.');//eslint-disable-line max-len\n\n                    return result;\n                }\n\n                result = isMinAllowedValid;\n\n                if (result === false) {\n                    validator.itemQtyErrorMessage = $.mage.__('The fewest you may purchase is %1.').replace('%1', params.minAllowed);//eslint-disable-line max-len\n\n                    return result;\n                }\n\n                result = isMaxAllowedValid;\n\n                if (result === false) {\n                    validator.itemQtyErrorMessage = $.mage.__('The maximum you may purchase is %1.').replace('%1', params.maxAllowed);//eslint-disable-line max-len\n\n                    return result;\n                }\n\n                result = isQtyIncrementsValid;\n\n                if (result === false) {\n                    validator.itemQtyErrorMessage = $.mage.__('You can buy this product only in quantities of %1 at a time.').replace('%1', params.qtyIncrements);//eslint-disable-line max-len\n\n                    return result;\n                }\n\n                return result;\n            }, function () {\n                return this.itemQtyErrorMessage;\n            }\n        ],\n        'password-not-equal-to-user-name': [\n            function (value, element, params) {\n                if (typeof params === 'string') {\n                    return value.toLowerCase() !== params.toLowerCase();\n                }\n\n                return true;\n            },\n            $.mage.__('The password can\\'t be the same as the email address. Create a new password and try again.')\n        ]\n    };\n\n    $.each(rules, function (i, rule) {\n        rule.unshift(i);\n        $.validator.addMethod.apply($.validator, rule);\n    });\n    $.validator.addClassRules({\n        'required-option': {\n            required: true\n        },\n        'required-options-count': {\n            required: true\n        },\n        'validate-both-passwords': {\n            'validate-cpassword': true\n        }\n    });\n    $.validator.messages = $.extend($.validator.messages, {\n        required: $.mage.__('This is a required field.'),\n        remote: $.mage.__('Please fix this field.'),\n        email: $.mage.__('Please enter a valid email address.'),\n        url: $.mage.__('Please enter a valid URL.'),\n        date: $.mage.__('Please enter a valid date.'),\n        dateISO: $.mage.__('Please enter a valid date (ISO).'),\n        number: $.mage.__('Please enter a valid number.'),\n        digits: $.mage.__('Please enter only digits.'),\n        creditcard: $.mage.__('Please enter a valid credit card number.'),\n        equalTo: $.mage.__('Please enter the same value again.'),\n        maxlength: $.validator.format($.mage.__('Please enter no more than {0} characters.')),\n        minlength: $.validator.format($.mage.__('Please enter at least {0} characters.')),\n        rangelength: $.validator.format($.mage.__('Please enter a value between {0} and {1} characters long.')),\n        range: $.validator.format($.mage.__('Please enter a value between {0} and {1}.')),\n        max: $.validator.format($.mage.__('Please enter a value less than or equal to {0}.')),\n        min: $.validator.format($.mage.__('Please enter a value greater than or equal to {0}.'))\n    });\n\n    if ($.metadata) {\n        // Setting the type as html5 to enable data-validate attribute\n        $.metadata.setType('html5');\n    }\n\n    showLabel = $.validator.prototype.showLabel;\n    $.extend(true, $.validator.prototype, {\n        /**\n         * @param {*} element\n         * @param {*} message\n         */\n        showLabel: function (element, message) {\n            var label, elem;\n\n            showLabel.call(this, element, message);\n\n            // ARIA (adding aria-invalid & aria-describedby)\n            label = this.errorsFor(element);\n            elem = $(element);\n\n            if (!label.attr('id')) {\n                label.attr('id', this.idOrName(element) + '-error');\n            }\n            elem.attr('aria-invalid', 'true')\n                .attr('aria-describedby', label.attr('id'));\n        }\n    });\n\n    /**\n     * Validate form field without instantiating validate plug-in.\n     *\n     * @param {Element|String} element - DOM element or selector\n     * @return {Boolean} validation result\n     */\n    $.validator.validateElement = function (element) {\n        var form, validator, valid, classes;\n\n        element = $(element);\n        form = element.get(0).form;\n        validator = form ? $(form).data('validator') : null;\n\n        if (validator) {\n            return validator.element(element.get(0));\n        }\n        valid = true;\n        classes = element.prop('class').split(' ');\n        $.each(classes, $.proxy(function (i, className) {\n            if (this.methods[className] && !this.methods[className](element.val(), element.get(0))) {\n                valid = false;\n\n                return valid;\n            }\n        }, this));\n\n        return valid;\n    };\n\n    originValidateDelegate = $.fn.validateDelegate;\n\n    /**\n     * @return {*}\n     */\n    $.fn.validateDelegate = function () {\n        if (!this[0].form) {\n            return this;\n        }\n\n        return originValidateDelegate.apply(this, arguments);\n    };\n\n    /**\n     * Validate single element.\n     *\n     * @param {Element} element\n     * @param {Object} config\n     * @returns {*}\n     */\n    $.validator.validateSingleElement = function (element, config) {\n        var errors = {},\n            valid = true,\n            validateConfig = {\n                errorElement: 'label',\n                ignore: '.ignore-validate',\n                hideError: false\n            },\n            form, validator, classes, elementValue;\n\n        $.extend(validateConfig, config);\n        element = $(element).not(validateConfig.ignore);\n\n        if (!element.length) {\n            return true;\n        }\n\n        form = element.get(0).form;\n        validator = form ? $(form).data('validator') : null;\n\n        if (validator) {\n            return validator.element(element.get(0));\n        }\n\n        classes = element.prop('class').split(' ');\n        validator = element.parent().data('validator') ||\n            $.mage.validation(validateConfig, element.parent()).validate;\n\n        element.removeClass(validator.settings.errorClass);\n        validator.toHide = validator.toShow;\n        validator.hideErrors();\n        validator.toShow = validator.toHide = $([]);\n\n        $.each(classes, $.proxy(function (i, className) {\n            elementValue = element.val();\n\n            if (element.is(':checkbox') || element.is(':radio')) {\n                elementValue = element.is(':checked') || null;\n            }\n\n            if (this.methods[className] && !this.methods[className](elementValue, element.get(0))) {\n                valid = false;\n                errors[element.get(0).name] = this.messages[className];\n                validator.invalid[element.get(0).name] = true;\n\n                if (!validateConfig.hideError) {\n                    validator.showErrors(errors);\n                }\n\n                return valid;\n            }\n        }, this));\n\n        return valid;\n    };\n\n    $.widget('mage.validation', {\n        options: {\n            meta: 'validate',\n            onfocusout: false,\n            onkeyup: false,\n            onclick: false,\n            ignoreTitle: true,\n            errorClass: 'mage-error',\n            errorElement: 'div',\n\n            /**\n             * @param {*} error\n             * @param {*} element\n             */\n            errorPlacement: function (error, element) {\n                var errorPlacement = element,\n                    fieldWrapper;\n\n                // logic for date-picker error placement\n                if (element.hasClass('_has-datepicker')) {\n                    errorPlacement = element.siblings('button');\n                }\n                // logic for field wrapper\n                fieldWrapper = element.closest('.addon');\n\n                if (fieldWrapper.length) {\n                    errorPlacement = fieldWrapper.after(error);\n                }\n                //logic for checkboxes/radio\n                if (element.is(':checkbox') || element.is(':radio')) {\n                    errorPlacement = element.parents('.control').children().last();\n\n                    //fallback if group does not have .control parent\n                    if (!errorPlacement.length) {\n                        errorPlacement = element.siblings('label').last();\n                    }\n                }\n                //logic for control with tooltip\n                if (element.siblings('.tooltip').length) {\n                    errorPlacement = element.siblings('.tooltip');\n                }\n                //logic for select with tooltip in after element\n                if (element.next().find('.tooltip').length) {\n                    errorPlacement = element.next();\n                }\n                errorPlacement.after(error);\n            }\n        },\n\n        /**\n         * Check if form pass validation rules without submit.\n         *\n         * @return boolean\n         */\n        isValid: function () {\n            return this.element.valid();\n        },\n\n        /**\n         * Remove validation error messages\n         */\n        clearError: function () {\n            if (arguments.length) {\n                $.each(arguments, $.proxy(function (index, item) {\n                    this.validate.prepareElement(item);\n                    this.validate.hideErrors();\n                }, this));\n            } else {\n                this.validate.resetForm();\n            }\n        },\n\n        /**\n         * Validation creation.\n         *\n         * @protected\n         */\n        _create: function () {\n            this.validate = this.element.validate(this.options);\n\n            // ARIA (adding aria-required attribute)\n            this.element\n                .find('.field.required')\n                .find('.control')\n                .find('input, select, textarea')\n                .attr('aria-required', 'true');\n\n            this._listenFormValidate();\n        },\n\n        /**\n         * Validation listening.\n         *\n         * @protected\n         */\n        _listenFormValidate: function () {\n            $('form').on('invalid-form.validate', this.listenFormValidateHandler);\n        },\n\n        /**\n         * Handle form validation. Focus on first invalid form field.\n         *\n         * @param {jQuery.Event} event\n         * @param {Object} validation\n         */\n        listenFormValidateHandler: function (event, validation) {\n            var firstActive = $(validation.errorList[0].element || []),\n                lastActive = $(validation.findLastActive() ||\n                    validation.errorList.length && validation.errorList[0].element || []),\n                windowHeight = $(window).height(),\n                parent, successList;\n\n            if (lastActive.is(':hidden')) {\n                parent = lastActive.parent();\n                $('html, body').animate({\n                    scrollTop: parent.offset().top - windowHeight / 2\n                });\n            }\n\n            // ARIA (removing aria attributes if success)\n            successList = validation.successList;\n\n            if (successList.length) {\n                $.each(successList, function () {\n                    $(this)\n                        .removeAttr('aria-describedby')\n                        .removeAttr('aria-invalid');\n                });\n            }\n\n            if (firstActive.length) {\n                $('html, body').stop().animate({\n                    scrollTop: firstActive.parent().offset().top - windowHeight / 2\n                });\n                firstActive.focus();\n            }\n        }\n    });\n\n    return $.mage.validation;\n});\n","mage/url.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* eslint-disable strict */\ndefine([], function () {\n    var baseUrl = '';\n\n    return {\n        /**\n         * @param {String} url\n         */\n        setBaseUrl: function (url) {\n            baseUrl = url;\n        },\n\n        /**\n         * @param {String} path\n         * @return {*}\n         */\n        build: function (path) {\n            if (path.indexOf(baseUrl) !== -1) {\n                return path;\n            }\n\n            return baseUrl + path;\n        }\n    };\n});\n","mage/trim-input.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    $.widget('mage.trimInput', {\n        options: {\n            cache: {}\n        },\n\n        /**\n         * Widget initialization\n         * @private\n         */\n        _create: function () {\n            this.options.cache.input = $(this.element);\n            this._bind();\n        },\n\n        /**\n         * Event binding, will monitor change, keyup and paste events.\n         * @private\n         */\n        _bind: function () {\n            if (this.options.cache.input.length) {\n                this._on(this.options.cache.input, {\n                    'change': this._trimInput,\n                    'keyup': this._trimInput,\n                    'paste': this._trimInput\n                });\n            }\n        },\n\n        /**\n         * Trim value\n         * @private\n         */\n        _trimInput: function () {\n            // Safari caret position workaround: storing carter position\n            var caretStart, caretEnd, input;\n\n            caretStart = this.options.cache.input.get(0).selectionStart;\n            caretEnd = this.options.cache.input.get(0).selectionEnd;\n\n            input = this._getInputValue().trim();\n\n            this.options.cache.input.val(input);\n\n            // Safari caret position workaround: setting caret position to previously stored values\n            if (caretStart !== null && caretEnd !== null) {\n                this.options.cache.input.get(0).setSelectionRange(caretStart, caretEnd);\n            }\n        },\n\n        /**\n         * Get input value\n         * @returns {*}\n         * @private\n         */\n        _getInputValue: function () {\n            return this.options.cache.input.val();\n        }\n    });\n\n    return $.mage.trimInput;\n});\n","mage/translate.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'mage/mage',\n    'mageTranslationDictionary',\n    'underscore'\n], function ($, mage, dictionary, _) {\n    'use strict';\n\n    $.extend(true, $, {\n        mage: {\n            translate: (function () {\n                /**\n                 * Key-value translations storage\n                 * @type {Object}\n                 * @private\n                 */\n                var _data = dictionary;\n\n                return {\n                    /**\n                     * Add new translation (two string parameters) or several translations (object)\n                     */\n                    add: function () {\n                        if (arguments.length > 1) {\n                            _data[arguments[0]] = arguments[1];\n                        } else if (typeof arguments[0] === 'object') {\n                            $.extend(_data, arguments[0]);\n                        }\n                    },\n\n                    /**\n                     * Make a translation with parsing (to handle case when _data represents tuple)\n                     * @param {String} text\n                     * @return {String}\n                     */\n                    translate: function (text) {\n                        return typeof _data[text] !== 'undefined' ? _data[text] : text;\n                    }\n                };\n            }())\n        }\n    });\n    $.mage.__ = $.proxy($.mage.translate.translate, $.mage.translate);\n\n    // Provide i18n wrapper to be used in underscore templates for translation\n    _.extend(_, {\n        /**\n         * Make a translation using $.mage.__\n         *\n         * @param {String} text\n         * @return {String}\n         */\n        i18n: function (text) {\n            return $.mage.__(text);\n        }\n    });\n\n    return $.mage.__;\n});\n","mage/smart-keyboard-handler.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    /**\n     * @return {Object}\n     * @constructor\n     */\n    function KeyboardHandler() {\n        var body = $('body'),\n            focusState = false,\n            tabFocusClass = '_keyfocus',\n            productsGrid = '[data-container=\"product-grid\"]',\n            catalogProductsGrid = $(productsGrid),\n            CODE_TAB = 9;\n\n        /**\n         * Handle logic, when onTabKeyPress fired at first.\n         * Then it changes state.\n         */\n        function onFocusInHandler() {\n            focusState = true;\n            body.addClass(tabFocusClass)\n                .off('focusin.keyboardHandler', onFocusInHandler);\n        }\n\n        /**\n         * Handle logic to remove state after onTabKeyPress to normal.\n         */\n        function onClickHandler() {\n            focusState = false;\n            body.removeClass(tabFocusClass)\n                .off('click', onClickHandler);\n        }\n\n        /**\n         * Tab key onKeypress handler. Apply main logic:\n         *  - call differ actions onTabKeyPress and onClick\n         */\n        function smartKeyboardFocus() {\n            $(document).on('keydown keypress', function (event) {\n                if (event.which === CODE_TAB && !focusState) {\n                    body\n                        .on('focusin.keyboardHandler', onFocusInHandler)\n                        .on('click', onClickHandler);\n                }\n            });\n\n            // ARIA support for catalog grid products\n            if (catalogProductsGrid.length) {\n                body.on('focusin.gridProducts', productsGrid, function () {\n                    if (body.hasClass(tabFocusClass)) {\n                        $(this).addClass('active');\n                    }\n                });\n                body.on('focusout.gridProducts', productsGrid, function () {\n                    $(this).removeClass('active');\n                });\n            }\n        }\n\n        /**\n         * Attach smart focus on specific element.\n         * @param {jQuery} element\n         */\n        function handleFocus(element) {\n            element.on('focusin.emulateTabFocus', function () {\n                focusState = true;\n                body.addClass(tabFocusClass);\n                element.off();\n            });\n\n            element.on('focusout.emulateTabFocus', function () {\n                focusState = false;\n                body.removeClass(tabFocusClass);\n                element.off();\n            });\n        }\n\n        return {\n            apply: smartKeyboardFocus,\n            focus: handleFocus\n        };\n    }\n\n    return new KeyboardHandler;\n});\n","mage/storage.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine(['jquery', 'mage/url'], function ($, urlBuilder) {\n    'use strict';\n\n    return {\n        /**\n         * Perform asynchronous GET request to server.\n         * @param {String} url\n         * @param {Boolean} global\n         * @param {String} contentType\n         * @param {Object} headers\n         * @returns {Deferred}\n         */\n        get: function (url, global, contentType, headers) {\n            headers = headers || {};\n            global = global === undefined ? true : global;\n            contentType = contentType || 'application/json';\n\n            return $.ajax({\n                url: urlBuilder.build(url),\n                type: 'GET',\n                global: global,\n                contentType: contentType,\n                headers: headers\n            });\n        },\n\n        /**\n         * Perform asynchronous POST request to server.\n         * @param {String} url\n         * @param {String} data\n         * @param {Boolean} global\n         * @param {String} contentType\n         * @param {Object} headers\n         * @returns {Deferred}\n         */\n        post: function (url, data, global, contentType, headers) {\n            headers = headers || {};\n            global = global === undefined ? true : global;\n            contentType = contentType || 'application/json';\n\n            return $.ajax({\n                url: urlBuilder.build(url),\n                type: 'POST',\n                data: data,\n                global: global,\n                contentType: contentType,\n                headers: headers\n            });\n        },\n\n        /**\n         * Perform asynchronous PUT request to server.\n         * @param {String} url\n         * @param {String} data\n         * @param {Boolean} global\n         * @param {String} contentType\n         * @param {Object} headers\n         * @returns {Deferred}\n         */\n        put: function (url, data, global, contentType, headers) {\n            var ajaxSettings = {};\n\n            headers = headers || {};\n            global = global === undefined ? true : global;\n            contentType = contentType || 'application/json';\n            ajaxSettings.url = urlBuilder.build(url);\n            ajaxSettings.type = 'PUT';\n            ajaxSettings.data = data;\n            ajaxSettings.global = global;\n            ajaxSettings.contentType = contentType;\n            ajaxSettings.headers = headers;\n\n            return $.ajax(ajaxSettings);\n        },\n\n        /**\n         * Perform asynchronous DELETE request to server.\n         * @param {String} url\n         * @param {Boolean} global\n         * @param {String} contentType\n         * @param {Object} headers\n         * @returns {Deferred}\n         */\n        delete: function (url, global, contentType, headers) {\n            headers = headers || {};\n            global = global === undefined ? true : global;\n            contentType = contentType || 'application/json';\n\n            return $.ajax({\n                url: urlBuilder.build(url),\n                type: 'DELETE',\n                global: global,\n                contentType: contentType,\n                headers: headers\n            });\n        }\n    };\n});\n","mage/bootstrap.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'mage/apply/main',\n    'Magento_Ui/js/lib/knockout/bootstrap'\n], function ($, mage) {\n    'use strict';\n\n    $.ajaxSetup({\n        cache: false\n    });\n\n    /**\n     * Init all components defined via data-mage-init attribute.\n     * Execute in a separate task to prevent main thread blocking.\n     */\n    setTimeout(mage.apply);\n});\n","mage/loader_old.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'mage/template',\n    'jquery-ui-modules/widget',\n    'mage/translate'\n], function ($, mageTemplate) {\n    'use strict';\n\n    $.widget('mage.loader', {\n        loaderStarted: 0,\n        spinner: $(undefined),\n        options: {\n            icon: '',\n            texts: {\n                loaderText: $.mage.__('Please wait...'),\n                imgAlt: $.mage.__('Loading...')\n            },\n            template: '<div class=\"loading-mask\" data-role=\"loader\">' +\n                '<div class=\"popup popup-loading\">' +\n                '<div class=\"popup-inner\">' +\n                '<% if (data.icon) { %>' +\n                    '<img ' +\n                        '<% if (data.texts.imgAlt) { %>alt=\"<%- data.texts.imgAlt %>\"<% } %> ' +\n                        'src=\"<%- data.icon %>\"><% } %>' +\n                '<% if (data.texts.loaderText) { %><%- data.texts.loaderText %><% } %>' +\n                '</div>' +\n                '</div>' +\n                '</div>'\n        },\n\n        /**\n         * Loader creation\n         * @protected\n         */\n        _create: function () {\n            this._bind();\n        },\n\n        /**\n         * Bind on ajax events\n         * @protected\n         */\n        _bind: function () {\n            this._on({\n                'processStop': 'hide',\n                'processStart': 'show',\n                'show.loader': 'show',\n                'hide.loader': 'hide',\n                'contentUpdated.loader': '_contentUpdated'\n            });\n        },\n\n        /**\n         * Verify loader present after content updated\n         *\n         * This will be cleaned up by the task MAGETWO-11070\n         *\n         * @param {jQuery.Event} e\n         * @private\n         */\n        _contentUpdated: function (e) {\n            this.show(e);\n        },\n\n        /**\n         * Show loader\n         */\n        show: function (e, ctx) {\n            this._render();\n            this.loaderStarted++;\n            this.spinner.show();\n\n            if (ctx) {\n                this.spinner\n                    .css({\n                        width: ctx.outerWidth(),\n                        height: ctx.outerHeight(),\n                        position: 'absolute'\n                    })\n                    .position({\n                        my: 'top left',\n                        at: 'top left',\n                        of: ctx\n                    });\n            }\n\n            return false;\n        },\n\n        /**\n         * Hide loader\n         */\n        hide: function () {\n            if (this.loaderStarted > 0) {\n                this.loaderStarted--;\n\n                if (this.loaderStarted === 0) {\n                    this.spinner.hide();\n                }\n            }\n\n            return false;\n        },\n\n        /**\n         * Render loader\n         * @protected\n         */\n        _render: function () {\n            var tmpl;\n\n            if (this.spinner.length === 0) {\n                tmpl = mageTemplate(this.options.template, {\n                    data: this.options\n                });\n\n                this.spinner = $(tmpl);\n            }\n\n            this.element.prepend(this.spinner);\n        },\n\n        /**\n         * Destroy loader\n         */\n        _destroy: function () {\n            this.spinner.remove();\n        }\n    });\n\n    /**\n     * This widget takes care of registering the needed loader listeners on the body\n     */\n    $.widget('mage.loaderAjax', {\n        options: {\n            defaultContainer: '[data-container=body]'\n        },\n\n        /**\n         * @private\n         */\n        _create: function () {\n            this._bind();\n            // There should only be one instance of this widget, and it should be attached\n            // to the body only. Having it on the page twice will trigger multiple processStarts.\n            if (window.console && !this.element.is(this.options.defaultContainer) && $.mage.isDevMode(undefined)) {\n                console.warn('This widget is intended to be attached to the body, not below.');\n            }\n        },\n\n        /**\n         * @private\n         */\n        _bind: function () {\n            $(document).on({\n                'ajaxSend': this._onAjaxSend.bind(this),\n                'ajaxComplete': this._onAjaxComplete.bind(this)\n            });\n        },\n\n        /**\n         * @param {Object} loaderContext\n         * @return {*}\n         * @private\n         */\n        _getJqueryObj: function (loaderContext) {\n            var ctx;\n\n            // Check to see if context is jQuery object or not.\n            if (loaderContext) {\n                if (loaderContext.jquery) {\n                    ctx = loaderContext;\n                } else {\n                    ctx = $(loaderContext);\n                }\n            } else {\n                ctx = $('[data-container=\"body\"]');\n            }\n\n            return ctx;\n        },\n\n        /**\n         * @param {jQuery.Event} e\n         * @param {Object} jqxhr\n         * @param {Object} settings\n         * @private\n         */\n        _onAjaxSend: function (e, jqxhr, settings) {\n            var ctx;\n\n            if (settings && settings.showLoader) {\n                ctx = this._getJqueryObj(settings.loaderContext);\n                ctx.trigger('processStart');\n\n                // Check to make sure the loader is there on the page if not report it on the console.\n                // NOTE that this check should be removed before going live. It is just an aid to help\n                // in finding the uses of the loader that maybe broken.\n                if (window.console && !ctx.parents('[data-role=\"loader\"]').length) {\n                    console.warn('Expected to start loader but did not find one in the dom');\n                }\n            }\n        },\n\n        /**\n         * @param {jQuery.Event} e\n         * @param {Object} jqxhr\n         * @param {Object} settings\n         * @private\n         */\n        _onAjaxComplete: function (e, jqxhr, settings) {\n            if (settings && settings.showLoader && !settings.dontHide) {\n                this._getJqueryObj(settings.loaderContext).trigger('processStop');\n            }\n        }\n    });\n\n    return {\n        loader: $.mage.loader,\n        loaderAjax: $.mage.loaderAjax\n    };\n});\n","mage/layout.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @deprecated since version 2.2.0\n */\n/* eslint-disable strict */\ndefine(['underscore'], function (_) {\n    return {\n        /**\n         * @param {Object} config\n         */\n        build: function (config) {\n            var types = _.map(_.flatten(config), function (item) {\n                return item.type;\n            });\n\n            require(types, function () {});\n        }\n    };\n});\n","mage/mage.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'mage/apply/main'\n], function ($, mage) {\n    'use strict';\n\n    /**\n     * Main namespace for Magento extensions\n     * @type {Object}\n     */\n    $.mage = $.mage || {};\n\n    /**\n     * Plugin mage, initialize components on elements\n     * @param {String} name - Components' path.\n     * @param {Object} config - Components' config.\n     * @returns {JQuery} Chainable.\n     */\n    $.fn.mage = function (name, config) {\n        config = config || {};\n\n        this.each(function (index, el) {\n            mage.applyFor(el, config, name);\n        });\n\n        return this;\n    };\n\n    $.extend($.mage, {\n        /**\n         * Handle all components declared via data attribute\n         * @return {Object} $.mage\n         */\n        init: function () {\n            mage.apply();\n\n            return this;\n        },\n\n        /**\n         * Method handling redirects and page refresh\n         * @param {String} url - redirect URL\n         * @param {(undefined|String)} type - 'assign', 'reload', 'replace'\n         * @param {(undefined|Number)} timeout - timeout in milliseconds before processing the redirect or reload\n         * @param {(undefined|Boolean)} forced - true|false used for 'reload' only\n         */\n        redirect: function (url, type, timeout, forced) {\n            var _redirect;\n\n            forced  = !!forced;\n            timeout = timeout || 0;\n            type    = type || 'assign';\n\n            /**\n             * @private\n             */\n            _redirect = function () {\n                window.location[type](type === 'reload' ? forced : url);\n            };\n\n            timeout ? setTimeout(_redirect, timeout) : _redirect();\n        },\n\n        /**\n         * Checks if provided string is a valid selector.\n         * @param {String} selector - Selector to check.\n         * @returns {Boolean}\n         */\n        isValidSelector: function (selector) {\n            try {\n                document.querySelector(selector);\n\n                return true;\n            } catch (e) {\n                return false;\n            }\n        }\n    });\n\n    /**\n     * Init components inside of dynamically updated elements\n     */\n    $('body').on('contentUpdated', function () {\n        if (mage) {\n            mage.apply();\n        }\n    });\n\n    return $.mage;\n});\n","mage/edit-trigger.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @deprecated since version 2.2.0\n */\ndefine([\n    'jquery',\n    'mage/template',\n    'jquery-ui-modules/widget'\n], function ($, mageTemplate) {\n    'use strict';\n\n    var editTriggerPrototype;\n\n    $.widget('mage.editTrigger', {\n        options: {\n            img: '',\n            alt: '[TR]',\n            template: '#translate-inline-icon',\n            zIndex: 2000,\n            editSelector: '[data-translate]',\n            delay: 2000,\n            offsetTop: -3,\n            singleElement: true\n        },\n\n        /**\n         * editTriger creation\n         * @protected\n         */\n        _create: function () {\n            this.tmpl = mageTemplate(this.options.template);\n            this._initTrigger();\n            this._bind();\n        },\n\n        /**\n         * @return {Object}\n         * @private\n         */\n        _getCss: function () {\n            return {\n                position: 'absolute',\n                cursor: 'pointer',\n                display: 'none',\n                'z-index': this.options.zIndex\n            };\n        },\n\n        /**\n         * @param {*} appendTo\n         * @return {*|jQuery}\n         * @private\n         */\n        _createTrigger: function (appendTo) {\n            var tmpl = this.tmpl({\n                data: this.options\n            });\n\n            return $(tmpl)\n                .css(this._getCss())\n                .data('role', 'edit-trigger-element')\n                .appendTo(appendTo);\n        },\n\n        /**\n         * @private\n         */\n        _initTrigger: function () {\n            this.trigger = this._createTrigger($('body'));\n        },\n\n        /**\n         * Bind on mousemove event\n         * @protected\n         */\n        _bind: function () {\n            this.trigger.on('click.' + this.widgetName, $.proxy(this._onClick, this));\n            this.element.on('mousemove.' + this.widgetName, $.proxy(this._onMouseMove, this));\n        },\n\n        /**\n         * Show editTriger\n         */\n        show: function () {\n            if (this.trigger.is(':hidden')) {\n                this.trigger.show();\n            }\n        },\n\n        /**\n         * Hide editTriger\n         */\n        hide: function () {\n            this.currentTarget = null;\n\n            if (this.trigger && this.trigger.is(':visible')) {\n                this.trigger.hide();\n            }\n        },\n\n        /**\n         * Set editTriger position\n         * @protected\n         */\n        _setPosition: function (el) {\n            var offset = el.offset();\n\n            this.trigger.css({\n                top: offset.top + el.outerHeight() + this.options.offsetTop,\n                left: offset.left\n            });\n        },\n\n        /**\n         * Show/hide trigger on mouse move.\n         *\n         * @param {jQuery.Event} e\n         * @protected\n         */\n        _onMouseMove: function (e) {\n            var target = $(e.target),\n                inner = target.find(this.options.editSelector);\n\n            if ($(e.target).is('button') && inner.length) {\n                target = inner;\n            } else if (!target.is(this.trigger) && !target.is(this.options.editSelector)) {\n                target = target.parents(this.options.editSelector).first();\n            }\n\n            if (target.length) {\n                if (!target.is(this.trigger)) {\n                    this._setPosition(target);\n                    this.currentTarget = target;\n                }\n                this.show();\n            } else {\n                this.hide();\n            }\n        },\n\n        /**\n         * Trigger event \"edit\" on element for translate.\n         *\n         * @param {jQuery.Event} e\n         * @protected\n         */\n        _onClick: function (e) {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            $(this.currentTarget).trigger('edit.' + this.widgetName);\n            this.hide(true);\n        },\n\n        /**\n         * Destroy editTriger\n         */\n        destroy: function () {\n            this.trigger.remove();\n            this.element.off('.' + this.widgetName);\n\n            return $.Widget.prototype.destroy.call(this);\n        }\n    });\n\n    /**\n     * Extention for widget editTrigger - hide trigger with delay\n     */\n    editTriggerPrototype = $.mage.editTrigger.prototype;\n\n    $.widget('mage.editTrigger', $.extend({}, editTriggerPrototype, {\n        /**\n         * Added clear timeout on trigger show\n         */\n        show: function () {\n            editTriggerPrototype.show.apply(this, arguments);\n\n            if (this.options.delay) {\n                this._clearTimer();\n            }\n        },\n\n        /**\n         * Added setTimeout on trigger hide\n         */\n        hide: function (immediate) {\n            if (!immediate && this.options.delay) {\n                if (!this.timer) {\n                    this.timer = setTimeout($.proxy(function () {\n                        editTriggerPrototype.hide.apply(this, arguments);\n                        this._clearTimer();\n                    }, this), this.options.delay);\n                }\n            } else {\n                editTriggerPrototype.hide.apply(this, arguments);\n            }\n        },\n\n        /**\n         * Clear timer\n         * @protected\n         */\n        _clearTimer: function () {\n            if (this.timer) {\n                clearTimeout(this.timer);\n                this.timer = null;\n            }\n        }\n    }));\n\n    return $.mage.editTrigger;\n});\n","mage/multiselect.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'underscore',\n    'jquery',\n    'text!mage/multiselect.html',\n    'Magento_Ui/js/modal/alert',\n    'jquery-ui-modules/widget',\n    'jquery/editableMultiselect/js/jquery.multiselect'\n], function (_, $, searchTemplate, alert) {\n    'use strict';\n\n    $.widget('mage.multiselect2', {\n        options: {\n            mselectContainer: 'section.mselect-list',\n            mselectItemsWrapperClass: 'mselect-items-wrapper',\n            mselectCheckedClass: 'mselect-checked',\n            containerClass: 'paginated',\n            searchInputClass: 'admin__action-multiselect-search',\n            selectedItemsCountClass: 'admin__action-multiselect-items-selected',\n            currentPage: 1,\n            lastAppendValue: 0,\n            updateDelay: 1000,\n            optionsLoaded: false\n        },\n\n        /** @inheritdoc */\n        _create: function () {\n            $.fn.multiselect.call(this.element, this.options);\n        },\n\n        /** @inheritdoc */\n        _init: function () {\n            this.domElement = this.element.get(0);\n\n            this.$container = $(this.options.mselectContainer);\n            this.$wrapper = this.$container.find('.' + this.options.mselectItemsWrapperClass);\n            this.$item = this.$wrapper.find('div').first();\n            this.selectedValues = [];\n            this.values = {};\n\n            this.$container.addClass(this.options.containerClass).prepend(searchTemplate);\n            this.$input = this.$container.find('.' + this.options.searchInputClass);\n            this.$selectedCounter = this.$container.find('.' + this.options.selectedItemsCountClass);\n            this.filter = '';\n\n            if (this.domElement.options.length) {\n                this._setLastAppendOption(this.domElement.options[this.domElement.options.length - 1].value);\n            }\n\n            this._initElement();\n            this._events();\n        },\n\n        /**\n         * Leave only saved/selected options in select element.\n         *\n         * @private\n         */\n        _initElement: function () {\n            this.element.empty();\n            _.each(this.options.selectedValues, function (value) {\n                this._createSelectedOption({\n                    value: value,\n                    label: value\n                });\n            }, this);\n        },\n\n        /**\n         * Attach required events.\n         *\n         * @private\n         */\n        _events: function () {\n            var onKeyUp = _.debounce(this.onKeyUp, this.options.updateDelay);\n\n            _.bindAll(this, 'onScroll', 'onCheck', 'onOptionsChange');\n\n            this.$wrapper.on('scroll', this.onScroll);\n            this.$wrapper.on('change.mselectCheck', '[type=checkbox]', this.onCheck);\n            this.$input.on('keyup', _.bind(onKeyUp, this));\n            this.element.on('change.hiddenSelect', this.onOptionsChange);\n        },\n\n        /**\n         * Behaves multiselect scroll.\n         */\n        onScroll: function () {\n            var height = this.$wrapper.height(),\n                scrollHeight = this.$wrapper.prop('scrollHeight'),\n                scrollTop = Math.ceil(this.$wrapper.prop('scrollTop'));\n\n            if (!this.options.optionsLoaded && scrollHeight - height <= scrollTop) {\n                this.loadOptions();\n            }\n        },\n\n        /**\n         * Behaves keyup event on input search\n         */\n        onKeyUp: function () {\n            if (this.getSearchCriteria() === this.filter) {\n                return false;\n            }\n\n            this.setFilter();\n            this.clearMultiselectOptions();\n            this.setCurrentPage(0);\n            this.loadOptions();\n        },\n\n        /**\n         * Callback for select change event\n         */\n        onOptionsChange: function () {\n            this.selectedValues = _.map(this.domElement.options, function (option) {\n                this.values[option.value] = true;\n\n                return option.value;\n            }, this);\n\n            this._updateSelectedCounter();\n        },\n\n        /**\n         * Overrides native check behaviour.\n         *\n         * @param {Event} event\n         */\n        onCheck: function (event) {\n            var checkbox = event.target,\n                option = {\n                    value: checkbox.value,\n                    label: $(checkbox).parent('label').text()\n                };\n\n            checkbox.checked ? this._createSelectedOption(option) : this._removeSelectedOption(option);\n            event.stopPropagation();\n        },\n\n        /**\n         * Show error message.\n         *\n         * @param {String} message\n         */\n        onError: function (message) {\n            alert({\n                content: message\n            });\n        },\n\n        /**\n         * Updates current filter state.\n         */\n        setFilter: function () {\n            this.filter = this.getSearchCriteria() || '';\n        },\n\n        /**\n         * Reads search input value.\n         *\n         * @return {String}\n         */\n        getSearchCriteria: function () {\n            return $.trim(this.$input.val());\n        },\n\n        /**\n         * Load options data.\n         */\n        loadOptions: function () {\n            var nextPage = this.getCurrentPage() + 1;\n\n            this.$wrapper.trigger('processStart');\n            this.$input.prop('disabled', true);\n\n            $.get(this.options.nextPageUrl, {\n                p: nextPage,\n                s: this.filter\n            })\n            .done(function (response) {\n                if (response.success) {\n                    this.appendOptions(response.result);\n                    this.setCurrentPage(nextPage);\n                } else {\n                    this.onError(response.errorMessage);\n                }\n            }.bind(this))\n            .always(function () {\n                this.$wrapper.trigger('processStop');\n                this.$input.prop('disabled', false);\n\n                if (this.filter) {\n                    this.$input.focus();\n                }\n            }.bind(this));\n        },\n\n        /**\n         * Append loaded options\n         *\n         * @param {Array} options\n         */\n        appendOptions: function (options) {\n            var divOptions = [];\n\n            if (!options.length) {\n                return false;\n            }\n\n            if (this.isOptionsLoaded(options)) {\n                return;\n            }\n\n            options.forEach(function (option) {\n                if (!this.values[option.value]) {\n                    this.values[option.value] = true;\n                    option.selected = this._isOptionSelected(option);\n                    divOptions.push(this._createMultiSelectOption(option));\n                    this._setLastAppendOption(option.value);\n                }\n            }, this);\n\n            this.$wrapper.append(divOptions);\n        },\n\n        /**\n         * Clear multiselect options\n         */\n        clearMultiselectOptions: function () {\n            this._setLastAppendOption(0);\n            this.values = {};\n            this.$wrapper.empty();\n        },\n\n        /**\n         * Checks if all options are already loaded\n         *\n         * @return {Boolean}\n         */\n        isOptionsLoaded: function (options) {\n            this.options.optionsLoaded = this.options.lastAppendValue === options[options.length - 1].value;\n\n            return this.options.optionsLoaded;\n        },\n\n        /**\n         * Setter for current page.\n         *\n         * @param {Number} page\n         */\n        setCurrentPage: function (page) {\n            this.options.currentPage = page;\n        },\n\n        /**\n         * Getter for current page.\n         *\n         * @return {Number}\n         */\n        getCurrentPage: function () {\n            return this.options.currentPage;\n        },\n\n        /**\n         * Creates new selected option for select element\n         *\n         * @param {Object} option - option object\n         * @param {String} option.value - option value\n         * @param {String} option.label - option label\n         * @private\n         */\n        _createSelectedOption: function (option) {\n            var selectOption = new Option(option.label, option.value, false, true);\n\n            this.element.append(selectOption);\n            this.selectedValues.push(option.value);\n            this._updateSelectedCounter();\n\n            return selectOption;\n        },\n\n        /**\n         * Remove passed option from select element\n         *\n         * @param {Object} option - option object\n         * @param {String} option.value - option value\n         * @param {String} option.label - option label\n         * @return {Object} option\n         * @private\n         */\n        _removeSelectedOption: function (option) {\n            var unselectedOption = _.findWhere(this.domElement.options, {\n                value: option.value\n            });\n\n            if (!_.isUndefined(unselectedOption)) {\n                this.domElement.remove(unselectedOption.index);\n                this.selectedValues.splice(_.indexOf(this.selectedValues, option.value), 1);\n                this._updateSelectedCounter();\n            }\n\n            return unselectedOption;\n        },\n\n        /**\n         * Creates new DIV option for multiselect widget\n         *\n         * @param {Object} option - option object\n         * @param {String} option.value - option value\n         * @param {String} option.label - option label\n         * @param {Boolean} option.selected - is option selected\n         * @private\n         */\n        _createMultiSelectOption: function (option) {\n            var item = this.$item.clone(),\n                checkbox = item.find('input'),\n                isSelected = !!option.selected;\n\n            checkbox.val(option.value)\n                .prop('checked', isSelected)\n                .toggleClass(this.options.mselectCheckedClass, isSelected);\n\n            item.find('label > span').text(option.label);\n\n            return item;\n        },\n\n        /**\n         * Checks if passed option should be selected\n         *\n         * @param {Object} option - option object\n         * @param {String} option.value - option value\n         * @param {String} option.label - option label\n         * @param {Boolean} option.selected - is option selected\n         * @return {Boolean}\n         * @private\n         */\n        _isOptionSelected: function (option) {\n            return !!~this.selectedValues.indexOf(option.value);\n        },\n\n        /**\n         * Saves last added option value.\n         *\n         * @param {Number} value\n         * @private\n         */\n        _setLastAppendOption: function (value) {\n            this.options.lastAppendValue = value;\n        },\n\n        /**\n         * Updates counter of selected items.\n         *\n         * @private\n         */\n        _updateSelectedCounter: function () {\n            this.$selectedCounter.text(this.selectedValues.length);\n        }\n    });\n\n    return $.mage.multiselect2;\n});\n","mage/calendar.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/*eslint max-depth: 0*/\ndefine([\n    'jquery',\n    'jquery-ui-modules/widget',\n    'jquery-ui-modules/datepicker',\n    'jquery-ui-modules/timepicker'\n], function ($) {\n    'use strict';\n\n    var calendarBasePrototype,\n        datepickerPrototype = $.datepicker.constructor.prototype;\n\n    $.datepicker.markerClassName = '_has-datepicker';\n\n    /**\n     * Extend JQuery date picker prototype with store local time methods\n     */\n    $.extend(datepickerPrototype, {\n        /**\n         * Get date/time according to store settings.\n         * We use serverTimezoneOffset (in seconds) instead of serverTimezoneSeconds\n         * in order to have ability to know actual store time even if page hadn't been reloaded\n         * @returns {Date}\n         */\n        _getTimezoneDate: function (options) {\n            // local time in ms\n            var ms = Date.now();\n\n            options = options || $.calendarConfig || {};\n\n            // Adjust milliseconds according to store timezone offset,\n            // mind the GMT zero offset\n            if (typeof options.serverTimezoneOffset !== 'undefined') {\n                // Make UTC time and add store timezone offset in seconds\n                ms += new Date().getTimezoneOffset() * 60 * 1000 + options.serverTimezoneOffset * 1000;\n            } else if (typeof options.serverTimezoneSeconds !== 'undefined') {\n                //Set milliseconds according to client local timezone offset\n                ms = (options.serverTimezoneSeconds + new Date().getTimezoneOffset() * 60) * 1000;\n            }\n\n            return new Date(ms);\n        },\n\n        /**\n         * Set date/time according to store settings.\n         * @param {String|Object} target - the target input field or division or span\n         */\n        _setTimezoneDateDatepicker: function (target) {\n            this._setDateDatepicker(target, this._getTimezoneDate());\n        }\n    });\n\n    /**\n     * Widget calendar\n     */\n    $.widget('mage.calendar', {\n        options: {\n            autoComplete: true\n        },\n\n        /**\n         * Merge global options with options passed to widget invoke\n         * @protected\n         */\n        _create: function () {\n            this._enableAMPM();\n            this.options = $.extend(\n                {},\n                $.calendarConfig ? $.calendarConfig : {},\n                this.options.showsTime ? {\n                    showTime: true,\n                    showHour: true,\n                    showMinute: true\n                } : {},\n                this.options\n            );\n            this._initPicker(this.element);\n            this._overwriteGenerateHtml();\n        },\n\n        /**\n         * Get picker name\n         * @protected\n         */\n        _picker: function () {\n            return this.options.showsTime ? 'datetimepicker' : 'datepicker';\n        },\n\n        /**\n         * Fix for Timepicker - Set ampm option for Timepicker if timeformat contains string 'tt'\n         * @protected\n         */\n        _enableAMPM: function () {\n            if (this.options.timeFormat && this.options.timeFormat.indexOf('tt') >= 0) {\n                this.options.ampm = true;\n            }\n        },\n\n        /**\n         * Wrapper for overwrite jQuery UI datepicker function.\n         */\n        _overwriteGenerateHtml: function () {\n            /**\n             * Overwrite jQuery UI datepicker function.\n             * Reason: magento date could be set before calendar show\n             * but local date will be styled as current in original _generateHTML\n             *\n             * @param {Object} inst - instance datepicker.\n             * @return {String} html template\n             */\n            $.datepicker.constructor.prototype._generateHTML = function (inst) {\n                var today = this._getTimezoneDate(),\n                    isRTL = this._get(inst, 'isRTL'),\n                    showButtonPanel = this._get(inst, 'showButtonPanel'),\n                    hideIfNoPrevNext = this._get(inst, 'hideIfNoPrevNext'),\n                    navigationAsDateFormat = this._get(inst, 'navigationAsDateFormat'),\n                    numMonths = this._getNumberOfMonths(inst),\n                    showCurrentAtPos = this._get(inst, 'showCurrentAtPos'),\n                    stepMonths = this._get(inst, 'stepMonths'),\n                    isMultiMonth = parseInt(numMonths[0], 10) !== 1 || parseInt(numMonths[1], 10) !== 1,\n                    currentDate = this._daylightSavingAdjust(!inst.currentDay ? new Date(9999, 9, 9) :\n                        new Date(inst.currentYear, inst.currentMonth, inst.currentDay)),\n                    minDate = this._getMinMaxDate(inst, 'min'),\n                    maxDate = this._getMinMaxDate(inst, 'max'),\n                    drawMonth = inst.drawMonth - showCurrentAtPos,\n                    drawYear = inst.drawYear,\n                    maxDraw,\n                    prevText = this._get(inst, 'prevText'),\n                    prev,\n                    nextText = this._get(inst, 'nextText'),\n                    next,\n                    currentText = this._get(inst, 'currentText'),\n                    gotoDate,\n                    controls,\n                    buttonPanel,\n                    firstDay,\n                    showWeek = this._get(inst, 'showWeek'),\n                    dayNames = this._get(inst, 'dayNames'),\n                    dayNamesMin = this._get(inst, 'dayNamesMin'),\n                    monthNames = this._get(inst, 'monthNames'),\n                    monthNamesShort =  this._get(inst, 'monthNamesShort'),\n                    beforeShowDay = this._get(inst, 'beforeShowDay'),\n                    showOtherMonths = this._get(inst, 'showOtherMonths'),\n                    selectOtherMonths = this._get(inst, 'selectOtherMonths'),\n                    defaultDate = this._getDefaultDate(inst),\n                    html = '',\n                    row = 0,\n                    col = 0,\n                    selectedDate,\n                    cornerClass = ' ui-corner-all',\n                    group = '',\n                    calender = '',\n                    dow = 0,\n                    thead,\n                    day,\n                    daysInMonth,\n                    leadDays,\n                    curRows,\n                    numRows,\n                    printDate,\n                    dRow = 0,\n                    tbody,\n                    daySettings,\n                    otherMonth,\n                    unselectable;\n\n                if (drawMonth < 0) {\n                    drawMonth += 12;\n                    drawYear--;\n                }\n\n                if (maxDate) {\n                    maxDraw = this._daylightSavingAdjust(new Date(maxDate.getFullYear(),\n                        maxDate.getMonth() - numMonths[0] * numMonths[1] + 1, maxDate.getDate()));\n                    maxDraw = minDate && maxDraw < minDate ? minDate : maxDraw;\n\n                    while (this._daylightSavingAdjust(new Date(drawYear, drawMonth, 1)) > maxDraw) {\n                        drawMonth--;\n\n                        if (drawMonth < 0) {\n                            drawMonth = 11;\n                            drawYear--;\n\n                        }\n                    }\n                }\n                inst.drawMonth = drawMonth;\n                inst.drawYear = drawYear;\n                prevText = !navigationAsDateFormat ? prevText : this.formatDate(prevText,\n                    this._daylightSavingAdjust(new Date(drawYear, drawMonth - stepMonths, 1)),\n                    this._getFormatConfig(inst));\n                prev = this._canAdjustMonth(inst, -1, drawYear, drawMonth) ?\n                    '<a class=\"ui-datepicker-prev ui-corner-all\" data-handler=\"prev\" data-event=\"click\"' +\n                    ' title=\"' + prevText + '\">' +\n                    '<span class=\"ui-icon ui-icon-circle-triangle-' + (isRTL ? 'e' : 'w') + '\">' +\n                    '' + prevText + '</span></a>'\n                    : hideIfNoPrevNext ? ''\n                        :   '<a class=\"ui-datepicker-prev ui-corner-all ui-state-disabled\" title=\"' +\n                            '' + prevText + '\"><span class=\"ui-icon ui-icon-circle-triangle-' +\n                            '' + (isRTL ? 'e' : 'w') + '\">' + prevText + '</span></a>';\n                nextText = !navigationAsDateFormat ?\n                    nextText\n                    :   this.formatDate(nextText,\n                        this._daylightSavingAdjust(new Date(drawYear, drawMonth + stepMonths, 1)),\n                        this._getFormatConfig(inst));\n                next = this._canAdjustMonth(inst, +1, drawYear, drawMonth) ?\n                    '<a class=\"ui-datepicker-next ui-corner-all\" data-handler=\"next\" data-event=\"click\"' +\n                    'title=\"' + nextText + '\"><span class=\"ui-icon ui-icon-circle-triangle-' +\n                    '' + (isRTL ? 'w' : 'e') + '\">' + nextText + '</span></a>'\n                    : hideIfNoPrevNext ? ''\n                        :   '<a class=\"ui-datepicker-next ui-corner-all ui-state-disabled\" title=\"' + nextText + '\">' +\n                            '<span class=\"ui-icon ui-icon-circle-triangle-' + (isRTL ? 'w' : 'e') + '\">' + nextText +\n                            '</span></a>';\n                gotoDate = this._get(inst, 'gotoCurrent') && inst.currentDay ? currentDate : today;\n                currentText = !navigationAsDateFormat ? currentText :\n                    this.formatDate(currentText, gotoDate, this._getFormatConfig(inst));\n                controls = !inst.inline ?\n                    '<button type=\"button\" class=\"ui-datepicker-close ui-state-default ui-priority-primary ' +\n                    'ui-corner-all\" data-handler=\"hide\" data-event=\"click\">' +\n                    this._get(inst, 'closeText') + '</button>'\n                    : '';\n                buttonPanel = showButtonPanel ?\n                    '<div class=\"ui-datepicker-buttonpane ui-widget-content\">' + (isRTL ? controls : '') +\n                    (this._isInRange(inst, gotoDate) ? '<button type=\"button\" class=\"ui-datepicker-current ' +\n                    'ui-state-default ui-priority-secondary ui-corner-all\" data-handler=\"today\" data-event=\"click\"' +\n                    '>' + currentText + '</button>' : '') + (isRTL ? '' : controls) + '</div>' : '';\n                firstDay = parseInt(this._get(inst, 'firstDay'), 10);\n                firstDay = isNaN(firstDay) ? 0 : firstDay;\n\n                for (row = 0; row < numMonths[0]; row++) {\n                    this.maxRows = 4;\n\n                    for (col = 0; col < numMonths[1]; col++) {\n                        selectedDate = this._daylightSavingAdjust(new Date(drawYear, drawMonth, inst.selectedDay));\n\n                        calender = '';\n\n                        if (isMultiMonth) {\n                            calender += '<div class=\"ui-datepicker-group';\n\n                            if (numMonths[1] > 1) {\n                                switch (col) {\n                                    case 0: calender += ' ui-datepicker-group-first';\n                                        cornerClass = ' ui-corner-' + (isRTL ? 'right' : 'left');\n                                        break;\n\n                                    case numMonths[1] - 1: calender += ' ui-datepicker-group-last';\n                                        cornerClass = ' ui-corner-' + (isRTL ? 'left' : 'right');\n                                        break;\n\n                                    default: calender += ' ui-datepicker-group-middle'; cornerClass = '';\n                                }\n                            }\n                            calender += '\">';\n                        }\n                        calender += '<div class=\"ui-datepicker-header ' +\n                            'ui-widget-header ui-helper-clearfix' + cornerClass + '\">' +\n                            (/all|left/.test(cornerClass) && parseInt(row, 10) === 0 ? isRTL ? next : prev : '') +\n                            (/all|right/.test(cornerClass) && parseInt(row, 10) === 0 ? isRTL ? prev : next : '') +\n                            this._generateMonthYearHeader(inst, drawMonth, drawYear, minDate, maxDate,\n                            row > 0 || col > 0, monthNames, monthNamesShort) + // draw month headers\n                            '</div><table class=\"ui-datepicker-calendar\"><thead>' +\n                            '<tr>';\n                        thead = showWeek ?\n                            '<th class=\"ui-datepicker-week-col\">' + this._get(inst, 'weekHeader') + '</th>' : '';\n\n                        for (dow = 0; dow < 7; dow++) { // days of the week\n                            day = (dow + firstDay) % 7;\n                            thead += '<th' + ((dow + firstDay + 6) % 7 >= 5 ?\n                                ' class=\"ui-datepicker-week-end\"' : '') + '>' +\n                                '<span title=\"' + dayNames[day] + '\">' + dayNamesMin[day] + '</span></th>';\n                        }\n                        calender += thead + '</tr></thead><tbody>';\n                        daysInMonth = this._getDaysInMonth(drawYear, drawMonth);\n\n                        if (drawYear === inst.selectedYear && drawMonth === inst.selectedMonth) {\n                            inst.selectedDay = Math.min(inst.selectedDay, daysInMonth);\n                        }\n                        leadDays = (this._getFirstDayOfMonth(drawYear, drawMonth) - firstDay + 7) % 7;\n                        curRows = Math.ceil((leadDays + daysInMonth) / 7); // calculate the number of rows to generate\n                        numRows = isMultiMonth ? this.maxRows > curRows ? this.maxRows : curRows : curRows;\n                        this.maxRows = numRows;\n                        printDate = this._daylightSavingAdjust(new Date(drawYear, drawMonth, 1 - leadDays));\n\n                        for (dRow = 0; dRow < numRows; dRow++) { // create date picker rows\n                            calender += '<tr>';\n                            tbody = !showWeek ? '' : '<td class=\"ui-datepicker-week-col\">' +\n                            this._get(inst, 'calculateWeek')(printDate) + '</td>';\n\n                            for (dow = 0; dow < 7; dow++) { // create date picker days\n                                daySettings = beforeShowDay ?\n                                    beforeShowDay.apply(inst.input ? inst.input[0] : null, [printDate]) : [true, ''];\n                                otherMonth = printDate.getMonth() !== drawMonth;\n                                unselectable = otherMonth && !selectOtherMonths || !daySettings[0] ||\n                                minDate && printDate < minDate || maxDate && printDate > maxDate;\n                                tbody += '<td class=\"' +\n                                ((dow + firstDay + 6) % 7 >= 5 ? ' ui-datepicker-week-end' : '') + // highlight weekends\n                                (otherMonth ? ' ui-datepicker-other-month' : '') + // highlight days from other months\n                                (printDate.getTime() === selectedDate.getTime() &&\n                                drawMonth === inst.selectedMonth && inst._keyEvent || // user pressed key\n                                defaultDate.getTime() === printDate.getTime() &&\n                                defaultDate.getTime() === selectedDate.getTime() ?\n                                    // or defaultDate is current printedDate and defaultDate is selectedDate\n                                ' ' + this._dayOverClass : '') + // highlight selected day\n                                (unselectable ? ' ' + this._unselectableClass + ' ui-state-disabled' : '') +\n                                (otherMonth && !showOtherMonths ? '' : ' ' + daySettings[1] + // highlight custom dates\n                                (printDate.getTime() === currentDate.getTime() ? ' ' + this._currentClass : '') +\n                                (printDate.getDate() === today.getDate() && printDate.getMonth() === today.getMonth() &&\n                                printDate.getYear() === today.getYear() ? ' ui-datepicker-today' : '')) + '\"' +\n                                ((!otherMonth || showOtherMonths) && daySettings[2] ?\n                                ' title=\"' + daySettings[2] + '\"' : '') + // cell title\n                                (unselectable ? '' : ' data-handler=\"selectDay\" data-event=\"click\" data-month=\"' +\n                                '' + printDate.getMonth() + '\" data-year=\"' + printDate.getFullYear() + '\"') + '>' +\n                                (otherMonth && !showOtherMonths ? '&#xa0;' : // display for other months\n                                    unselectable ? '<span class=\"ui-state-default\">' + printDate.getDate() + '</span>'\n                                        : '<a class=\"ui-state-default' +\n                                    (printDate.getTime() === today.getTime() ? ' ' : '') +\n                                    (printDate.getTime() === currentDate.getTime() ? ' ui-state-active' : '') +\n                                    (otherMonth ? ' ui-priority-secondary' : '') +\n                                    '\" href=\"#\">' + printDate.getDate() + '</a>') + '</td>';\n                                printDate.setDate(printDate.getDate() + 1);\n                                printDate = this._daylightSavingAdjust(printDate);\n                            }\n                            calender += tbody + '</tr>';\n                        }\n                        drawMonth++;\n\n                        if (drawMonth > 11) {\n                            drawMonth = 0;\n                            drawYear++;\n                        }\n                        calender += '</tbody></table>' + (isMultiMonth ? '</div>' +\n                        (numMonths[0] > 0 && col === numMonths[1] - 1 ? '<div class=\"ui-datepicker-row-break\"></div>'\n                            : '') : '');\n                        group += calender;\n                    }\n                    html += group;\n                }\n                html += buttonPanel + ($.ui.ie6 && !inst.inline ?\n                    '<iframe src=\"javascript:false;\" class=\"ui-datepicker-cover\" frameborder=\"0\"></iframe>' : '');\n                inst._keyEvent = false;\n\n                return html;\n            };\n        },\n\n        /**\n         * Set current date if the date is not set\n         * @protected\n         * @param {Object} element\n         */\n        _setCurrentDate: function (element) {\n            if (!element.val()) {\n                element[this._picker()]('setTimezoneDate').val('');\n            }\n        },\n\n        /**\n         * Init Datetimepicker\n         * @protected\n         * @param {Object} element\n         */\n        _initPicker: function (element) {\n            var picker = element[this._picker()](this.options),\n                pickerButtonText = picker.next('.ui-datepicker-trigger')\n                    .find('img')\n                    .attr('title');\n\n            picker.next('.ui-datepicker-trigger')\n                .addClass('v-middle')\n                .text('') // Remove jQuery UI datepicker generated image\n                .append('<span>' + pickerButtonText + '</span>');\n\n            $(element).attr('autocomplete', this.options.autoComplete ? 'on' : 'off');\n\n            this._setCurrentDate(element);\n        },\n\n        /**\n         * destroy instance of datetimepicker\n         */\n        _destroy: function () {\n            this.element[this._picker()]('destroy');\n            this._super();\n        },\n\n        /**\n         * Method is kept for backward compatibility and unit-tests acceptance\n         * see \\mage\\calendar\\calendar-test.js\n         * @return {Object} date\n         */\n        getTimezoneDate: function () {\n            return datepickerPrototype._getTimezoneDate.call(this, this.options);\n        }\n    });\n\n    calendarBasePrototype = $.mage.calendar.prototype;\n\n    /**\n     * Extension for Calendar - date and time format convert functionality\n     * @var {Object}\n     */\n    $.widget('mage.calendar', $.extend({}, calendarBasePrototype,\n            /** @lends {$.mage.calendar.prototype} */ {\n                /**\n                 * key - backend format, value - jquery format\n                 * @type {Object}\n                 * @private\n                 */\n                dateTimeFormat: {\n                    date: {\n                        'EEEE': 'DD',\n                        'EEE': 'D',\n                        'EE': 'D',\n                        'E': 'D',\n                        'D': 'o',\n                        'MMMM': 'MM',\n                        'MMM': 'M',\n                        'MM': 'mm',\n                        'M': 'mm',\n                        'yyyy': 'yy',\n                        'y': 'yy',\n                        'Y': 'yy',\n                        'yy': 'yy' // Always long year format on frontend\n                    },\n                    time: {\n                        'a': 'TT'\n                    }\n                },\n\n                /**\n                 * Add Date and Time converting to _create method\n                 * @protected\n                 */\n                _create: function () {\n                    if (this.options.dateFormat) {\n                        this.options.dateFormat = this._convertFormat(this.options.dateFormat, 'date');\n                    }\n\n                    if (this.options.timeFormat) {\n                        this.options.timeFormat = this._convertFormat(this.options.timeFormat, 'time');\n                    }\n                    calendarBasePrototype._create.apply(this, arguments);\n                },\n\n                /**\n                 * Converting date or time format\n                 * @protected\n                 * @param {String} format\n                 * @param {String} type\n                 * @return {String}\n                 */\n                _convertFormat: function (format, type) {\n                    var symbols = format.match(/([a-z]+)/ig),\n                        separators = format.match(/([^a-z]+)/ig),\n                        self = this,\n                        convertedFormat = '';\n\n                    if (symbols) {\n                        $.each(symbols, function (key, val) {\n                            convertedFormat +=\n                                (self.dateTimeFormat[type][val] || val) +\n                                (separators[key] || '');\n                        });\n                    }\n\n                    return convertedFormat;\n                }\n            })\n    );\n\n    /**\n     * Widget dateRange\n     * @extends $.mage.calendar\n     */\n    $.widget('mage.dateRange', $.mage.calendar, {\n\n        /**\n         * creates two instances of datetimepicker for date range selection\n         * @protected\n         */\n        _initPicker: function () {\n            var from,\n                to;\n\n            if (this.options.from && this.options.to) {\n                from = this.element.find('#' + this.options.from.id);\n                to = this.element.find('#' + this.options.to.id);\n                this.options.onSelect = $.proxy(function (selectedDate) {\n                    to[this._picker()]('option', 'minDate', selectedDate);\n                }, this);\n                $.mage.calendar.prototype._initPicker.call(this, from);\n                from.on('change', $.proxy(function () {\n                    to[this._picker()]('option', 'minDate', from[this._picker()]('getDate'));\n                }, this));\n                this.options.onSelect = $.proxy(function (selectedDate) {\n                    from[this._picker()]('option', 'maxDate', selectedDate);\n                }, this);\n                $.mage.calendar.prototype._initPicker.call(this, to);\n                to.on('change', $.proxy(function () {\n                    from[this._picker()]('option', 'maxDate', to[this._picker()]('getDate'));\n                }, this));\n            }\n        },\n\n        /**\n         * destroy two instances of datetimepicker\n         */\n        _destroy: function () {\n            if (this.options.from) {\n                this.element.find('#' + this.options.from.id)[this._picker()]('destroy');\n            }\n\n            if (this.options.to) {\n                this.element.find('#' + this.options.to.id)[this._picker()]('destroy');\n            }\n            this._super();\n        }\n    });\n\n    // Overrides the \"today\" button functionality to select today's date when clicked.\n    $.datepicker._gotoTodayOriginal = $.datepicker._gotoToday;\n\n    /**\n     * overwrite jQuery UI _showDatepicker function for proper HTML generation conditions.\n     *\n     */\n    $.datepicker._showDatepickerOriginal = $.datepicker._showDatepicker;\n\n    /**\n     * Triggers original method showDataPicker for rendering calendar\n     * @param {HTMLObject} input\n     * @private\n     */\n    $.datepicker._showDatepicker = function (input) {\n        if (!input.disabled) {\n            $.datepicker._showDatepickerOriginal.call(this, input);\n        }\n    };\n\n    /**\n     * _gotoToday\n     * @param {Object} el\n     */\n    $.datepicker._gotoToday = function (el) {\n        //Set date/time according to timezone offset\n        $(el).datepicker('setTimezoneDate')\n            // To ensure that user can re-select date field without clicking outside it first.\n            .blur().trigger('change');\n    };\n\n    return {\n        dateRange:  $.mage.dateRange,\n        calendar:   $.mage.calendar\n    };\n});\n","mage/collapsible.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'jquery-ui-modules/widget',\n    'jquery-ui-modules/core',\n    'jquery/jquery-storageapi',\n    'mage/mage'\n], function ($) {\n    'use strict';\n\n    var hideProps = {},\n        showProps = {};\n\n    hideProps.height = 'hide';\n    showProps.height = 'show';\n\n    $.widget('mage.collapsible', {\n        options: {\n            active: false,\n            disabled: false,\n            collapsible: true,\n            header: '[data-role=title]',\n            content: '[data-role=content]',\n            trigger: '[data-role=trigger]',\n            closedState: null,\n            openedState: null,\n            disabledState: null,\n            ajaxUrlElement: '[data-ajax=true]',\n            ajaxContent: false,\n            loadingClass: null,\n            saveState: false,\n            animate: false,\n            icons: {\n                activeHeader: null,\n                header: null\n            },\n            collateral: {\n                element: null,\n                openedState: null\n            }\n        },\n\n        /**\n         * @private\n         */\n        _create: function () {\n            this.storage = $.localStorage;\n            this.icons = false;\n\n            if (typeof this.options.icons === 'string') {\n                this.options.icons = $.parseJSON(this.options.icons);\n            }\n\n            this._processPanels();\n            this._processState();\n            this._refresh();\n\n            if (this.options.icons.header && this.options.icons.activeHeader) {\n                this._createIcons();\n                this.icons = true;\n            }\n\n            this.element.on('dimensionsChanged', function (e) {\n                if (e.target && e.target.classList.contains('active')) {\n                    this._scrollToTopIfNotVisible();\n                }\n            }.bind(this));\n\n            this._bind('click');\n            this._trigger('created');\n        },\n\n        /**\n         * @private\n         */\n        _refresh: function () {\n            this.trigger.attr('tabIndex', 0);\n\n            if (this.options.active && !this.options.disabled) {\n                if (this.options.openedState) {\n                    this.element.addClass(this.options.openedState);\n                }\n\n                if (this.options.collateral.element && this.options.collateral.openedState) {\n                    $(this.options.collateral.element).addClass(this.options.collateral.openedState);\n                }\n\n                if (this.options.ajaxContent) {\n                    this._loadContent();\n                }\n                // ARIA (updates aria attributes)\n                this.header.attr({\n                    'aria-selected': false\n                });\n            } else if (this.options.disabled) {\n                this.disable();\n            } else {\n                this.content.hide();\n\n                if (this.options.closedState) {\n                    this.element.addClass(this.options.closedState);\n                }\n            }\n        },\n\n        /**\n         * Processing the state:\n         *     If deep linking is used and the anchor is the id of the content or the content contains this id,\n         *     and the collapsible element is a nested one having collapsible parents, in order to see the content,\n         *     all the parents must be expanded.\n         * @private\n         */\n        _processState: function () {\n            var anchor = window.location.hash,\n                isValid = $.mage.isValidSelector(anchor),\n                urlPath = window.location.pathname.replace(/\\./g, ''),\n                state;\n\n            this.stateKey = encodeURIComponent(urlPath + this.element.attr('id'));\n\n            if (isValid &&\n                ($(this.content.find(anchor)).length > 0 || this.content.attr('id') === anchor.replace('#', ''))\n            ) {\n                this.element.parents('[data-collapsible=true]').collapsible('forceActivate');\n\n                if (!this.options.disabled) {\n                    this.options.active = true;\n\n                    if (this.options.saveState) { //eslint-disable-line max-depth\n                        this.storage.set(this.stateKey, true);\n                    }\n                }\n            } else if (this.options.saveState && !this.options.disabled) {\n                state = this.storage.get(this.stateKey);\n\n                if (typeof state === 'undefined' || state === null) {\n                    this.storage.set(this.stateKey, this.options.active);\n                } else if (state === true) {\n                    this.options.active = true;\n                } else if (state === false) {\n                    this.options.active = false;\n                }\n            }\n        },\n\n        /**\n         * @private\n         */\n        _createIcons: function () {\n            var icons = this.options.icons;\n\n            if (icons) {\n                $('<span>')\n                    .addClass(icons.header)\n                    .attr('data-role', 'icons')\n                    .prependTo(this.header);\n\n                if (this.options.active && !this.options.disabled) {\n                    this.header.children('[data-role=icons]')\n                        .removeClass(icons.header)\n                        .addClass(icons.activeHeader);\n                }\n            }\n        },\n\n        /**\n         * @private\n         */\n        _destroyIcons: function () {\n            this.header\n                .children('[data-role=icons]')\n                .remove();\n        },\n\n        /**\n         * @private\n         */\n        _destroy: function () {\n            var options = this.options;\n\n            this.element.removeAttr('data-collapsible');\n\n            this.trigger.removeAttr('tabIndex');\n\n            if (options.openedState) {\n                this.element.removeClass(options.openedState);\n            }\n\n            if (this.options.collateral.element && this.options.collateral.openedState) {\n                $(this.options.collateral.element).removeClass(this.options.collateral.openedState);\n            }\n\n            if (options.closedState) {\n                this.element.removeClass(options.closedState);\n            }\n\n            if (options.disabledState) {\n                this.element.removeClass(options.disabledState);\n            }\n\n            if (this.icons) {\n                this._destroyIcons();\n            }\n        },\n\n        /**\n         * @private\n         */\n        _processPanels: function () {\n            var headers, triggers;\n\n            this.element.attr('data-collapsible', 'true');\n\n            if (typeof this.options.header === 'object') {\n                this.header = this.options.header;\n            } else {\n                headers = this.element.find(this.options.header);\n\n                if (headers.length > 0) {\n                    this.header = headers.eq(0);\n                } else {\n                    this.header = this.element;\n                }\n            }\n\n            if (typeof this.options.content === 'object') {\n                this.content = this.options.content;\n            } else {\n                this.content = this.header.next(this.options.content).eq(0);\n            }\n\n            // ARIA (init aria attributes)\n            if (this.header.attr('id')) {\n                this.content.attr('aria-labelledby', this.header.attr('id'));\n            }\n\n            if (this.content.attr('id')) {\n                this.header.attr('aria-controls', this.content.attr('id'));\n            }\n\n            this.header\n                .attr({\n                    'role': 'tab',\n                    'aria-selected': this.options.active,\n                    'aria-expanded': this.options.active\n                });\n\n            // For collapsible widget only (not tabs or accordion)\n            if (this.header.parent().attr('role') !== 'presentation') {\n                this.header\n                    .parent()\n                    .attr('role', 'tablist');\n            }\n\n            this.content.attr({\n                'role': 'tabpanel',\n                'aria-hidden': !this.options.active\n            });\n\n            if (typeof this.options.trigger === 'object') {\n                this.trigger = this.options.trigger;\n            } else {\n                triggers = this.header.find(this.options.trigger);\n\n                if (triggers.length > 0) {\n                    this.trigger = triggers.eq(0);\n                } else {\n                    this.trigger = this.header;\n                }\n            }\n        },\n\n        /**\n         * @param {jQuery.Event} event\n         * @private\n         */\n        _keydown: function (event) {\n            var keyCode;\n\n            if (event.altKey || event.ctrlKey) {\n                return;\n            }\n\n            keyCode = $.ui.keyCode;\n\n            switch (event.keyCode) {\n                case keyCode.SPACE:\n                case keyCode.ENTER:\n                    this._eventHandler(event);\n                    break;\n            }\n\n        },\n\n        /**\n         * @param {jQuery.Event} event\n         * @private\n         */\n        _bind: function (event) {\n            var self = this;\n\n            this.events = {\n                keydown: '_keydown'\n            };\n\n            if (event) {\n                $.each(event.split(' '), function (index, eventName) {\n                    self.events[eventName] = '_eventHandler';\n                });\n            }\n            this._off(this.trigger);\n\n            if (!this.options.disabled) {\n                this._on(this.trigger, this.events);\n            }\n        },\n\n        /**\n         * Disable.\n         */\n        disable: function () {\n            this.options.disabled = true;\n            this._off(this.trigger);\n            this.forceDeactivate();\n\n            if (this.options.disabledState) {\n                this.element.addClass(this.options.disabledState);\n            }\n            this.trigger.attr('tabIndex', -1);\n        },\n\n        /**\n         * Enable.\n         */\n        enable: function () {\n            this.options.disabled = false;\n            this._on(this.trigger, this.events);\n            this.forceActivate();\n\n            if (this.options.disabledState) {\n                this.element.removeClass(this.options.disabledState);\n            }\n            this.trigger.attr('tabIndex', 0);\n        },\n\n        /**\n         * @param {jQuery.Event} event\n         * @private\n         */\n        _eventHandler: function (event) {\n\n            if (this.options.active && this.options.collapsible) {\n                this.deactivate();\n            } else {\n                this.activate();\n\n            }\n            event.preventDefault();\n\n        },\n\n        /**\n         * @param {*} prop\n         * @private\n         */\n        _animate: function (prop) {\n            var duration,\n                easing,\n                animate = this.options.animate;\n\n            if (typeof animate === 'number') {\n                duration = animate;\n            }\n\n            if (typeof animate === 'string') {\n                animate = $.parseJSON(animate);\n            }\n            duration = duration || animate.duration;\n            easing = animate.easing;\n            this.content.animate(prop, duration, easing);\n        },\n\n        /**\n         * Deactivate.\n         */\n        deactivate: function () {\n            if (this.options.animate) {\n                this._animate(hideProps);\n            } else {\n                this.content.hide();\n            }\n            this._close();\n        },\n\n        /**\n         * Force deactivate.\n         */\n        forceDeactivate: function () {\n            this.content.hide();\n            this._close();\n\n        },\n\n        /**\n         * @private\n         */\n        _close: function () {\n            this.options.active = false;\n\n            if (this.options.saveState) {\n                this.storage.set(this.stateKey, false);\n            }\n\n            if (this.options.openedState) {\n                this.element.removeClass(this.options.openedState);\n            }\n\n            if (this.options.collateral.element && this.options.collateral.openedState) {\n                $(this.options.collateral.element).removeClass(this.options.collateral.openedState);\n            }\n\n            if (this.options.closedState) {\n                this.element.addClass(this.options.closedState);\n            }\n\n            if (this.icons) {\n                this.header.children('[data-role=icons]')\n                    .removeClass(this.options.icons.activeHeader)\n                    .addClass(this.options.icons.header);\n            }\n\n            // ARIA (updates aria attributes)\n            this.header.attr({\n                'aria-selected': 'false',\n                'aria-expanded': 'false'\n            });\n            this.content.attr({\n                'aria-hidden': 'true'\n            });\n\n            this.element.trigger('dimensionsChanged', {\n                opened: false\n            });\n        },\n\n        /**\n         * Activate.\n         *\n         * @return void;\n         */\n        activate: function () {\n            if (this.options.disabled) {\n                return;\n            }\n\n            if (this.options.animate) {\n                this._animate(showProps);\n            } else {\n                this.content.show();\n            }\n            this._open();\n        },\n\n        /**\n         * Force activate.\n         */\n        forceActivate: function () {\n            if (!this.options.disabled) {\n                this.content.show();\n                this._open();\n            }\n        },\n\n        /**\n         * @private\n         */\n        _open: function () {\n            this.element.trigger('beforeOpen');\n            this.options.active = true;\n\n            if (this.options.ajaxContent) {\n                this._loadContent();\n            }\n\n            if (this.options.saveState) {\n                this.storage.set(this.stateKey, true);\n            }\n\n            if (this.options.openedState) {\n                this.element.addClass(this.options.openedState);\n            }\n\n            if (this.options.collateral.element && this.options.collateral.openedState) {\n                $(this.options.collateral.element).addClass(this.options.collateral.openedState);\n            }\n\n            if (this.options.closedState) {\n                this.element.removeClass(this.options.closedState);\n            }\n\n            if (this.icons) {\n                this.header.children('[data-role=icons]')\n                    .removeClass(this.options.icons.header)\n                    .addClass(this.options.icons.activeHeader);\n            }\n\n            // ARIA (updates aria attributes)\n            this.header.attr({\n                'aria-selected': 'true',\n                'aria-expanded': 'true'\n            });\n            this.content.attr({\n                'aria-hidden': 'false'\n            });\n\n            this.element.trigger('dimensionsChanged', {\n                opened: true\n            });\n        },\n\n        /**\n         * @private\n         */\n        _loadContent: function () {\n            var url = this.element.find(this.options.ajaxUrlElement).attr('href'),\n                that = this;\n\n            if (url) {\n                that.xhr = $.get({\n                    url: url,\n                    dataType: 'html'\n                }, function () {\n                });\n            }\n\n            if (that.xhr && that.xhr.statusText !== 'canceled') {\n                if (that.options.loadingClass) {\n                    that.element.addClass(that.options.loadingClass);\n                }\n                that.content.attr('aria-busy', 'true');\n                that.xhr.done(function (response) {\n                    setTimeout(function () {\n                        that.content.html(response);\n                    }, 1);\n                });\n                that.xhr.always(function (jqXHR, status) {\n                    setTimeout(function () {\n                        if (status === 'abort') {\n                            that.content.stop(false, true);\n                        }\n\n                        if (that.options.loadingClass) {\n                            that.element.removeClass(that.options.loadingClass);\n                        }\n                        that.content.removeAttr('aria-busy');\n\n                        if (jqXHR === that.xhr) {\n                            delete that.xhr;\n                        }\n                    }, 1);\n                });\n            }\n        },\n\n        /**\n         * @private\n         */\n        _scrollToTopIfNotVisible: function () {\n            if (this._isElementOutOfViewport()) {\n                this.header[0].scrollIntoView();\n            }\n        },\n\n        /**\n         * @private\n         * @return {Boolean}\n         */\n        _isElementOutOfViewport: function () {\n            var headerRect = this.header[0].getBoundingClientRect(),\n                contentRect = this.content.get().length ? this.content[0].getBoundingClientRect() : false,\n                headerOut,\n                contentOut;\n\n            headerOut = headerRect.bottom - headerRect.height < 0 ||\n                headerRect.right - headerRect.width < 0 ||\n                headerRect.left + headerRect.width > window.innerWidth ||\n                headerRect.top + headerRect.height > window.innerHeight;\n\n            contentOut = contentRect ? contentRect.bottom - contentRect.height < 0 ||\n                contentRect.right - contentRect.width < 0 ||\n                contentRect.left + contentRect.width > window.innerWidth ||\n                contentRect.top + contentRect.height > window.innerHeight : false;\n\n            return headerOut ? headerOut : contentOut;\n        }\n    });\n\n    return $.mage.collapsible;\n});\n","mage/dropdown_old.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    var ESC_KEY_CODE = '27';\n\n    $(document)\n        .on('click.dropdown', function (event) {\n            if (!$(event.target).is('[data-toggle=dropdown].active, ' +\n                '[data-toggle=dropdown].active *, ' +\n                '[data-toggle=dropdown].active + .dropdown-menu, ' +\n                '[data-toggle=dropdown].active + .dropdown-menu *,' +\n                '[data-toggle=dropdown].active + [data-target=\"dropdown\"],' +\n                '[data-toggle=dropdown].active + [data-target=\"dropdown\"] *')\n            ) {\n                $('[data-toggle=dropdown].active').trigger('close.dropdown');\n            }\n        })\n        .on('keyup.dropdown', function (event) {\n            if (event.keyCode == ESC_KEY_CODE) { //eslint-disable-line eqeqeq\n                $('[data-toggle=dropdown].active').trigger('close.dropdown');\n            }\n        });\n\n    /**\n     * @param {Object} options\n     */\n    $.fn.dropdown = function (options) {\n        options = $.extend({\n            parent: null,\n            btnArrow: '.arrow',\n            activeClass: 'active'\n        }, options);\n\n        return this.each(function () {\n            var elem = $(this);\n\n            elem.off('open.dropdown, close.dropdown, click.dropdown');\n            elem.on('open.dropdown', function () {\n                elem\n                    .addClass(options.activeClass)\n                    .parent()\n                    .addClass(options.activeClass);\n                elem.find(options.btnArrow).text('\\u25b2'); // arrow up\n            });\n\n            elem.on('close.dropdown', function () {\n                elem\n                    .removeClass(options.activeClass)\n                    .parent()\n                    .removeClass(options.activeClass);\n                elem.find(options.btnArrow).text('\\u25bc'); // arrow down\n            });\n\n            elem.on('click.dropdown', function () {\n                var isActive = elem.hasClass('active');\n\n                $('[data-toggle=dropdown].active').trigger('close.dropdown');\n                elem.trigger(isActive ? 'close.dropdown' : 'open.dropdown');\n\n                return false;\n            });\n        });\n    };\n\n    return function (data, el) {\n        $(el).dropdown(data);\n    };\n});\n","mage/popup-window.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'jquery-ui-modules/widget'\n], function ($) {\n    'use strict';\n\n    $.widget('mage.popupWindow', {\n        options: {\n            centerBrowser: 0, // center window over browser window? {1 (YES) or 0 (NO)}. overrides top and left\n            centerScreen: 0, // center window over entire screen? {1 (YES) or 0 (NO)}. overrides top and left\n            height: 500, // sets the height in pixels of the window.\n            left: 0, // left position when the window appears.\n            location: 0, // determines whether the address bar is displayed {1 (YES) or 0 (NO)}.\n            menubar: 0, // determines whether the menu bar is displayed {1 (YES) or 0 (NO)}.\n            resizable: 0, // whether the window can be resized {1 (YES) or 0 (NO)}.\n            scrollbars: 0, // determines whether scrollbars appear on the window {1 (YES) or 0 (NO)}.\n            status: 0, // whether a status line appears at the bottom of the window {1 (YES) or 0 (NO)}.\n            width: 500, // sets the width in pixels of the window.\n            windowName: null, // name of window set from the name attribute of the element that invokes the click\n            windowURL: null, // url used for the popup\n            top: 0, // top position when the window appears.\n            toolbar: 0 // determines whether a toolbar is displayed {1 (YES) or 0 (NO)}.\n        },\n\n        /**\n         * @private\n         */\n        _create: function () {\n            this.element.on('click', $.proxy(this._openPopupWindow, this));\n        },\n\n        /**\n         * @param {jQuery.Event} event\n         * @private\n         */\n        _openPopupWindow: function (event) {\n            var element = $(event.target),\n                settings = this.options,\n                windowFeatures =\n                    'height=' + settings.height +\n                        ',width=' + settings.width +\n                        ',toolbar=' + settings.toolbar +\n                        ',scrollbars=' + settings.scrollbars +\n                        ',status=' + settings.status +\n                        ',resizable=' + settings.resizable +\n                        ',location=' + settings.location +\n                        ',menuBar=' + settings.menubar,\n                centeredX,\n                centeredY;\n\n            settings.windowName = settings.windowName || element.attr('name');\n            settings.windowURL = settings.windowURL || element.attr('href');\n\n            if (settings.centerBrowser) {\n                centeredY = window.screenY + (window.outerHeight / 2 - settings.height / 2);\n                centeredX = window.screenX + (window.outerWidth / 2 - settings.width / 2);\n                windowFeatures += ',left=' + centeredX + ',top=' + centeredY;\n            } else if (settings.centerScreen) {\n                centeredY = (screen.height - settings.height) / 2;\n                centeredX = (screen.width - settings.width) / 2;\n                windowFeatures += ',left=' + centeredX + ',top=' + centeredY;\n            } else {\n                windowFeatures += ',left=' + settings.left + ',top=' + settings.top;\n            }\n\n            window.open(settings.windowURL, settings.windowName, windowFeatures).focus();\n            event.preventDefault();\n        }\n    });\n\n    return $.mage.popupWindow;\n});\n","mage/tabs.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'jquery-ui-modules/widget',\n    'jquery-ui-modules/core',\n    'mage/mage',\n    'mage/collapsible'\n], function ($) {\n    'use strict';\n\n    $.widget('mage.tabs', {\n        options: {\n            active: 0,\n            disabled: [],\n            openOnFocus: true,\n            collapsible: false,\n            collapsibleElement: '[data-role=collapsible]',\n            header: '[data-role=title]',\n            content: '[data-role=content]',\n            trigger: '[data-role=trigger]',\n            closedState: null,\n            openedState: null,\n            disabledState: null,\n            ajaxUrlElement: '[data-ajax=true]',\n            ajaxContent: false,\n            loadingClass: null,\n            saveState: false,\n            animate: false,\n            icons: {\n                activeHeader: null,\n                header: null\n            }\n        },\n\n        /**\n         * @private\n         */\n        _create: function () {\n            if (typeof this.options.disabled === 'string') {\n                this.options.disabled = this.options.disabled.split(' ').map(function (item) {\n                    return parseInt(item, 10);\n                });\n            }\n            this._processPanels();\n            this._handleDeepLinking();\n            this._processTabIndex();\n            this._closeOthers();\n            this._bind();\n        },\n\n        /**\n         * @private\n         */\n        _destroy: function () {\n            $.each(this.collapsibles, function () {\n                $(this).collapsible('destroy');\n            });\n        },\n\n        /**\n         * If deep linking is used, all sections must be closed but the one that contains the anchor.\n         * @private\n         */\n        _handleDeepLinking: function () {\n            var self = this,\n                anchor = window.location.hash,\n                isValid = $.mage.isValidSelector(anchor),\n                anchorId = anchor.replace('#', '');\n\n            if (anchor && isValid) {\n                $.each(self.contents, function (i) {\n                    if ($(this).attr('id') === anchorId || $(this).find('#' + anchorId).length) {\n                        self.collapsibles.not(self.collapsibles.eq(i)).collapsible('forceDeactivate');\n\n                        return false;\n                    }\n                });\n            }\n        },\n\n        /**\n         * When the widget gets instantiated, the first tab that is not disabled receive focusable property\n         * All tabs receive tabIndex 0\n         * @private\n         */\n        _processTabIndex: function () {\n            var self = this;\n\n            self.triggers.attr('tabIndex', 0);\n            $.each(this.collapsibles, function (i) {\n                self.triggers.attr('tabIndex', 0);\n                self.triggers.eq(i).attr('tabIndex', 0);\n            });\n        },\n\n        /**\n         * Prepare the elements for instantiating the collapsible widget\n         * @private\n         */\n        _processPanels: function () {\n            var isNotNested = this._isNotNested.bind(this);\n\n            this.contents = this.element\n                .find(this.options.content)\n                .filter(isNotNested);\n\n            this.collapsibles =  this.element\n                .find(this.options.collapsibleElement)\n                .filter(isNotNested);\n\n            this.collapsibles\n                .attr('role', 'presentation')\n                .parent()\n                .attr('role', 'tablist');\n\n            this.headers = this.element\n                .find(this.options.header)\n                .filter(isNotNested);\n\n            if (this.headers.length === 0) {\n                this.headers = this.collapsibles;\n            }\n            this.triggers = this.element\n                .find(this.options.trigger)\n                .filter(isNotNested);\n\n            if (this.triggers.length === 0) {\n                this.triggers = this.headers;\n            }\n            this._callCollapsible();\n        },\n\n        /**\n         * Checks if element is not in nested container to keep the correct scope of collapsible\n         * @param {Number} index\n         * @param {HTMLElement} element\n         * @private\n         * @return {Boolean}\n         */\n        _isNotNested: function (index, element) {\n            var parentContent = $(element).parents(this.options.content);\n\n            return !parentContent.length || !this.element.find(parentContent).length;\n        },\n\n        /**\n         * Setting the disabled and active tabs and calling instantiation of collapsible\n         * @private\n         */\n        _callCollapsible: function () {\n            var self = this,\n                disabled = false,\n                active = false;\n\n            $.each(this.collapsibles, function (i) {\n                disabled = active = false;\n\n                if ($.inArray(i, self.options.disabled) !== -1) {\n                    disabled = true;\n                }\n\n                if (i === self.options.active) {\n                    active = true;\n                }\n                self._instantiateCollapsible(this, i, active, disabled);\n            });\n        },\n\n        /**\n         * Instantiate collapsible.\n         *\n         * @param {HTMLElement} element\n         * @param {Number} index\n         * @param {*} active\n         * @param {*} disabled\n         * @private\n         */\n        _instantiateCollapsible: function (element, index, active, disabled) {\n            $(element).collapsible(\n                $.extend({}, this.options, {\n                    active: active,\n                    disabled: disabled,\n                    header: this.headers.eq(index),\n                    content: this.contents.eq(index),\n                    trigger: this.triggers.eq(index)\n                })\n            );\n        },\n\n        /**\n         * Adding callback to close others tabs when one gets opened\n         * @private\n         */\n        _closeOthers: function () {\n            var self = this;\n\n            $.each(this.collapsibles, function () {\n                $(this).on('beforeOpen', function () {\n                    self.collapsibles.not(this).collapsible('forceDeactivate');\n                });\n            });\n        },\n\n        /**\n         * @param {*} index\n         */\n        activate: function (index) {\n            this._toggleActivate('activate', index);\n        },\n\n        /**\n         * @param {*} index\n         */\n        deactivate: function (index) {\n            this._toggleActivate('deactivate', index);\n        },\n\n        /**\n         * @param {*} action\n         * @param {*} index\n         * @private\n         */\n        _toggleActivate: function (action, index) {\n            this.collapsibles.eq(index).collapsible(action);\n        },\n\n        /**\n         * @param {*} index\n         */\n        disable: function (index) {\n            this._toggleEnable('disable', index);\n        },\n\n        /**\n         * @param {*} index\n         */\n        enable: function (index) {\n            this._toggleEnable('enable', index);\n        },\n\n        /**\n         * @param {*} action\n         * @param {*} index\n         * @private\n         */\n        _toggleEnable: function (action, index) {\n            var self = this;\n\n            if ($.isArray(index)) {\n                $.each(index, function () {\n                    self.collapsibles.eq(this).collapsible(action);\n                });\n            } else if (index === undefined) {\n                this.collapsibles.collapsible(action);\n            } else {\n                this.collapsibles.eq(index).collapsible(action);\n            }\n        },\n\n        /**\n         * @param {jQuery.Event} event\n         * @private\n         */\n        _keydown: function (event) {\n            var self = this,\n                keyCode, toFocus, toFocusIndex, enabledTriggers, length, currentIndex, nextToFocus;\n\n            if (event.altKey || event.ctrlKey) {\n                return;\n            }\n            keyCode = $.ui.keyCode;\n            toFocus = false;\n            enabledTriggers = [];\n\n            $.each(this.triggers, function () {\n                if (!self.collapsibles.eq(self.triggers.index($(this))).collapsible('option', 'disabled')) {\n                    enabledTriggers.push(this);\n                }\n            });\n            length = $(enabledTriggers).length;\n            currentIndex = $(enabledTriggers).index(event.target);\n\n            /**\n             * @param {String} direction\n             * @return {*}\n             */\n            nextToFocus = function (direction) {\n                if (length > 0) {\n                    if (direction === 'right') {\n                        toFocusIndex = (currentIndex + 1) % length;\n                    } else {\n                        toFocusIndex = (currentIndex + length - 1) % length;\n                    }\n\n                    return enabledTriggers[toFocusIndex];\n                }\n\n                return event.target;\n            };\n\n            switch (event.keyCode) {\n                case keyCode.RIGHT:\n                case keyCode.DOWN:\n                    toFocus = nextToFocus('right');\n                    break;\n\n                case keyCode.LEFT:\n                case keyCode.UP:\n                    toFocus = nextToFocus('left');\n                    break;\n\n                case keyCode.HOME:\n                    toFocus = enabledTriggers[0];\n                    break;\n\n                case keyCode.END:\n                    toFocus = enabledTriggers[length - 1];\n                    break;\n            }\n\n            if (toFocus) {\n                toFocusIndex = this.triggers.index(toFocus);\n                $(event.target).attr('tabIndex', -1);\n                $(toFocus).attr('tabIndex', 0);\n                toFocus.focus();\n\n                if (this.options.openOnFocus) {\n                    this.activate(toFocusIndex);\n                }\n                event.preventDefault();\n            }\n        },\n\n        /**\n         * @private\n         */\n        _bind: function () {\n            var events = {\n                keydown: '_keydown'\n            };\n\n            this._off(this.triggers);\n            this._on(this.triggers, events);\n        }\n    });\n\n    return $.mage.tabs;\n});\n","mage/view/composite.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @deprecated since version 2.2.0\n */\n/* eslint-disable strict */\ndefine(['jquery'], function ($) {\n    return function () {\n        var renderedChildren = {},\n            children = {};\n\n        return {\n            /**\n             * @param {*} child\n             * @param {String} key\n             */\n            addChild: function (child, key) {\n                children[key] = child;\n            },\n\n            /**\n             * @param {*} root\n             */\n            render: function (root) {\n                $.each(children, function (key, child) {\n                    var childRoot = $('<div>');\n\n                    renderedChildren[key] = child.render(childRoot);\n                    root.append(childRoot);\n                });\n            }\n        };\n    };\n});\n","mage/adminhtml/accordion.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* global varienAccordion, varienLoader, Cookie */\n/* eslint-disable strict */\ndefine([\n    'prototype'\n], function () {\n    window.varienAccordion = new Class.create(); //eslint-disable-line\n    varienAccordion.prototype = {\n        /**\n         * @param {*} containerId\n         * @param {*} activeOnlyOne\n         */\n        initialize: function (containerId, activeOnlyOne) {\n            var links, i;\n\n            this.containerId = containerId;\n            this.activeOnlyOne = activeOnlyOne || false;\n            this.container = $(this.containerId);\n            this.items = $$('#' + this.containerId + ' dt');\n            this.loader = new varienLoader(true); //jscs:ignore requireCapitalizedConstructors\n\n            links = $$('#' + this.containerId + ' dt a');\n\n            for (i in links) {\n                if (links[i].href) {\n                    Event.observe(links[i], 'click', this.clickItem.bind(this));\n                    this.items[i].dd = this.items[i].next('dd');\n                    this.items[i].link = links[i];\n                }\n            }\n\n            this.initFromCookie();\n        },\n\n        /**\n         * Init from cookie.\n         */\n        initFromCookie: function () {\n            var activeItemId, visibility;\n\n            if (this.activeOnlyOne &&\n                (activeItemId = Cookie.read(this.cookiePrefix() + 'active-item')) !== null) {\n                this.hideAllItems();\n                this.showItem(this.getItemById(activeItemId));\n            } else if (!this.activeOnlyOne) {\n                this.items.each(function (item) {\n                    if ((visibility = Cookie.read(this.cookiePrefix() + item.id)) !== null) {\n                        if (visibility == 0) { //eslint-disable-line eqeqeq\n                            this.hideItem(item);\n                        } else {\n                            this.showItem(item);\n                        }\n                    }\n                }.bind(this));\n            }\n        },\n\n        /**\n         * @return {String}\n         */\n        cookiePrefix: function () {\n            return 'accordion-' + this.containerId + '-';\n        },\n\n        /**\n         * @param {*} itemId\n         * @return {*}\n         */\n        getItemById: function (itemId) {\n            var result = null;\n\n            this.items.each(function (item) {\n                if (item.id == itemId) { //eslint-disable-line\n                    result = item;\n                    throw $break;\n                }\n            });\n\n            return result;\n        },\n\n        /**\n         * @param {*} event\n         */\n        clickItem: function (event) {\n            var item = Event.findElement(event, 'dt');\n\n            if (this.activeOnlyOne) {\n                this.hideAllItems();\n                this.showItem(item);\n                Cookie.write(this.cookiePrefix() + 'active-item', item.id, 30 * 24 * 60 * 60);\n            } else {\n                if (this.isItemVisible(item)) { //eslint-disable-line no-lonely-if\n                    this.hideItem(item);\n                    Cookie.write(this.cookiePrefix() + item.id, 0, 30 * 24 * 60 * 60);\n                } else {\n                    this.showItem(item);\n                    Cookie.write(this.cookiePrefix() + item.id, 1, 30 * 24 * 60 * 60);\n                }\n            }\n            Event.stop(event);\n        },\n\n        /**\n         * @param {Object} item\n         */\n        showItem: function (item) {\n            if (item && item.link) {\n                if (item.link.href) {\n                    this.loadContent(item);\n                }\n\n                Element.addClassName(item, 'open');\n                Element.addClassName(item.dd, 'open');\n            }\n        },\n\n        /**\n         * @param {Object} item\n         */\n        hideItem: function (item) {\n            Element.removeClassName(item, 'open');\n            Element.removeClassName(item.dd, 'open');\n        },\n\n        /**\n         * @param {*} item\n         * @return {*}\n         */\n        isItemVisible: function (item) {\n            return Element.hasClassName(item, 'open');\n        },\n\n        /**\n         * @param {*} item\n         */\n        loadContent: function (item) {\n            if (item.link.href.indexOf('#') == item.link.href.length - 1) { //eslint-disable-line eqeqeq\n                return;\n            }\n\n            if (Element.hasClassName(item.link, 'ajax')) {\n                this.loadingItem = item;\n                this.loader.load(item.link.href, {\n                    updaterId: this.loadingItem.dd.id\n                }, this.setItemContent.bind(this));\n\n                return;\n            }\n            location.href = item.link.href;\n        },\n\n        /**\n         * @param {Object} content\n         */\n        setItemContent: function (content) {\n            if (content.isJSON) {\n                return;\n            }\n            this.loadingItem.dd.innerHTML = content;\n        },\n\n        /**\n         * Hide all items\n         */\n        hideAllItems: function () {\n            var i;\n\n            for (i in this.items) {\n                if (this.items[i].id) {\n                    Element.removeClassName(this.items[i], 'open');\n                    Element.removeClassName(this.items[i].dd, 'open');\n                }\n            }\n        }\n    };\n});\n","mage/adminhtml/events.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* global varienEvents */\n/* eslint-disable strict */\ndefine([\n    'Magento_Ui/js/modal/alert',\n    'prototype'\n], function (alert) {\n    // from http://www.someelement.com/2007/03/eventpublisher-custom-events-la-pubsub.html\n    window.varienEvents = Class.create();\n\n    varienEvents.prototype = {\n        /**\n         * Initialize.\n         */\n        initialize: function () {\n            this.arrEvents = {};\n            this.eventPrefix = '';\n        },\n\n        /**\n        * Attaches a {handler} function to the publisher's {eventName} event for execution upon the event firing\n        * @param {String} eventName\n        * @param {Function} handler\n        * @param {Boolean} [asynchFlag] - Defaults to false if omitted.\n        * Indicates whether to execute {handler} asynchronously (true) or not (false).\n        */\n        attachEventHandler: function (eventName, handler) {\n            var asynchVar, handlerObj;\n\n            if (typeof handler == 'undefined' || handler == null) {\n                return;\n            }\n            eventName += this.eventPrefix;\n            // using an event cache array to track all handlers for proper cleanup\n            if (this.arrEvents[eventName] == null) {\n                this.arrEvents[eventName] = [];\n            }\n            //create a custom object containing the handler method and the asynch flag\n            asynchVar = arguments.length > 2 ? arguments[2] : false;\n            handlerObj = {\n                method: handler,\n                asynch: asynchVar\n            };\n            this.arrEvents[eventName].push(handlerObj);\n        },\n\n        /**\n        * Removes a single handler from a specific event\n        * @param {String} eventName - The event name to clear the handler from\n        * @param {Function} handler - A reference to the handler function to un-register from the event\n        */\n        removeEventHandler: function (eventName, handler) {\n            eventName += this.eventPrefix;\n\n            if (this.arrEvents[eventName] != null) {\n                this.arrEvents[eventName] = this.arrEvents[eventName].reject(function (obj) {\n                    return obj.method == handler; //eslint-disable-line eqeqeq\n                });\n            }\n        },\n\n        /**\n        * Removes all handlers from a single event\n        * @param {String} eventName - The event name to clear handlers from\n        */\n        clearEventHandlers: function (eventName) {\n            eventName += this.eventPrefix;\n            this.arrEvents[eventName] = null;\n        },\n\n        /**\n        * Removes all handlers from ALL events\n        */\n        clearAllEventHandlers: function () {\n            this.arrEvents = {};\n        },\n\n        /**\n         * Collect and modify value of arg synchronously in succession and return its new value.\n         * In order to use, call attachEventHandler and add function handlers with eventName.\n         * Then call fireEventReducer with eventName and any argument to have its value accumulatively modified.\n         * Event handlers will be applied to argument in order of first attached to last attached.\n         * @param {String} eventName\n         * @param {*} arg\n         */\n        fireEventReducer: function (eventName, arg) {\n            var evtName = eventName + this.eventPrefix,\n                result = arg,\n                len,\n                i;\n\n            if (!this.arrEvents[evtName]) {\n                return result;\n            }\n\n            len = this.arrEvents[evtName].length; //optimization\n\n            for (i = 0; i < len; i++) {\n                /* eslint-disable max-depth */\n                try {\n                    result = this.arrEvents[evtName][i].method(result);\n                } catch (e) {\n                    if (this.id) {\n                        alert({\n                            content: 'error: error in ' + this.id + '.fireEventReducer():\\n\\nevent name: ' +\n                            eventName + '\\n\\nerror message: ' + e.message\n                        });\n                    } else {\n                        alert({\n                            content: 'error: error in [unknown object].fireEventReducer():\\n\\nevent name: ' +\n                            eventName + '\\n\\nerror message: ' + e.message\n                        });\n                    }\n                }\n                /* eslint-disable max-depth */\n            }\n\n            return result;\n        },\n\n        /**\n        * Fires the event {eventName}, resulting in all registered handlers to be executed.\n        * It also collects and returns results of all non-asynchronous handlers\n        * @param {String} eventName - The name of the event to fire\n        * @param {Object} [args] - Any object, will be passed into the handler function as the only argument\n        * @return {Array}\n        */\n        fireEvent: function (eventName) {\n            var evtName = eventName + this.eventPrefix,\n                results = [],\n                result, len, i, eventArgs, method, eventHandler;\n\n            if (this.arrEvents[evtName] != null) {\n                len = this.arrEvents[evtName].length; //optimization\n\n                for (i = 0; i < len; i++) {\n                    /* eslint-disable max-depth */\n                    try {\n                        if (arguments.length > 1) {\n                            if (this.arrEvents[evtName][i].asynch) {\n                                eventArgs = arguments[1];\n                                method = this.arrEvents[evtName][i].method.bind(this);\n                                setTimeout(function () { //eslint-disable-line no-loop-func\n                                    method(eventArgs);\n                                }, 10);\n                            } else {\n                                result = this.arrEvents[evtName][i].method(arguments[1]);\n                            }\n                        } else {\n                            if (this.arrEvents[evtName][i].asynch) { //eslint-disable-line no-lonely-if\n                                eventHandler = this.arrEvents[evtName][i].method;\n                                setTimeout(eventHandler, 1);\n                            } else if (\n                                this.arrEvents &&\n                                this.arrEvents[evtName] &&\n                                this.arrEvents[evtName][i] &&\n                                this.arrEvents[evtName][i].method\n                            ) {\n                                result = this.arrEvents[evtName][i].method();\n                            }\n                        }\n                        results.push(result);\n                    }\n                    catch (e) {\n                        if (this.id) {\n                            alert({\n                                content: 'error: error in ' + this.id + '.fireEvent():\\n\\nevent name: ' +\n                                eventName + '\\n\\nerror message: ' + e.message\n                            });\n                        } else {\n                            alert({\n                                content: 'error: error in [unknown object].fireEvent():\\n\\nevent name: ' +\n                                eventName + '\\n\\nerror message: ' + e.message\n                            });\n                        }\n                    }\n\n                    /* eslint-enable max-depth */\n                }\n            }\n\n            return results;\n        }\n    };\n\n    window.varienGlobalEvents = new varienEvents(); //jscs:ignore requireCapitalizedConstructors\n\n    return window.varienGlobalEvents;\n});\n","mage/adminhtml/grid.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n// also depends on a mage/adminhtml/tools.js for Base64 encoding\n/* global varienGrid, setLocation, varienGlobalEvents, FORM_KEY,\n    BASE_URL, Base64, varienGridMassaction, varienStringArray, serializerController\n*/\n/* eslint-disable strict */\ndefine([\n    'jquery',\n    'mage/template',\n    'Magento_Ui/js/modal/alert',\n    'Magento_Ui/js/modal/confirm',\n    'mage/mage',\n    'prototype',\n    'mage/adminhtml/form',\n    'mage/adminhtml/events'\n], function (jQuery, mageTemplate, alert, confirm) {\n    /**\n     * @param {*} grid\n     * @param {*} event\n     */\n    function openGridRow(grid, event) {\n        var element = Event.findElement(event, 'tr');\n\n        if (['a', 'input', 'select', 'option'].indexOf(Event.element(event).tagName.toLowerCase()) !== -1) {\n            return;\n        }\n\n        if (element.title) {\n            setLocation(element.title);\n        }\n    }\n    window.openGridRow = openGridRow;\n\n    window.varienGrid = new Class.create();\n\n    varienGrid.prototype = {\n        /**\n         * @param {String} containerId\n         * @param {String} url\n         * @param {*} pageVar\n         * @param {*} sortVar\n         * @param {*} dirVar\n         * @param {*} filterVar\n         */\n        initialize: function (containerId, url, pageVar, sortVar, dirVar, filterVar) {\n            this.containerId = containerId;\n            jQuery('#' + containerId).data('gridObject', this);\n            this.url = url;\n            this.pageVar = pageVar || false;\n            this.sortVar = sortVar || false;\n            this.dirVar = dirVar || false;\n            this.filterVar = filterVar || false;\n            this.tableSufix = '_table';\n            this.useAjax = false;\n            this.rowClickCallback = false;\n            this.checkboxCheckCallback = false;\n            this.preInitCallback = false;\n            this.initCallback = false;\n            this.initRowCallback = false;\n            this.doFilterCallback = false;\n            this.sortableUpdateCallback = false;\n            this.targetElement = undefined;\n            this.filterKeyPressCallback = false;\n\n            this.reloadParams = false;\n\n            this.trOnMouseOver = this.rowMouseOver.bindAsEventListener(this);\n            this.trOnMouseOut = this.rowMouseOut.bindAsEventListener(this);\n            this.trOnMouseDown = this.rowMouseDown.bindAsEventListener(this);\n            this.trOnClick = this.rowMouseClick.bindAsEventListener(this);\n            this.trOnDblClick = this.rowMouseDblClick.bindAsEventListener(this);\n            this.trOnKeyPress = this.keyPress.bindAsEventListener(this);\n\n            this.thLinkOnClick = this.doSort.bindAsEventListener(this);\n            this.initGrid();\n        },\n\n        /**\n         * Init grid.\n         */\n        initGrid: function () {\n            var row, columns, col;\n\n            if (this.preInitCallback) {\n                this.preInitCallback(this);\n            }\n\n            if ($(this.containerId + this.tableSufix)) {\n                this.rows = $$('#' + this.containerId + this.tableSufix + ' tbody tr');\n\n                for (row = 0; row < this.rows.length; row++) {\n                    if (row % 2 == 0) { //eslint-disable-line eqeqeq, max-depth\n                        Element.addClassName(this.rows[row], 'even');\n                    }\n\n                    Event.observe(this.rows[row], 'mouseover', this.trOnMouseOver);\n                    Event.observe(this.rows[row], 'mouseout', this.trOnMouseOut);\n                    Event.observe(this.rows[row], 'mousedown', this.trOnMouseDown);\n                    Event.observe(this.rows[row], 'click', this.trOnClick);\n                    Event.observe(this.rows[row], 'dblclick', this.trOnDblClick);\n                }\n            }\n\n            if (this.sortVar && this.dirVar) {\n                columns = $$('#' + this.containerId + this.tableSufix + ' thead [data-sort]');\n\n                for (col = 0; col < columns.length; col++) {\n                    Event.observe(columns[col], 'click', this.thLinkOnClick);\n                }\n            }\n            this.bindFilterFields();\n            this.bindFieldsChange();\n\n            if (this.initCallback) {\n                try {\n                    this.initCallback(this);\n                } catch (e) {\n                    if (window.console) { //eslint-disable-line max-depth\n                        console.log(e);\n                    }\n                }\n            }\n            jQuery('#' + this.containerId).trigger('gridinit', this);\n        },\n\n        /**\n         * Init grid ajax.\n         */\n        initGridAjax: function () {\n            this.initGrid();\n            this.initGridRows();\n        },\n\n        /**\n         * Init grid rows.\n         */\n        initGridRows: function () {\n            var row;\n\n            if (this.initRowCallback) {\n                for (row = 0; row < this.rows.length; row++) {\n                    try { //eslint-disable-line max-depth\n                        this.initRowCallback(this, this.rows[row]);\n                    } catch (e) {\n                        if (window.console) { //eslint-disable-line max-depth\n                            console.log(e);\n                        }\n                    }\n                }\n            }\n        },\n\n        /**\n         * @param {*} event\n         */\n        rowMouseOver: function (event) {\n            var element = Event.findElement(event, 'tr');\n\n            if (!element.title) {\n                return;\n            }\n\n            Element.addClassName(element, 'on-mouse');\n\n            if (!Element.hasClassName('_clickable') && (this.rowClickCallback !== openGridRow || element.title)) {\n                if (element.title) {\n                    Element.addClassName(element, '_clickable');\n                }\n            }\n        },\n\n        /**\n         * @param {*} event\n         */\n        rowMouseOut: function (event) {\n            var element = Event.findElement(event, 'tr');\n\n            Element.removeClassName(element, 'on-mouse');\n        },\n\n        /**\n         * @param {*} event\n         */\n        rowMouseDown: function (event) {\n            this.targetElement = event.target;\n        },\n\n        /**\n         * @param {*} event\n         */\n        rowMouseClick: function (event) {\n            if (this.rowClickCallback) {\n                try {\n                    this.rowClickCallback(this, event);\n                } catch (e) {\n                }\n            }\n            varienGlobalEvents.fireEvent('gridRowClick', event);\n            this.targetElement = undefined;\n        },\n\n        /**\n         * @param {*} event\n         */\n        rowMouseDblClick: function (event) {\n            varienGlobalEvents.fireEvent('gridRowDblClick', event);\n        },\n\n        /**\n         * Key press.\n         */\n        keyPress: function () {\n        },\n\n        /**\n         * @param {*} event\n         * @return {Boolean}\n         */\n        doSort: function (event) {\n            var element = Event.findElement(event, 'th');\n\n            if (element.readAttribute('data-sort') && element.readAttribute('data-direction')) {\n                this.addVarToUrl(this.sortVar, element.readAttribute('data-sort'));\n                this.addVarToUrl(this.dirVar, element.readAttribute('data-direction'));\n                this.reload(this.url);\n            }\n            Event.stop(event);\n\n            return false;\n        },\n\n        /**\n         * @param {Object} element\n         */\n        loadByElement: function (element) {\n            if (element && element.name) {\n                this.reload(this.addVarToUrl(element.name, element.value));\n            }\n        },\n\n        /**\n         * @param {*} data\n         * @param {*} textStatus\n         * @param {*} transport\n         * @private\n         */\n        _onAjaxSeccess: function (data, textStatus, transport) {\n            var responseText, response, divId;\n\n            /* eslint-disable max-depth */\n            try {\n                responseText = transport.responseText;\n\n                if (transport.responseText.isJSON()) {\n                    response = transport.responseText.evalJSON();\n\n                    if (response.error) {\n                        alert({\n                            content: response.message\n                        });\n                    }\n\n                    if (response.ajaxExpired && response.ajaxRedirect) {\n                        setLocation(response.ajaxRedirect);\n                    }\n                } else {\n\n                    /*eslint-disable max-len*/\n                    /**\n                     * For IE <= 7.\n                     * If there are two elements, and first has name, that equals id of second.\n                     * In this case, IE will choose one that is above\n                     *\n                     * @see https://prototype.lighthouseapp.com/projects/8886/tickets/994-id-selector-finds-elements-by-name-attribute-in-ie7\n                     */\n\n                    /*eslint-enable max-len*/\n                    divId = $(this.containerId);\n\n                    if (divId.id == this.containerId) { //eslint-disable-line eqeqeq\n                        divId.update(responseText);\n                    } else {\n                        $$('div[id=\"' + this.containerId + '\"]')[0].update(responseText);\n                    }\n                }\n            } catch (e) {\n                divId = $(this.containerId);\n\n                if (divId.id == this.containerId) { //eslint-disable-line eqeqeq\n                    divId.update(responseText);\n                } else {\n                    $$('div[id=\"' + this.containerId + '\"]')[0].update(responseText);\n                }\n            }\n\n            /* eslint-enable max-depth */\n            jQuery('#' + this.containerId).trigger('contentUpdated');\n        },\n\n        /**\n         * @param {*} url\n         * @param {Function} onSuccessCallback\n         * @return {*}\n         */\n        reload: function (url, onSuccessCallback) {\n            var ajaxSettings, ajaxRequest;\n\n            this.reloadParams = this.reloadParams || {};\n            this.reloadParams['form_key'] = FORM_KEY;\n            url = url || this.url;\n\n            if (this.useAjax) {\n                ajaxSettings = {\n                    url: url + (url.match(new RegExp('\\\\?')) ? '&ajax=true' : '?ajax=true'),\n                    showLoader: true,\n                    method: 'post',\n                    context: jQuery('#' + this.containerId),\n                    data: this.reloadParams,\n                    error: this._processFailure.bind(this),\n                    complete: this.initGridAjax.bind(this),\n                    dataType: 'html',\n\n                    /**\n                     * Success callback.\n                     */\n                    success: function (data, textStatus, transport) {\n                        this._onAjaxSeccess(data, textStatus, transport);\n\n                        if (onSuccessCallback && typeof onSuccessCallback === 'function') {\n                            // execute the callback, passing parameters as necessary\n                            onSuccessCallback();\n                        }\n                    }.bind(this)\n                };\n                jQuery('#' + this.containerId).trigger('gridajaxsettings', ajaxSettings);\n                ajaxRequest = jQuery.ajax(ajaxSettings);\n                jQuery('#' + this.containerId).trigger('gridajax', ajaxRequest);\n\n                return ajaxRequest;\n            }\n\n            if (this.reloadParams) {\n                $H(this.reloadParams).each(function (pair) {\n                    url = this.addVarToUrl(pair.key, pair.value);\n                }.bind(this));\n            }\n            location.href = url;\n        },\n\n        /**\n         * @private\n         */\n        _processFailure: function () {\n            location.href = BASE_URL;\n        },\n\n        /**\n         * @param {*} url\n         * @param {*} varName\n         * @param {*} varValue\n         * @return {String|*}\n         * @private\n         */\n        _addVarToUrl: function (url, varName, varValue) {\n            var re = new RegExp('\\/(' + varName + '\\/.*?\\/)'),\n                parts = url.split(new RegExp('\\\\?'));\n\n            url = parts[0].replace(re, '/');\n            url += varName + '/' + varValue + '/';\n\n            if (parts.size() > 1) {\n                url += '?' + parts[1];\n            }\n\n            return url;\n        },\n\n        /**\n         * Builds the form with fields containing the and submits\n         *\n         * @param {String} url\n         * @param {String} varName\n         * @param {String} varValue\n         * @private\n         */\n        _buildFormAndSubmit: function (url, varName, varValue) {\n            var re = new RegExp('\\/(' + varName + '\\/.*?\\/)'),\n                parts = url.split(new RegExp('\\\\?')),\n                form = jQuery('<form/>'),\n                inputProps = [\n                    {\n                        name: varName,\n                        value: varValue\n                    },\n                    {\n                        name: 'form_key',\n                        value: window.FORM_KEY\n                    }\n                ],\n                input;\n\n            url = parts[0].replace(re, '/');\n\n            if (parts.size() > 1) {\n                url += '?' + parts[1];\n            }\n\n            form.attr('action', url);\n            form.attr('method', 'POST');\n\n            inputProps.forEach(function (item) {\n                input = jQuery('<input/>');\n                input.attr('name', item.name);\n                input.attr('type', 'hidden');\n                input.val(item.value);\n                form.append(input);\n            });\n            jQuery('[data-container=\"body\"]').append(form);\n            form.submit();\n            form.remove();\n        },\n\n        /**\n         * @param {*} varName\n         * @param {*} varValue\n         * @return {*|String}\n         */\n        addVarToUrl: function (varName, varValue) {\n            this.url = this._addVarToUrl(this.url, varName, varValue);\n\n            return this.url;\n        },\n\n        /**\n         * Do export.\n         */\n        doExport: function () {\n            var exportUrl;\n\n            if ($(this.containerId + '_export')) {\n                exportUrl = $(this.containerId + '_export').value;\n\n                if (this.massaction && this.massaction.checkedString) {\n                    this._buildFormAndSubmit(\n                        exportUrl,\n                        this.massaction.formFieldNameInternal,\n                        this.massaction.checkedString\n                    );\n                } else {\n                    location.href = exportUrl;\n                }\n            }\n        },\n\n        /**\n         * Bind filter fields.\n         */\n        bindFilterFields: function () {\n            var filters = $$(\n                '#' + this.containerId + ' [data-role=\"filter-form\"] input',\n                '#' + this.containerId + ' [data-role=\"filter-form\"] select'\n                ),\n                i;\n\n            for (i = 0; i < filters.length; i++) {\n                Event.observe(filters[i], 'keypress', this.filterKeyPress.bind(this));\n            }\n        },\n\n        /**\n         * Bind field change.\n         */\n        bindFieldsChange: function () {\n            var dataElements, i;\n\n            if (!$(this.containerId)) {\n                return;\n            }\n            //var dataElements = $(this.containerId+this.tableSufix).down('.data tbody').select('input', 'select');\n            dataElements = $(this.containerId + this.tableSufix).down('tbody').select('input', 'select');\n\n            for (i = 0; i < dataElements.length; i++) {\n                Event.observe(dataElements[i], 'change', dataElements[i].setHasChanges.bind(dataElements[i]));\n            }\n        },\n\n        /**\n         * Bind sortable.\n         */\n        bindSortable: function () {\n            if (jQuery('#' + this.containerId).find('.draggable-handle').length) {\n                jQuery('#' + this.containerId).find('tbody').sortable({\n                    axis: 'y',\n                    handle: '.draggable-handle',\n\n                    /**\n                     * @param {*} event\n                     * @param {*} ui\n                     * @return {*}\n                     */\n                    helper: function (event, ui) {\n                        ui.children().each(function () {\n                            jQuery(this).width(jQuery(this).width());\n                        });\n\n                        return ui;\n                    },\n                    update: this.sortableUpdateCallback ? this.sortableUpdateCallback : function () {\n                    },\n                    tolerance: 'pointer'\n                });\n            }\n        },\n\n        /**\n         * @param {Object} event\n         */\n        filterKeyPress: function (event) {\n            if (event.keyCode == Event.KEY_RETURN) { //eslint-disable-line eqeqeq\n                this.doFilter();\n            }\n\n            if (this.filterKeyPressCallback) {\n                this.filterKeyPressCallback(this, event);\n            }\n        },\n\n        /**\n         * @param {Function} callback\n         */\n        doFilter: function (callback) {\n            var filters = $$(\n                '#' + this.containerId + ' [data-role=\"filter-form\"] input',\n                '#' + this.containerId + ' [data-role=\"filter-form\"] select'\n                ),\n                elements = [],\n                i;\n\n            for (i in filters) {\n                if (filters[i].value && filters[i].value.length) {\n                    elements.push(filters[i]);\n                }\n            }\n\n            if (!this.doFilterCallback || this.doFilterCallback && this.doFilterCallback()) {\n                this.reload(\n                    this.addVarToUrl(this.filterVar, Base64.encode(Form.serializeElements(elements))),\n                    callback\n                );\n            }\n        },\n\n        /**\n         * @param {Function} callback\n         */\n        resetFilter: function (callback) {\n            this.reload(this.addVarToUrl(this.filterVar, ''), callback);\n        },\n\n        /**\n         * @param {Object} element\n         */\n        checkCheckboxes: function (element) {\n            var elements = Element.select($(this.containerId), 'input[name=\"' + element.name + '\"]'),\n                i;\n\n            for (i = 0; i < elements.length; i++) {\n                this.setCheckboxChecked(elements[i], element.checked);\n            }\n\n            /*eslint-enable no-undef*/\n        },\n\n        /**\n         *\n         * @param {HTMLElement} element\n         * @param {*} checked\n         */\n        setCheckboxChecked: function (element, checked) {\n            element.checked = checked;\n            jQuery(element).trigger('change');\n            element.setHasChanges({});\n\n            if (this.checkboxCheckCallback) {\n                this.checkboxCheckCallback(this, element, checked);\n            }\n        },\n\n        /**\n         * @param {Object} event\n         * @param {*} lastId\n         */\n        inputPage: function (event, lastId) {\n            var element = Event.element(event),\n                keyCode = event.keyCode || event.which,\n                enteredValue = parseInt(element.value, 10),\n                pageId = parseInt(lastId, 10);\n\n            if (keyCode == Event.KEY_RETURN) { //eslint-disable-line eqeqeq\n                if (enteredValue > pageId) {\n                    this.setPage(pageId);\n                } else {\n                    this.setPage(enteredValue);\n                }\n            }\n\n            /*if(keyCode>47 && keyCode<58){\n\n             }\n             else{\n             Event.stop(event);\n             }*/\n        },\n\n        /**\n         * @param {*} pageNumber\n         */\n        setPage: function (pageNumber) {\n            this.reload(this.addVarToUrl(this.pageVar, pageNumber));\n        }\n    };\n\n    window.varienGridMassaction = Class.create();\n    varienGridMassaction.prototype = {\n        /* Predefined vars */\n        checkedValues: $H({}),\n        checkedString: '',\n        oldCallbacks: {},\n        errorText: '',\n        items: {},\n        gridIds: [],\n        useSelectAll: false,\n        currentItem: false,\n        lastChecked: {\n            left: false,\n            top: false,\n            checkbox: false\n        },\n        fieldTemplate: mageTemplate('<input type=\"hidden\" name=\"<%- name %>\" value=\"<%- value %>\" />'),\n\n        /**\n         * @param {*} containerId\n         * @param {*} grid\n         * @param {*} checkedValues\n         * @param {*} formFieldNameInternal\n         * @param {*} formFieldName\n         */\n        initialize: function (containerId, grid, checkedValues, formFieldNameInternal, formFieldName) {\n            this.setOldCallback('row_click', grid.rowClickCallback);\n            this.setOldCallback('init', grid.initCallback);\n            this.setOldCallback('init_row', grid.initRowCallback);\n            this.setOldCallback('pre_init', grid.preInitCallback);\n\n            this.useAjax = false;\n            this.grid = grid;\n            this.grid.massaction = this;\n            this.containerId = containerId;\n            this.initMassactionElements();\n\n            this.checkedString = checkedValues;\n            this.formFieldName = formFieldName;\n            this.formFieldNameInternal = formFieldNameInternal;\n\n            this.grid.initCallback = this.onGridInit.bind(this);\n            this.grid.preInitCallback = this.onGridPreInit.bind(this);\n            this.grid.initRowCallback = this.onGridRowInit.bind(this);\n            this.grid.rowClickCallback = this.onGridRowClick.bind(this);\n            this.initCheckboxes();\n            this.checkCheckboxes();\n        },\n\n        /**\n         * @param {*} flag\n         */\n        setUseAjax: function (flag) {\n            this.useAjax = flag;\n        },\n\n        /**\n         * @param {*} flag\n         */\n        setUseSelectAll: function (flag) {\n            this.useSelectAll = flag;\n        },\n\n        /**\n         * Init massaction elements.\n         */\n        initMassactionElements: function () {\n            this.container = $(this.containerId);\n            this.multiselect = $(this.containerId + '-mass-select');\n            this.count = $(this.containerId + '-count');\n            this.formHiddens = $(this.containerId + '-form-hiddens');\n            this.formAdditional = $(this.containerId + '-form-additional');\n            this.select = $(this.containerId + '-select');\n            this.form = this.prepareForm();\n            jQuery(this.form).mage('validation');\n            this.select.observe('change', this.onSelectChange.bindAsEventListener(this));\n            this.lastChecked = {\n                left: false,\n                top: false,\n                checkbox: false\n            };\n            this.select.addClassName(this.select.value ? '_selected' : '');\n            this.initMassSelect();\n        },\n\n        /**\n         * @return {jQuery|*|HTMLElement}\n         */\n        prepareForm: function () {\n            var form = $(this.containerId + '-form'),\n                formPlace = null,\n                formElement = this.formHiddens || this.formAdditional;\n\n            if (!formElement) {\n                formElement = this.container.getElementsByTagName('button')[0];\n                formElement && formElement.parentNode;\n            }\n\n            if (!form && formElement) {\n                /* fix problem with rendering form in FF through innerHTML property */\n                form = document.createElement('form');\n                form.setAttribute('method', 'post');\n                form.setAttribute('action', '');\n                form.id = this.containerId + '-form';\n                formPlace = formElement.parentNode;\n                formPlace.parentNode.appendChild(form);\n                form.appendChild(formPlace);\n            }\n\n            return form;\n        },\n\n        /**\n         * @param {Array} gridIds\n         */\n        setGridIds: function (gridIds) {\n            this.gridIds = gridIds;\n            this.updateCount();\n        },\n\n        /**\n         * @return {Array}\n         */\n        getGridIds: function () {\n            return this.gridIds;\n        },\n\n        /**\n         * @param {*} items\n         */\n        setItems: function (items) {\n            this.items = items;\n            this.updateCount();\n        },\n\n        /**\n         * @return {Object}\n         */\n        getItems: function () {\n            return this.items;\n        },\n\n        /**\n         * @param {*} itemId\n         * @return {*}\n         */\n        getItem: function (itemId) {\n            if (this.items[itemId]) {\n                return this.items[itemId];\n            }\n\n            return false;\n        },\n\n        /**\n         * @param {String} callbackName\n         * @return {Function}\n         */\n        getOldCallback: function (callbackName) {\n            return this.oldCallbacks[callbackName] ? this.oldCallbacks[callbackName] : Prototype.emptyFunction;\n        },\n\n        /**\n         * @param {String} callbackName\n         * @param {Function} callback\n         */\n        setOldCallback: function (callbackName, callback) {\n            this.oldCallbacks[callbackName] = callback;\n        },\n\n        /**\n         * @param {*} grid\n         */\n        onGridPreInit: function (grid) {\n            this.initMassactionElements();\n            this.getOldCallback('pre_init')(grid);\n        },\n\n        /**\n         * @param {*} grid\n         */\n        onGridInit: function (grid) {\n            this.initCheckboxes();\n            this.checkCheckboxes();\n            this.updateCount();\n            this.getOldCallback('init')(grid);\n        },\n\n        /**\n         * @param {*} grid\n         * @param {*} row\n         */\n        onGridRowInit: function (grid, row) {\n            this.getOldCallback('init_row')(grid, row);\n        },\n\n        /**\n         * @param {Object} evt\n         */\n        isDisabled: function (evt) {\n            var target = jQuery(evt.target),\n                tr,\n                checkbox;\n\n            tr = target.is('tr') ? target : target.closest('tr');\n            checkbox = tr.find('input[type=\"checkbox\"]');\n\n            return checkbox.is(':disabled');\n        },\n\n        /**\n         * @param {*} grid\n         * @param {*} evt\n         * @return {*}\n         */\n        onGridRowClick: function (grid, evt) {\n            var tdElement = Event.findElement(evt, 'td'),\n                trElement = Event.findElement(evt, 'tr'),\n                checkbox, isInput, checked;\n\n            if (this.isDisabled(evt)) {\n                return false;\n            }\n\n            if (!$(tdElement).down('input')) {\n                if ($(tdElement).down('a') || $(tdElement).down('select')) {\n                    return; //eslint-disable-line\n                }\n\n                if (trElement.title && trElement.title.strip() != '#') { //eslint-disable-line eqeqeq\n                    this.getOldCallback('row_click')(grid, evt);\n                } else {\n                    checkbox = Element.select(trElement, 'input');\n                    isInput = Event.element(evt).tagName == 'input'; //eslint-disable-line eqeqeq\n                    checked = isInput ? checkbox[0].checked : !checkbox[0].checked;\n\n                    if (checked) { //eslint-disable-line max-depth\n                        this.checkedString = varienStringArray.add(checkbox[0].value, this.checkedString);\n                    } else {\n                        this.checkedString = varienStringArray.remove(checkbox[0].value, this.checkedString);\n                    }\n                    this.grid.setCheckboxChecked(checkbox[0], checked);\n                    this.updateCount();\n                }\n\n                return; //eslint-disable-line\n            }\n\n            if (Event.element(evt).isMassactionCheckbox) {\n                this.setCheckbox(Event.element(evt));\n            } else if (checkbox = this.findCheckbox(evt)) { //eslint-disable-line no-cond-assign\n                checkbox.checked = !checkbox.checked;\n                jQuery(checkbox).trigger('change');\n                this.setCheckbox(checkbox);\n            }\n        },\n\n        /**\n         * @param {Object} evt\n         */\n        onSelectChange: function (evt) {\n            var item = this.getSelectedItem();\n\n            if (item) {\n                this.formAdditional.update($(this.containerId + '-item-' + item.id + '-block').innerHTML);\n                evt.target.addClassName('_selected');\n            } else {\n                this.formAdditional.update('');\n                evt.target.removeClassName('_selected');\n            }\n            jQuery(this.form).data('validator').resetForm();\n        },\n\n        /**\n         * @param {Object} evt\n         * @return {*}\n         */\n        findCheckbox: function (evt) {\n            if (['a', 'input', 'select'].indexOf(Event.element(evt).tagName.toLowerCase()) !== -1) {\n                return false;\n            }\n            checkbox = false; //eslint-disable-line no-undef\n            Event.findElement(evt, 'tr').select('[data-role=\"select-row\"]').each(function (element) { //eslint-disable-line\n                if (element.isMassactionCheckbox) {\n                    checkbox = element; //eslint-disable-line no-undef\n                }\n            });\n\n            return checkbox; //eslint-disable-line no-undef\n        },\n\n        /**\n         * Init checkobox.\n         */\n        initCheckboxes: function () {\n            this.getCheckboxes().each(function (checkbox) { //eslint-disable-line no-extra-bind\n                checkbox.isMassactionCheckbox = true; //eslint-disable-line no-undef\n            });\n        },\n\n        /**\n         * Check checkbox.\n         */\n        checkCheckboxes: function () {\n            this.getCheckboxes().each(function (checkbox) {\n                checkbox.checked = varienStringArray.has(checkbox.value, this.checkedString);\n                jQuery(checkbox).trigger('change');\n            }.bind(this));\n        },\n\n        /**\n         * @return {Boolean}\n         */\n        selectAll: function () {\n            this.setCheckedValues(this.useSelectAll ? this.getGridIds() : this.getCheckboxesValuesAsString());\n            this.checkCheckboxes();\n            this.updateCount();\n            this.clearLastChecked();\n\n            return false;\n        },\n\n        /**\n         * @return {Boolean}\n         */\n        unselectAll: function () {\n            this.setCheckedValues('');\n            this.checkCheckboxes();\n            this.updateCount();\n            this.clearLastChecked();\n\n            return false;\n        },\n\n        /**\n         * @return {Boolean}\n         */\n        selectVisible: function () {\n            this.setCheckedValues(this.getCheckboxesValuesAsString());\n            this.checkCheckboxes();\n            this.updateCount();\n            this.clearLastChecked();\n\n            return false;\n        },\n\n        /**\n         * @return {Boolean}\n         */\n        unselectVisible: function () {\n            this.getCheckboxesValues().each(function (key) {\n                this.checkedString = varienStringArray.remove(key, this.checkedString);\n            }.bind(this));\n            this.checkCheckboxes();\n            this.updateCount();\n            this.clearLastChecked();\n\n            return false;\n        },\n\n        /**\n         * @param {*} values\n         */\n        setCheckedValues: function (values) {\n            this.checkedString = values;\n        },\n\n        /**\n         * @return {String}\n         */\n        getCheckedValues: function () {\n            return this.checkedString;\n        },\n\n        /**\n         * @return {Array}\n         */\n        getCheckboxes: function () {\n            var result = [];\n\n            this.grid.rows.each(function (row) {\n                var checkboxes = row.select('[data-role=\"select-row\"]');\n\n                checkboxes.each(function (checkbox) {\n                    result.push(checkbox);\n                });\n            });\n\n            return result;\n        },\n\n        /**\n         * @return {Array}\n         */\n        getCheckboxesValues: function () {\n            var result = [];\n\n            this.getCheckboxes().each(function (checkbox) { //eslint-disable-line no-extra-bind\n                result.push(checkbox.value);\n            });\n\n            return result;\n        },\n\n        /**\n         * @return {String}\n         */\n        getCheckboxesValuesAsString: function () {\n            return this.getCheckboxesValues().join(',');\n        },\n\n        /**\n         * @param {Object} checkbox\n         */\n        setCheckbox: function (checkbox) {\n            if (checkbox.checked) {\n                this.checkedString = varienStringArray.add(checkbox.value, this.checkedString);\n            } else {\n                this.checkedString = varienStringArray.remove(checkbox.value, this.checkedString);\n            }\n            this.updateCount();\n        },\n\n        /**\n         * Update count.\n         */\n        updateCount: function () {\n            var checkboxesTotal = varienStringArray.count(\n                this.useSelectAll ? this.getGridIds() : this.getCheckboxesValuesAsString()\n                ),\n                checkboxesChecked = varienStringArray.count(this.checkedString);\n\n            jQuery('[data-role=\"counter\"]', this.count).html(checkboxesChecked);\n\n            if (!checkboxesTotal) {\n                this.multiselect.addClassName('_disabled');\n            } else {\n                this.multiselect.removeClassName('_disabled');\n            }\n\n            if (checkboxesChecked == checkboxesTotal && checkboxesTotal != 0) { //eslint-disable-line eqeqeq\n                this.count.removeClassName('_empty');\n                this.multiselect.addClassName('_checked').removeClassName('_indeterminate');\n            } else if (checkboxesChecked == 0) { //eslint-disable-line eqeqeq\n                this.count.addClassName('_empty');\n                this.multiselect.removeClassName('_checked').removeClassName('_indeterminate');\n            } else {\n                this.count.removeClassName('_empty');\n                this.multiselect.addClassName('_checked').addClassName('_indeterminate');\n            }\n\n            if (!this.grid.reloadParams) {\n                this.grid.reloadParams = {};\n            }\n            this.grid.reloadParams[this.formFieldNameInternal] = this.checkedString;\n        },\n\n        /**\n         * @return {*}\n         */\n        getSelectedItem: function () {\n            if (this.getItem(this.select.value)) {\n                return this.getItem(this.select.value);\n            }\n\n            return false;\n        },\n\n        /**\n         * Apply.\n         */\n        apply: function () {\n            var item, fieldName;\n\n            if (varienStringArray.count(this.checkedString) == 0) { //eslint-disable-line eqeqeq\n                alert({\n                    content: this.errorText\n                });\n\n                return;\n            }\n\n            item = this.getSelectedItem();\n\n            if (!item) {\n                jQuery(this.form).valid();\n\n                return;\n            }\n            this.currentItem = item;\n            fieldName = item.field ? item.field : this.formFieldName;\n\n            if (this.currentItem.confirm) {\n                confirm({\n                    content: this.currentItem.confirm,\n                    actions: {\n                        confirm: this.onConfirm.bind(this, fieldName, item)\n                    }\n                });\n            } else {\n                this.onConfirm(fieldName, item);\n            }\n        },\n\n        /**\n         * @param {*} fieldName\n         * @param {*} item\n         */\n        onConfirm: function (fieldName, item) {\n            this.formHiddens.update('');\n            new Insertion.Bottom(this.formHiddens, this.fieldTemplate({\n                name: fieldName,\n                value: this.checkedString\n            }));\n            new Insertion.Bottom(this.formHiddens, this.fieldTemplate({\n                name: 'massaction_prepare_key',\n                value: fieldName\n            }));\n\n            if (!jQuery(this.form).valid()) {\n                return;\n            }\n\n            if (this.useAjax && item.url) {\n                new Ajax.Request(item.url, {\n                    'method': 'post',\n                    'parameters': this.form.serialize(true),\n                    'onComplete': this.onMassactionComplete.bind(this)\n                });\n            } else if (item.url) {\n                this.form.action = item.url;\n                this.form.submit();\n            }\n        },\n\n        /**\n         * @param {*} transport\n         */\n        onMassactionComplete: function (transport) {\n            var listener;\n\n            if (this.currentItem.complete) {\n                try {\n                    listener = this.getListener(this.currentItem.complete) || Prototype.emptyFunction;\n                    listener(this.grid, this, transport);\n                } catch (e) {\n                }\n            }\n        },\n\n        /**\n         * @param {*} strValue\n         * @return {Object}\n         */\n        getListener: function (strValue) {\n            return eval(strValue); //eslint-disable-line no-eval\n        },\n\n        /**\n         * Init mass select.\n         */\n        initMassSelect: function () {\n            $$('input[data-role=\"select-row\"]').each(function (element) {\n                element.observe('click', this.massSelect.bind(this));\n            }.bind(this));\n        },\n\n        /**\n         * Clear last checked.\n         */\n        clearLastChecked: function () {\n            this.lastChecked = {\n                left: false,\n                top: false,\n                checkbox: false\n            };\n        },\n\n        /**\n         * @param {Object} evt\n         */\n        massSelect: function (evt) {\n            var currentCheckbox, lastCheckbox, start, finish;\n\n            if (this.lastChecked.left !== false &&\n                this.lastChecked.top !== false &&\n                evt.button === 0 &&\n                evt.shiftKey === true\n            ) {\n                currentCheckbox = Event.element(evt);\n                lastCheckbox = this.lastChecked.checkbox;\n\n                if (lastCheckbox != currentCheckbox) { //eslint-disable-line eqeqeq\n                    start = this.getCheckboxOrder(lastCheckbox);\n                    finish = this.getCheckboxOrder(currentCheckbox);\n\n                    if (start !== false && finish !== false) { //eslint-disable-line max-depth\n                        this.selectCheckboxRange(\n                            Math.min(start, finish),\n                            Math.max(start, finish),\n                            currentCheckbox.checked\n                        );\n                    }\n                }\n            }\n\n            this.lastChecked = {\n                left: Event.element(evt).viewportOffset().left,\n                top: Event.element(evt).viewportOffset().top,\n                checkbox: Event.element(evt) // \"boundary\" checkbox\n            };\n        },\n\n        /**\n         * @param {*} curCheckbox\n         * @return {Boolean}\n         */\n        getCheckboxOrder: function (curCheckbox) {\n            var order = false;\n\n            this.getCheckboxes().each(function (checkbox, key) {\n                if (curCheckbox == checkbox) { //eslint-disable-line eqeqeq\n                    order = key;\n                }\n            });\n\n            return order;\n        },\n\n        /**\n         * @param {*} start\n         * @param {*} finish\n         * @param {*} isChecked\n         */\n        selectCheckboxRange: function (start, finish, isChecked) {\n            this.getCheckboxes().each(function (checkbox, key) {\n                if (key >= start && key <= finish) {\n                    checkbox.checked = isChecked;\n                    this.setCheckbox(checkbox);\n                }\n            }.bind(this));\n        }\n    };\n\n    window.varienGridAction = {\n        /**\n         * @param {Object} select\n         */\n        execute: function (select) {\n            var config, win;\n\n            if (!select.value || !select.value.isJSON()) {\n                return;\n            }\n\n            config = select.value.evalJSON();\n\n            if (config.confirm && !window.confirm(config.confirm)) { //eslint-disable-line no-alert\n                select.options[0].selected = true;\n\n                return;\n            }\n\n            if (config.popup) {\n                win = window.open(config.href, 'action_window', 'width=500,height=600,resizable=1,scrollbars=1');\n                win.focus();\n                select.options[0].selected = true;\n            } else {\n                setLocation(config.href);\n            }\n        }\n    };\n\n    window.varienStringArray = {\n        /**\n         * @param {*} str\n         * @param {*} haystack\n         * @return {*}\n         */\n        remove: function (str, haystack) {\n            haystack = ',' + haystack + ',';\n            haystack = haystack.replace(new RegExp(',' + str + ',', 'g'), ',');\n\n            return this.trimComma(haystack);\n        },\n\n        /**\n         * @param {*} str\n         * @param {*} haystack\n         * @return {*}\n         */\n        add: function (str, haystack) {\n            haystack = ',' + haystack + ',';\n\n            if (haystack.search(new RegExp(',' + str + ',', 'g'), haystack) === -1) {\n                haystack += str + ',';\n            }\n\n            return this.trimComma(haystack);\n        },\n\n        /**\n         * @param {*} str\n         * @param {*} haystack\n         * @return {Boolean}\n         */\n        has: function (str, haystack) {\n            haystack = ',' + haystack + ',';\n\n            if (haystack.search(new RegExp(',' + str + ',', 'g'), haystack) === -1) {\n                return false;\n            }\n\n            return true;\n        },\n\n        /**\n         * @param {*} haystack\n         * @return {*}\n         */\n        count: function (haystack) {\n            var match;\n\n            if (typeof haystack != 'string') {\n                return 0;\n            }\n\n            /* eslint-disable no-undef, no-cond-assign, eqeqeq */\n            if (match = haystack.match(new RegExp(',', 'g'))) {\n                return match.length + 1;\n            } else if (haystack.length != 0) {\n                return 1;\n            }\n\n            /* eslint-enable no-undef, no-cond-assign, eqeqeq */\n            return 0;\n        },\n\n        /**\n         * @param {*} haystack\n         * @param {*} fnc\n         */\n        each: function (haystack, fnc) {\n            var i;\n\n            haystack = haystack.split(',');\n\n            for (i = 0; i < haystack.length; i++) {\n                fnc(haystack[i]);\n            }\n        },\n\n        /**\n         * @param {String} string\n         * @return {String}\n         */\n        trimComma: function (string) {\n            string = string.replace(new RegExp('^(,+)', 'i'), '');\n            string = string.replace(new RegExp('(,+)$', 'i'), '');\n\n            return string;\n        }\n    };\n\n    window.serializerController = Class.create();\n    serializerController.prototype = {\n        oldCallbacks: {},\n\n        /**\n         * @param {*} hiddenDataHolder\n         * @param {*} predefinedData\n         * @param {*} inputsToManage\n         * @param {*} grid\n         * @param {*} reloadParamName\n         */\n        initialize: function (hiddenDataHolder, predefinedData, inputsToManage, grid, reloadParamName) {\n            //Grid inputs\n            this.tabIndex = 1000;\n            this.inputsToManage = inputsToManage;\n            this.multidimensionalMode = inputsToManage.length > 0;\n\n            //Hash with grid data\n            this.gridData = this.getGridDataHash(predefinedData);\n\n            //Hidden input data holder\n            this.hiddenDataHolder = $(hiddenDataHolder);\n            this.hiddenDataHolder.value = this.serializeObject();\n\n            this.grid = grid;\n\n            // Set old callbacks\n            this.setOldCallback('row_click', this.grid.rowClickCallback);\n            this.setOldCallback('init_row', this.grid.initRowCallback);\n            this.setOldCallback('checkbox_check', this.grid.checkboxCheckCallback);\n\n            //Grid\n            this.reloadParamName = reloadParamName;\n            this.grid.reloadParams = {};\n            this.grid.reloadParams[this.reloadParamName + '[]'] = this.getDataForReloadParam();\n            this.grid.rowClickCallback = this.rowClick.bind(this);\n            this.grid.initRowCallback = this.rowInit.bind(this);\n            this.grid.checkboxCheckCallback = this.registerData.bind(this);\n            this.grid.rows.each(this.eachRow.bind(this));\n        },\n\n        /**\n         * @param {String} callbackName\n         * @param {Function} callback\n         */\n        setOldCallback: function (callbackName, callback) {\n            this.oldCallbacks[callbackName] = callback;\n        },\n\n        /**\n         * @param {String} callbackName\n         * @return {Prototype.emptyFunction}\n         */\n        getOldCallback: function (callbackName) {\n            return this.oldCallbacks[callbackName] ? this.oldCallbacks[callbackName] : Prototype.emptyFunction;\n        },\n\n        /**\n         * @param {*} grid\n         * @param {*} element\n         * @param {*} checked\n         */\n        registerData: function (grid, element, checked) {\n            var i;\n\n            if (this.multidimensionalMode) {\n                if (checked) {\n                    /*eslint-disable max-depth*/\n                    if (element.inputElements) {\n                        this.gridData.set(element.value, {});\n\n                        for (i = 0; i < element.inputElements.length; i++) {\n                            element.inputElements[i].disabled = false;\n                            this.gridData.get(element.value)[element.inputElements[i].name] =\n                                element.inputElements[i].value;\n                        }\n                    }\n                } else {\n                    if (element.inputElements) {\n                        for (i = 0; i < element.inputElements.length; i++) {\n                            element.inputElements[i].disabled = true;\n                        }\n                    }\n                    this.gridData.unset(element.value);\n                }\n            } else {\n                if (checked) { //eslint-disable-line no-lonely-if\n                    this.gridData.set(element.value, element.value);\n                } else {\n                    this.gridData.unset(element.value);\n                }\n            }\n\n            this.hiddenDataHolder.value = this.serializeObject();\n            this.grid.reloadParams = {};\n            this.grid.reloadParams[this.reloadParamName + '[]'] = this.getDataForReloadParam();\n            this.getOldCallback('checkbox_check')(grid, element, checked);\n\n            /*eslint-enable max-depth*/\n        },\n\n        /**\n         * @param {*} row\n         */\n        eachRow: function (row) {\n            this.rowInit(this.grid, row);\n        },\n\n        /**\n         * @param {*} grid\n         * @param {*} event\n         */\n        rowClick: function (grid, event) {\n            var trElement = Event.findElement(event, 'tr'),\n                isInput = Event.element(event).tagName == 'INPUT', //eslint-disable-line eqeqeq\n                checkbox, checked;\n\n            if (trElement) {\n                checkbox = Element.select(trElement, 'input');\n\n                if (checkbox[0] && !checkbox[0].disabled) {\n                    checked = isInput ? checkbox[0].checked : !checkbox[0].checked;\n                    this.grid.setCheckboxChecked(checkbox[0], checked);\n                }\n            }\n            this.getOldCallback('row_click')(grid, event);\n        },\n\n        /**\n         * @param {*} event\n         */\n        inputChange: function (event) {\n            var element = Event.element(event);\n\n            if (element && element.checkboxElement && element.checkboxElement.checked) {\n                this.gridData.get(element.checkboxElement.value)[element.name] = element.value;\n                this.hiddenDataHolder.value = this.serializeObject();\n            }\n        },\n\n        /**\n         * @param {*} grid\n         * @param {*} row\n         */\n        rowInit: function (grid, row) {\n            var checkbox, selectors, inputs, i;\n\n            if (this.multidimensionalMode) {\n                checkbox = $(row).select('.checkbox')[0];\n                selectors = this.inputsToManage.map(function (name) {\n                    return ['input[name=\"' + name + '\"]', 'select[name=\"' + name + '\"]'];\n                });\n                inputs = $(row).select.apply($(row), selectors.flatten());\n\n                if (checkbox && inputs.length > 0) {\n                    checkbox.inputElements = inputs;\n\n                    /* eslint-disable max-depth */\n                    for (i = 0; i < inputs.length; i++) {\n                        inputs[i].checkboxElement = checkbox;\n\n                        if (this.gridData.get(checkbox.value) && this.gridData.get(checkbox.value)[inputs[i].name]) {\n                            inputs[i].value = this.gridData.get(checkbox.value)[inputs[i].name];\n                        }\n                        inputs[i].disabled = !checkbox.checked;\n                        inputs[i].tabIndex = this.tabIndex++;\n                        Event.observe(inputs[i], 'keyup', this.inputChange.bind(this));\n                        Event.observe(inputs[i], 'change', this.inputChange.bind(this));\n                    }\n                }\n            }\n\n            /* eslint-enable max-depth */\n            this.getOldCallback('init_row')(grid, row);\n        },\n\n        /**\n         * Stuff methods.\n         *\n         * @param {*} _object\n         * @return {*}\n         */\n        getGridDataHash: function (_object) {\n            return $H(this.multidimensionalMode ? _object : this.convertArrayToObject(_object));\n        },\n\n        /**\n         * @return {*}\n         */\n        getDataForReloadParam: function () {\n            return this.multidimensionalMode ? this.gridData.keys() : this.gridData.values();\n        },\n\n        /**\n         * @return {*}\n         */\n        serializeObject: function () {\n            var clone;\n\n            if (this.multidimensionalMode) {\n                clone = this.gridData.clone();\n                clone.each(function (pair) {\n                    clone.set(pair.key, Base64.encode(Object.toQueryString(pair.value)));\n                });\n\n                return clone.toQueryString();\n            }\n\n            return this.gridData.values().join('&');\n        },\n\n        /**\n         * @param {Array} _array\n         * @return {Object}\n         */\n        convertArrayToObject: function (_array) {\n            var _object = {},\n                i, l;\n\n            for (i = 0, l = _array.length; i < l; i++) {\n                _object[_array[i]] = _array[i];\n            }\n\n            return _object;\n        }\n    };\n});\n","mage/adminhtml/browser.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* global MediabrowserUtility, FORM_KEY, tinyMceEditors */\n/* eslint-disable strict */\ndefine([\n    'jquery',\n    'wysiwygAdapter',\n    'Magento_Ui/js/modal/prompt',\n    'Magento_Ui/js/modal/confirm',\n    'Magento_Ui/js/modal/alert',\n    'underscore',\n    'Magento_Ui/js/modal/modal',\n    'jquery/ui',\n    'jquery/jstree/jquery.jstree',\n    'mage/mage'\n], function ($, wysiwyg, prompt, confirm, alert, _) {\n    window.MediabrowserUtility = {\n        windowId: 'modal_dialog_message',\n        modalLoaded: false,\n        targetElementId: false,\n        pathId: '',\n\n        /**\n         * @return {Number}\n         */\n        getMaxZIndex: function () {\n            var max = 0,\n                cn = document.body.childNodes,\n                i, el, zIndex;\n\n            for (i = 0; i < cn.length; i++) {\n                el = cn[i];\n                zIndex = el.nodeType == 1 ? parseInt(el.style.zIndex, 10) || 0 : 0; //eslint-disable-line eqeqeq\n\n                if (zIndex < 10000) {\n                    max = Math.max(max, zIndex);\n                }\n            }\n\n            return max + 10;\n        },\n\n        /**\n         * @param {*} url\n         * @param {*} width\n         * @param {*} height\n         * @param {*} title\n         * @param {Object} options\n         */\n        openDialog: function (url, width, height, title, options) {\n            var windowId = this.windowId,\n                content = '<div class=\"popup-window\" id=\"' + windowId + '\"></div>';\n\n            if (this.modalLoaded) {\n\n                if (!_.isUndefined(options)) {\n                    this.modal.modal('option', 'closed', options.closed);\n                }\n\n                this.modal.modal('openModal');\n                this.setTargetElementId(options, url);\n                this.setPathId(url);\n                $(window).trigger('reload.MediaGallery');\n\n                return;\n            }\n\n            this.modal = $(content).modal($.extend({\n                title:  title || 'Insert File...',\n                modalClass: 'magento',\n                type: 'slide',\n                buttons: []\n            }, options));\n\n            this.modal.modal('openModal');\n\n            $.ajax({\n                url: url,\n                type: 'get',\n                context: $(this),\n                showLoader: true\n\n            }).done(function (data) {\n                this.modal.html(data).trigger('contentUpdated');\n                this.modalLoaded = true;\n                this.setTargetElementId(options, url);\n                this.setPathId(url);\n            }.bind(this));\n\n        },\n\n        /**\n         * Setter for endcoded path id\n         */\n        setPathId: function (url) {\n            this.pathId = url.match(/(&|\\/|%26)current_tree_path(=|\\/)([\\s\\S].*?)(\\/|$)/)[3];\n        },\n\n        /**\n         * Setter for targetElementId property\n         *\n         * @param {Object} options\n         * @param {String} url\n         */\n        setTargetElementId: function (options, url) {\n            this.targetElementId = options && options.targetElementId ?\n                options.targetElementId\n                : url.match(/\\/target_element_id\\/([\\s\\S].*?)\\//)[1];\n        },\n\n        /**\n         * Close dialog.\n         */\n        closeDialog: function () {\n            this.modal.modal('closeModal');\n        }\n    };\n\n    $.widget('mage.mediabrowser', {\n        eventPrefix: 'mediabrowser',\n        options: {\n            contentsUrl: null,\n            onInsertUrl: null,\n            newFolderUrl: null,\n            deleteFolderUrl: null,\n            deleteFilesUrl: null,\n            headerText: null,\n            tree: null,\n            currentNode: null,\n            storeId: null,\n            showBreadcrumbs: null,\n            hidden: 'no-display'\n        },\n\n        /**\n         * Proxy creation\n         * @protected\n         */\n        _create: function () {\n            this._on({\n                'click [data-row=file]': 'selectFile',\n                'dblclick [data-row=file]': 'insert',\n                'click #new_folder': 'newFolder',\n                'click #delete_folder': 'deleteFolder',\n                'click #delete_files': 'deleteFiles',\n                'click #insert_files': 'insertSelectedFiles',\n                'fileuploaddone': '_uploadDone',\n                'click [data-row=breadcrumb]': 'selectFolder'\n            });\n\n            $(window).on('reload.MediaGallery', $.proxy(this.reload, this));\n            this.activeNode = null;\n            //tree dont use event bubbling\n            this.tree = this.element.find('[data-role=tree]');\n            this.tree.on('select_node.jstree', $.proxy(this._selectNode, this));\n        },\n\n        /**\n         * @param {jQuery.Event} event\n         * @param {Object} data\n         * @private\n         */\n        _selectNode: function (event, data) {\n            var node = data.rslt.obj.data('node');\n\n            this.activeNode = node;\n            this.element.find('#delete_files, #insert_files').toggleClass(this.options.hidden, true);\n            this.element.find('#contents').toggleClass(this.options.hidden, false);\n            this.element.find('#delete_folder')\n                .toggleClass(this.options.hidden, node.id == 'root'); //eslint-disable-line eqeqeq\n            this.element.find('#content_header_text')\n                .html(node.id == 'root' ? this.headerText : node.text); //eslint-disable-line eqeqeq\n\n            this.drawBreadcrumbs(data);\n            this.loadFileList(node);\n        },\n\n        /**\n         * @return {*}\n         */\n        reload: function (uploaded) {\n            return this.loadFileList(this.activeNode, uploaded);\n        },\n\n        /**\n         * @param {Object} element\n         * @param {*} value\n         */\n        insertAtCursor: function (element, value) {\n            var sel, startPos, endPos, scrollTop;\n\n            if ('selection' in document) {\n                //For browsers like Internet Explorer\n                element.focus();\n                sel = document.selection.createRange();\n                sel.text = value;\n                element.focus();\n            } else if (element.selectionStart || element.selectionStart == '0') { //eslint-disable-line eqeqeq\n                //For browsers like Firefox and Webkit based\n                startPos = element.selectionStart;\n                endPos = element.selectionEnd;\n                scrollTop = element.scrollTop;\n                element.value = element.value.substring(0, startPos) + value +\n                    element.value.substring(startPos, endPos) + element.value.substring(endPos, element.value.length);\n                element.focus();\n                element.selectionStart = startPos + value.length;\n                element.selectionEnd = startPos + value.length + element.value.substring(startPos, endPos).length;\n                element.scrollTop = scrollTop;\n            } else {\n                element.value += value;\n                element.focus();\n            }\n        },\n\n        /**\n         * @param {Object} node\n         */\n        loadFileList: function (node, uploaded) {\n            var contentBlock = this.element.find('#contents');\n\n            return $.ajax({\n                url: this.options.contentsUrl,\n                type: 'GET',\n                dataType: 'html',\n                data: {\n                    'form_key': FORM_KEY,\n                    node: node.id\n                },\n                context: contentBlock,\n                showLoader: true\n            }).done(function (data) {\n                contentBlock.html(data).trigger('contentUpdated');\n\n                if (uploaded) {\n                    contentBlock.find('.filecnt:last').click();\n                }\n            });\n        },\n\n        /**\n         * @param {jQuery.Event} event\n         */\n        selectFolder: function (event) {\n            this.element.find('[data-id=\"' + $(event.currentTarget).data('node').id + '\"]>a').click();\n        },\n\n        /**\n         * Insert selected files.\n         */\n        insertSelectedFiles: function () {\n            this.element.find('[data-row=file].selected').trigger('dblclick');\n        },\n\n        /**\n         * @param {jQuery.Event} event\n         */\n        selectFile: function (event) {\n            var fileRow = $(event.currentTarget);\n\n            fileRow.toggleClass('selected');\n            this.element.find('[data-row=file]').not(fileRow).removeClass('selected');\n            this.element.find('#delete_files, #insert_files')\n                .toggleClass(this.options.hidden, !fileRow.is('.selected'));\n            fileRow.trigger('selectfile');\n        },\n\n        /**\n         * @private\n         */\n        _uploadDone: function () {\n            this.element.find('.file-row').remove();\n            this.reload(true);\n        },\n\n        /**\n         * @param {jQuery.Event} event\n         * @return {Boolean}\n         */\n        insert: function (event) {\n            var fileRow = $(event.currentTarget),\n                targetEl;\n\n            if (!fileRow.prop('id')) {\n                return false;\n            }\n            targetEl = this.getTargetElement();\n\n            if (!targetEl.length) {\n                MediabrowserUtility.closeDialog();\n                throw 'Target element not found for content update';\n            }\n\n            return $.ajax({\n                url: this.options.onInsertUrl,\n                data: {\n                    filename: fileRow.attr('id'),\n                    node: this.activeNode.id,\n                    store: this.options.storeId,\n                    'as_is': targetEl.is('textarea') ? 1 : 0,\n                    'force_static_path': targetEl.data('force_static_path') ? 1 : 0,\n                    'form_key': FORM_KEY\n                },\n                context: this,\n                showLoader: true\n            }).done($.proxy(function (data) {\n                if (targetEl.is('textarea')) {\n                    this.insertAtCursor(targetEl.get(0), data);\n                } else {\n                    targetEl\n                        .val(data)\n                        .data('size', fileRow.data('size'))\n                        .data('mime-type', fileRow.data('mime-type'))\n                        .trigger('change');\n                }\n                MediabrowserUtility.closeDialog();\n                targetEl.focus();\n                jQuery(targetEl).change();\n            }, this));\n        },\n\n        /**\n         * Find document target element in next order:\n         *  in acive file browser opener:\n         *  - input field with ID: \"src\" in opener window\n         *  - input field with ID: \"href\" in opener window\n         *  in document:\n         *  - element with target ID\n         *\n         * return {HTMLElement|null}\n         */\n        getTargetElement: function () {\n            var opener,\n                targetElementId,\n                mediaBrowser = window.MediabrowserUtility;\n\n            if (!_.isUndefined(wysiwyg) && wysiwyg.get(mediaBrowser.targetElementId)) {\n                opener = this.getMediaBrowserOpener() || window;\n                targetElementId = tinyMceEditors.get(mediaBrowser.targetElementId).getMediaBrowserTargetElementId();\n\n                return $(opener.document.getElementById(targetElementId));\n            }\n\n            return $('#' + mediaBrowser.targetElementId);\n        },\n\n        /**\n         * Return opener Window object if it exists, not closed and editor is active\n         *\n         * return {Object|null}\n         */\n        getMediaBrowserOpener: function () {\n            var targetElementId = window.MediabrowserUtility.targetElementId;\n\n            if (!_.isUndefined(wysiwyg) && wysiwyg.get(targetElementId) && !_.isUndefined(tinyMceEditors) &&\n                !tinyMceEditors.get(targetElementId).getMediaBrowserOpener().closed\n            ) {\n                return tinyMceEditors.get(targetElementId).getMediaBrowserOpener();\n            }\n\n            return null;\n        },\n\n        /**\n         * New folder.\n         */\n        newFolder: function () {\n            var self = this;\n\n            prompt({\n                title: this.options.newFolderPrompt,\n                actions: {\n                    /**\n                     * @param {*} folderName\n                     */\n                    confirm: function (folderName) {\n                        $.ajax({\n                            url: self.options.newFolderUrl,\n                            dataType: 'json',\n                            data: {\n                                name: folderName,\n                                node: self.activeNode.id,\n                                store: self.options.storeId,\n                                'form_key': FORM_KEY\n                            },\n                            context: self.element,\n                            showLoader: true\n                        }).done($.proxy(function (data) {\n                            if (data.error) {\n                                alert({\n                                    content: data.message\n                                });\n                            } else {\n                                self.tree.jstree(\n                                    'refresh',\n                                    self.element.find('[data-id=\"' + self.activeNode.id + '\"]')\n                                );\n                            }\n                        }, this));\n\n                        return true;\n                    }\n                }\n            });\n        },\n\n        /**\n         * Delete folder.\n         */\n        deleteFolder: function () {\n            var self = this;\n\n            confirm({\n                content: this.options.deleteFolderConfirmationMessage,\n                actions: {\n                    /**\n                     * Confirm.\n                     */\n                    confirm: function () {\n                        return $.ajax({\n                            url: self.options.deleteFolderUrl,\n                            dataType: 'json',\n                            data: {\n                                node: self.activeNode.id,\n                                store: self.options.storeId,\n                                'form_key': FORM_KEY\n                            },\n                            context: self.element,\n                            showLoader: true\n                        }).done($.proxy(function () {\n                            self.tree.jstree('refresh', self.activeNode.id);\n                            self.reload();\n                            $(window).trigger('fileDeleted.mediabrowser', {\n                                ids: self.activeNode.id\n                            });\n\n                        }, this));\n                    },\n\n                    /**\n                     * @return {Boolean}\n                     */\n                    cancel: function () {\n                        return false;\n                    }\n                }\n            });\n        },\n\n        /**\n         * Delete files.\n         */\n        deleteFiles: function () {\n            var self = this;\n\n            confirm({\n                content: this.options.deleteFileConfirmationMessage,\n                actions: {\n                    /**\n                     * Confirm.\n                     */\n                    confirm: function () {\n                        var selectedFiles = self.element.find('[data-row=file].selected'),\n                            ids = selectedFiles.map(function () {\n                                return $(this).attr('id');\n                            }).toArray();\n\n                        return $.ajax({\n                            url: self.options.deleteFilesUrl,\n                            data: {\n                                files: ids,\n                                store: self.options.storeId,\n                                'form_key': FORM_KEY\n                            },\n                            context: self.element,\n                            showLoader: true\n                        }).done($.proxy(function () {\n                            self.reload();\n                            self.element.find('#delete_files, #insert_files').toggleClass(self.options.hidden, true);\n\n                            $(window).trigger('fileDeleted.mediabrowser', {\n                                ids: ids\n                            });\n                        }, this));\n                    },\n\n                    /**\n                     * @return {Boolean}\n                     */\n                    cancel: function () {\n                        return false;\n                    }\n                }\n            });\n        },\n\n        /**\n         * @param {Object} data\n         */\n        drawBreadcrumbs: function (data) {\n            var node, breadcrumbs;\n\n            if (this.element.find('#breadcrumbs').length) {\n                this.element.find('#breadcrumbs').remove();\n            }\n            node = data.rslt.obj.data('node');\n\n            if (node.id == 'root') { //eslint-disable-line eqeqeq\n                return;\n            }\n            breadcrumbs = $('<ul class=\"breadcrumbs\" id=\"breadcrumbs\" />');\n            $(data.rslt.obj.parents('[data-id]').get().reverse()).add(data.rslt.obj).each(function (index, element) {\n                var nodeData = $(element).data('node');\n\n                if (index > 0) {\n                    breadcrumbs.append($('<li>\\/</li>')); //eslint-disable-line\n                }\n                breadcrumbs.append($('<li />')\n                    .data('node', nodeData).attr('data-row', 'breadcrumb').text(nodeData.text));\n\n            });\n\n            breadcrumbs.insertAfter(this.element.find('#content_header'));\n        }\n    });\n\n    return window.MediabrowserUtility;\n});\n"}
}});
